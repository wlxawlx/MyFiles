# 需要修改的协议

   原来有这些协议，单需要调整

#### 门诊预约(OR030101)

***注：增加请求参数，HIS中保存

##### 请求报文

| 参数项        | 参数名  | 类型   | 必选   | 描述                      |
| ---------- | ---- | ---- | ---- | ----------------------- |
| sourcetype | 预约类型 | int  | 是    | 号源类型,9：云医院预约 , 云医院预约必须传 |

# 新增协议

####  

#### 获取联系人列表 （FY030101）yyy_lianxiren

```
新增协议
```

##### 请求报文

| 参数项          | 参数名      | 类型         | 必选    | 描述                  |
| ------------ | -------- | ---------- | ----- | ------------------- |
| openid       | 用户标识     | string     | 是     | 支付宝USERID或微信OPENID  |
| **usertype** | **用户类型** | **number** | **是** | **1：支付宝用户  2：微信用户** |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项      | 参数名      | 类型         | 必选    | 描述         |
| -------- | -------- | ---------- | ----- | ---------- |
| brid     | 病人id     | string     | 是     |            |
| name     | 联系人姓名    | string     | 是     |            |
| label    | 联系标签     | string     | 是     | 用户和病人之间的关系 |
| **j**zkh | **就诊卡号** | **string** | **否** |            |

#### 获取病人基本信息（FY030102）yyy_shoufeiryxx

```
新增协议
```

##### 请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| id   | id   | string | 是    | 缴费：jzid,退费：orderno |
| type | 类型   | string | 是    | 缴费:jf，退费:tf        |

##### 回复报文，参数如下

| 参数项   | 参数名   | 类型     | 必选   | 描述         |
| ----- | ----- | ------ | ---- | ---------- |
| brid  | 病人id  | string | 是    |            |
| name  | 联系人姓名 | string | 是    |            |
| label | 联系人标签 | string | 是    | 用户和病人之间的关系 |
| jzkh  | 就诊卡号  | string | 是    |            |
| sfz   | 身份证   | string | 是    |            |

### 退费清单处方单信息（FY030312）yyy_tuifei_qd

请求报文

| 参数项     | 参数名   | 类型     | 必选   | 描述   |
| ------- | ----- | ------ | ---- | ---- |
| orderno | 医院订单号 | string | 是    |      |

回复报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| fpxmid | 发票项目id | string | 是    |      |
| fpxmmc | 发票项目名称 | string | 是    |      |
| fpxmje | 发票项目金额 | string | 是    |      |

#### 缴费时获取处方单信息（FY030103）yyy_keshouflb_fpxmid

```
新增协议
```

##### 请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jzid | 就诊id | string | 是    |      |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| fpxmid | 发票项目id | string | 是    |      |
| fpxmmc | 发票项目名称 | string | 是    |      |
| fpxmje | 发票项目金额 | string | 是    |      |

#### 缴费时获取处方单药品详情信息（FY030201）yyy_keshouflb_sfxmmx
```
新增协议
```

##### 请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| fpxmid | 发票项目id | string | 是    |      |
| jzid   | 就诊id   | string | 是    |      |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| sfxmmc | 收费项目名称 | string | 是    |      |
| sfxmsl | 收费项目数量 | string | 是    |      |
| sfxmje | 收费项目金额 | string | 是    | 单位元  |

### 可退费明细（FY030313）yyy_tuifei_mx

请求报文

| 参数项     | 参数名    | 类型     | 必选   | 描述   |
| ------- | ------ | ------ | ---- | ---- |
| fpxmid  | 发票项目id | string | 是    |      |
| orderno | 医院订单号  | string | 是    |      |

回复报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| sfxmmc | 收费项目名称 | string | 是    |      |
| sfxmsl | 收费项目数量 | string | 是    |      |
| sfxmje | 收费项目金额 | string | 是    | 单位元  |

#### 获取默认收件人信息（FY030301）yyy_shouhuodzxx
```
新增协议
```

##### 请求报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| ------ | ---- | ------ | ---- | ------------------ |
| openid | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |

##### 回复报文，参数如下

| 参数项    | 参数名    | 类型     | 必选   | 描述       |
| ------ | ------ | ------ | ---- | -------- |
| sjrxm  | 收件人姓名  | string | 是    |          |
| lxdh   | 联系电话   | string | 是    |          |
| sjdz   | 收件地址   | string | 是    | 收件人的快递地址 |
| shdzid | 收获地址id | string | 是    |          |



#### 医生信息列表_按医生代码查(DO010104)

##### 请求报文

| 参数项       | 参数名    | 类型     | 必选   | 描述                    |
| --------- | ------ | ------ | ---- | --------------------- |
| namepy    | 医生姓名拼音 | string | 是    | 可以是所有字的拼音首字母，也可以是一部分的 |
| pageindex | 访问页码   | string | 否    | 从1开始计，默认1             |
| pagesize  | 每页行数   | string | 否    | 默认20                  |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述      |
| ---------- | ---- | ------ | ---- | ------- |
| code       | 医生代码 | string | 是    |         |
| name       | 医生姓名 | string | 是    |         |
| sex        | 医生性别 | string | 否    | 0：女；1：男 |
| pictureurl | 医生照片 | string | 否    |         |
| level      | 医生等级 | string | 否    | 如“主任医师” |
| recommend  | 医生介绍 | string | 是    |         |
| adept      | 医生擅长 | string | 是    |         |
| departcode | 科室代码 | string | 否    |         |
| departname | 科室名称 | string | 否    |         |
| yysl       | 预约数量 | string | 是    | 剩余号数    |

#### 获取收件人信息（FY030302）yyy_shouhuodzxx

```
新增协议
```

变更：请求报文shdzid,回复报文mrbz

##### 请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述                 |
| ------ | ------ | ------ | ---- | ------------------ |
| openid | 用户标识   | string | 是    | 支付宝USERID或微信OPENID |
| shdzid | 收货地址id | string | 否    |                    |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项    | 参数名    | 类型     | 必选   | 描述         |
| ------ | ------ | ------ | ---- | ---------- |
| sjrxm  | 收件人姓名  | string | 是    |            |
| lxdh   | 联系电话   | string | 是    |            |
| sjdz   | 收件地址   | string | 是    | 收件人的快递地址   |
| shdzid | 收获地址id | string | 是    |            |
| mrbz   | 默认标志   | string | 是    | 是：yes，否：no |

#### 预提交缴费信息（FY030303）联众webservice接口
```
新增协议
```

##### 请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jzid | 就诊id | string | 是    |      |

##### 回复报文，参数如下

| 参数项    | 参数名    | 类型     | 必选   | 描述                 |
| ------ | ------ | ------ | ---- | ------------------ |
| msg    | 结算状态   | string | 是    | 成功：success，失败：fail |
| jfje   | 缴费金额   | string | 是    | 缴费总额               |
| ybkcje | 医保扣除金额 | string | 是    | 医保扣除金额             |
| ynzhje | 院内账户金额 | string | 是    | 医院账户金额             |
| xzfje  | 需支付金额  | string | 是    | 支付宝实际需要支付金额        |

### 确认退费-His（FY030305）联众webservice接口

请求报文

| 参数项     | 参数名    | 类型     | 必选   | 描述             |
| ------- | ------ | ------ | ---- | -------------- |
| orderno | 支付宝订单号 | string | 是    | 被退费那笔记录的支付宝订单号 |
| batchno |        |        |      |                |

回复报文

| 参数项   | 参数名   | 类型     | 必选   | 描述                 |
| ----- | ----- | ------ | ---- | ------------------ |
| msg   | 退费状态  | string | 是    | 成功：success，失败：fail |
| zffs  | 支付方式  | string | 是    | 微信支付还是支付宝支付        |
| xzfje | 需支付金额 | string | 是    |                    |

#### 确认缴费-His（FY030306）联众webservice接口

```
新增协议
```

##### 请求报文

| 参数项         | 参数名    | 类型     | 必选   | 描述   |
| ----------- | ------ | ------ | ---- | ---- |
| jzid        | 就诊id   | string | 是    |      |
| shdzid      | 收货地址id | string | 否    |      |
| orderno     | 订单号    | string | 是    |      |
| paymenttype | 支付类型   | string | 是    |      |
| xzfje       | 金额     | string | 是    |      |
| qjfs        | 取件方式   | string | 是    |      |

##### 回复报文，参数如下

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 缴费状态 | string | 是    | 成功：success，失败：fail |

### 预约列表(OR030202)yyy_yueyue

##### 请求报文

| 参数项        | 参数名  | 类型     | 必选   | 描述                                       |
| ---------- | ---- | ------ | ---- | ---------------------------------------- |
| openid     | 用户标识 | string | 是    | 支付宝USERID或微信OPENID                       |
| status     | 预约状态 | string | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已失效（包含3:已取消和4:已失约）  **改动** |
| sourcetype | 来源   | string | 否    | 云医院有则传入9，无的话默认为8（服务窗）                    |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项             | 参数名    | 类型     | 必选   | 描述                                       |
| --------------- | ------ | ------ | ---- | ---------------------------------------- |
| preengageseq    | 预约流水号  | string | 是    | 预约流水号                                    |
| preengagedate   | 预约日期   | string | 是    | 格式：yyyy-MM-dd                            |
| preengagetime   | 预约时间   | string | 是    | 格式：HH:mm                                 |
| departcode      | 预约科室   | string | 否    | 预约的二科室代码                                 |
| departname      | 预约科室   | string | 是    | 预约的二级科室                                  |
| doctorcode      | 预约医生   | string | 否    | 预约医生的编码                                  |
| doctorname      | 预约医生   | string | 是    | 预约医生的姓名                                  |
| patientname     | 病人姓名   | string | 是    | 给哪个病人预约的                                 |
| patientidcardno | 病人身份证号 | string | 否    | 病人身份证号                                   |
| patientphone    | 病人电话   | string | 否    | 病人联系电话                                   |
| patientaddress  | 病人地址   | string | 否    | 病人联系地址                                   |
| preengageno     | 分诊序号   | string | 是    | 门诊第几个号                                   |
| place           | 就诊地点   | string | 否    | 就诊地点                                     |
| status          | 状态     | String | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已取消:4：已失约  **改动** |
| fee             | 挂号费    | string | 是    |                                          |
| registerno      | 挂号id   | String | 是    | 挂号id **新增**                              |
| orderno         | 订单编号   | string | 是    | 订单编号**新增**                               |

### 预约详情接口(OR030203)yyy_yueyue

##### 请求报文

| 参数项          | 参数名   | 类型     | 必选   | 描述    |
| ------------ | ----- | ------ | ---- | ----- |
| preengageseq | 预约流水号 | string | 是    | 预约流水号 |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项             | 参数名    | 类型     | 必选   | 描述                                       |
| --------------- | ------ | ------ | ---- | ---------------------------------------- |
| preengageseq    | 预约流水号  | string | 是    | 预约流水号                                    |
| preengagedate   | 预约日期   | string | 是    | 格式：yyyy-MM-dd                            |
| preengagetime   | 预约时间   | string | 是    | 格式：HH:mm                                 |
| departcode      | 预约科室   | string | 否    | 预约的二科室代码                                 |
| departname      | 预约科室   | string | 是    | 预约的二级科室                                  |
| doctorcode      | 预约医生   | string | 否    | 预约医生的编码                                  |
| doctorname      | 预约医生   | string | 是    | 预约医生的姓名                                  |
| patientid       | 病人ID   | string | 是    | 已绑卡相关的病人ID                               |
| cardno          | 就诊卡号   | string | 是    |                                          |
| patientname     | 病人姓名   | string | 是    | 给哪个病人预约的                                 |
| patientidcardno | 病人身份证号 | string | 否    | 病人身份证号                                   |
| patientphone    | 病人电话   | string | 否    | 病人联系电话                                   |
| patientaddress  | 病人地址   | string | 否    | 病人联系地址                                   |
| preengageno     | 分诊序号   | string | 是    | 门诊第几个号                                   |
| place           | 就诊地点   | string | 否    | 就诊地点                                     |
| status          | 状态     | String | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已取消:4：已失约  **改动** |
| fee             | 挂号费    | string | 是    |                                          |
| registerno      | 挂号id   | String | 是    | 挂号id **新增**                              |
| orderno         | 订单编号   | string | 是    | 订单编号**新增**                               |

### 根据预约流水号进行预挂号获取支付金额(OR030204)联众webservice接口

### 请求报文

| 参数项          | 参数名   | 类型     | 必选   | 描述   |
| ------------ | ----- | ------ | ---- | ---- |
| preengageseq | 预约流水号 | string | 是    |      |

##### 回复报文

| 参数项        | 参数名    | 类型     | 必选   | 描述                 |
| ---------- | ------ | ------ | ---- | ------------------ |
| msg        | 交易状态   | string | 是    | 成功：success，失败：fail |
| xzfje      | 需支付金额  | string | 是    |                    |
| countmoney | 医院账户金额 | string | 是    |                    |
| totalmoney | 总金额    | string | 是    |                    |

### 根据医院订单号进行挂号落地(OR030205)联众webservice接口

### 请求报文

| 参数项          | 参数名   | 类型     | 必选   | 描述   |
| ------------ | ----- | ------ | ---- | ---- |
| preengageseq | 预约流水号 | string | 是    |      |
| orderno      | 订单编号  | string | 是    |      |
| paymenttype  | 支付类型  | string | 是    |      |
| xzfje        | 金额    | string | 是    |      |

##### 回复报文

| 参数项  | 参数名    | 类型     | 必选   | 描述                 |
| ---- | ------ | ------ | ---- | ------------------ |
| msg  | 是否成功标志 | string | 是    | 成功：success，失败：fail |

### 根据挂号id进行(取消已付款预约记录)退号(OR030206)

### 请求报文

| 参数项        | 参数名         | 类型     | 必选   | 描述   |
| ---------- | ----------- | ------ | ---- | ---- |
| registerid | 挂号id        | string | 是    |      |
| batchno    | 批次号（订单反交易号） |        |      |      |

##### 回复报文

| 参数项       | 参数名    | 类型     | 必选   | 描述                 |
| --------- | ------ | ------ | ---- | ------------------ |
| msg       | 是否成功标志 | string | 是    | 成功：success，失败：fail |
| orderno   | 订单号    | string | 是    | 退款订单号正交易           |
| xzfje     | 金额     | string | 是    |                    |
| paymethod | 支付方式   | string | 是    |                    |



### 根据预约流水号返回订单号(PO010102) →根据支付宝医院订单号返回支付宝交易号            

###请求报文
| 参数项                        | 参数名   | 类型     | 必选   | 描述   |
| -------------------------- | ----- | ------ | ---- | ---- |
| orderno(ZFB_SHTZ TRAGE_NO) | 医院订单号 | string | 是    |      |

##### 回复报文
| 参数项                           | 参数名     | 类型     | 必选   | 描述   |
| ----------------------------- | ------- | ------ | ---- | ---- |
| tradeno(数据库表字段PAYMENTTRADENO) | 支付宝交易号  | string | 是    |      |
| batchno                       | 退支付宝批次号 | string | 是    |      |
| xzfje(ZFB_SHTZ MONEY)         | 支付宝支付金额 | string | 是    |      |


### 可缴费列表（FY030307）yyy_keshouflb_jzid

请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| brid | 病人id | string | 是    |      |

回复报文

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| jzid | 就诊id   | string | 是    |      |
| zzd  | 主诊断    | string | 是    |      |
| rq   | 就诊日期   | string | 是    |      |
| ys   | 就诊医生姓名 | string | 是    |      |



### 可退费列表（FY030311）YYY_YISHOUFLB

请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| brid | 病人id | string | 是    |      |

回复报文

| 参数项     | 参数名   | 类型     | 必选   | 描述   |
| ------- | ----- | ------ | ---- | ---- |
| orderno | 医院订单号 | string | 是    |      |
| zzd     | 主诊断   | string | 是    |      |
| rq      | 就诊日期  | string | 是    |      |
| je      | 总金额   | string | 是    |      |

备注：本来这里想直接不显示不符合退费条件的费用，但是这样的话病人只会看到没有可退费记录而不知道为什么不能退费。所以这里改下，改成显示云医院已收费的记录。然后增加个接口，后面选中记录去退的时候，增加个判断是否可退费，返回判断结果。**

判断是否可退费，具体是执行下面这个存储过程(测试库在zfb用户下，正式库在YYJK用户下)

"PRC_MZ_SHOUFEIFHPD" (Prm_orderno  In  Varchar2,

​						Prm_Appcode    Out Number,

​						Prm_Databuffer Out Varchar2)		

Prm_Appcode返回0表示可退，返回1表示不可退，原因为Prm_Databuffer	  的内容。



### 更新订单状态（FY030308）

请求报文

| 参数项     | 参数名  | 类型     | 必选   | 描述   |
| ------- | ---- | ------ | ---- | ---- |
| orderno | 订单号  | string | 是    |      |
| status  | 状态   | string | 是    |      |

回复报文

| 参数项  | 参数名      | 类型     | 必选   | 描述                 |
| ---- | -------- | ------ | ---- | ------------------ |
| msg  | 更新订单状态结果 | string | 是    | 成功：success，失败：fail |



### 获取病人信息（UI020202）yyy_bingrenxx_im

请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| brid | 病人代码 | string | 是    |      |

回复报文

| 参数项    | 参数名    | 类型     | 必选   | 描述            |
| ------ | ------ | ------ | ---- | ------------- |
| brid   | 病人代码   | string | 是    |               |
| name   | 病人姓名   | string | 是    |               |
| sex    | 性别     | string | 是    | 格式：男，女        |
| age    | 年龄     | string | 是    |               |
| zjjzsj | 最近就诊时间 | string | 是    | 格式：yyyy-MM-dd |



### 获取缴费病人信息（FY030309）

### todo: 这个要等a_yl_dd字段增加后才能写
变更：增加qjfs

请求报文

| 参数项     | 参数名  | 类型     | 必选   | 描述   |
| ------- | ---- | ------ | ---- | ---- |
| orderno | 订单号  | string | 是    |      |

回复报文

| 参数项         | 参数名    | 类型     | 必选   | 描述        |
| ----------- | ------ | ------ | ---- | --------- |
| shdzid      | 收货地址id | string | 否    |           |
| jzid        | 就诊id   | string | 是    |           |
| paymenttype | 支付方式   | string | 是    | 支付宝或微信    |
| qjfs        | 取件方式   | string | 是    | 1：快递；2：自取 |



### 线程获取缴费表的订单状态为0的订单（FY030314）

```
新增协议
```

请求报文（无）

回复报文

| 参数项     | 参数名    | 类型     | 必选   | 描述   |
| ------- | ------ | ------ | ---- | ---- |
| orderno | 云医院订单号 | string | 是    |      |
| tradeno | 支付宝交易号 | string | 是    |      |



### 线程获取缴费表的订单状态为1的订单（FY030315）

```
新增协议
```

请求报文（无）

回复报文

| 参数项       | 参数名      | 类型     | 必选   | 描述                 |
| --------- | -------- | ------ | ---- | ------------------ |
| hisstatus | HIS端成功标志 | string | 是    | 成功：success，失败：fail |
| orderno   | 云医院订单号   | string | 是    |                    |



### 线程获取退费表的订单状态为0的订单（FY030316）

```
新增协议
```

请求报文（无）

回复报文

| 参数项       | 参数名      | 类型     | 必选   | 描述                 |
| --------- | -------- | ------ | ---- | ------------------ |
| hisstatus | HIS端成功标志 | string | 是    | 成功：success，失败：fail |
| batchno   | 批次号      | string | 是    |                    |



### 更新退费表的订单状态（FY030317）|包含插入商户退费通知表功能

```
新增协议
```

请求报文

| 参数项               | 参数名     | 类型     | 必选   | 描述      |
| ----------------- | ------- | ------ | ---- | ------- |
| batchno           | 批次号     | string | 是    |         |
| status            | 订单状态    | string | 是    | HIS成功：1 |
| notifytime        | 支付宝通知时间 | string | 否    |         |
| successnum        | 成功笔数    | string | 否    |         |
| paymentparameters | 交易数据    | string | 是    |         |
| paymentbatchno    | 支付宝交易号  | string | 是    |         |
| money             | 支付宝交易金额 | string | 是    |         |

回复报文

| 参数项  | 参数名     | 类型     | 必选   | 描述                 |
| ---- | ------- | ------ | ---- | ------------------ |
| msg  | 更新状态后标志 | string | 是    | 成功：success，失败：fail |



### 线程获取退费表的订单状态为1的订单（FY030318）

```
新增协议
```

请求报文（无）

回复报文

| 参数项      | 参数名    | 类型     | 必选   | 描述   |
| -------- | ------ | ------ | ---- | ---- |
| totalfee | 退费金额   | string | 是    |      |
| batchno  | 批次号    | string | 是    |      |
| tradeno  | 支付宝交易号 | string | 是    |      |



### 更新缴费表的订单状态为3并生成退费批次号（FY030319）

```
新增协议
```

请求报文

| 参数项     | 参数名  | 类型     | 必选   | 描述   |
| ------- | ---- | ------ | ---- | ---- |
| orderno | 订单号  | string | 是    |      |
| status  | 状态   | string | 是    |      |

回复报文(无)



### 获取收费记录列表（FY030320）

```
新增协议
```

请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| brid | 批次号  | string | 是    |      |

回复报文

| 参数项     | 参数名   | 类型     | 必选   | 描述   |
| ------- | ----- | ------ | ---- | ---- |
| orderno | 医院订单号 | string | 是    |      |
| jztime  | 就诊时间  | string | 是    |      |
| je      | 金额    | string | 是    |      |
| paytype | 就诊类型  | string | 是    |      |
| brname  | 病人姓名  | string | 是    |      |
| status  | 状态    | string | 是    |      |



### 插入或更新收货人信息（FY030321）

请求报文

| 参数项    | 参数名       | 类型     | 必选   | 描述                        |
| ------ | --------- | ------ | ---- | ------------------------- |
| type   | 操作类型      | string | 是    | 插入：insert，更新：update       |
| shdzid | 收货地址id    | string | 否    | 插入：shdzid为空，更新：shdzid不能为空 |
| sjrxm  | 收件人姓名     | string | 是    |                           |
| lxdh   | 联系电话      | string | 是    |                           |
| sjdz   | 收件地址      | string | 是    |                           |
| mrbz   | 默认标志      | string | 是    |                           |
| openid | 支付宝openid | string | 否    | 插入需要，更新不需要                |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 操作结果 | string | 是    | 成功：success，失败：fail |



### 删除收货人信息（FY030322）

请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| shdzid | 收货地址id | string | 是    |      |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 操作结果 | string | 是    | 成功：success，失败：fail |



### 查询模块-处方单列表（FY030323）

请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| brid | 病人id | string | 是    |      |

返回报文

| 参数项   | 参数名   | 类型     | 必选   | 描述   |
| ----- | ----- | ------ | ---- | ---- |
| cflsh | 处方流水号 | string | 是    |      |
| jzks  | 就诊科室  | string | 是    |      |
| cflx  | 处方类型  | string | 是    |      |
| zjje  | 就诊金额  | string | 是    |      |
| ysxm  | 医生姓名  | string | 是    |      |
| jzrq  | 就诊日期  | string | 是    |      |



### 查询模块-处方单详情（FY030324）

请求报文

| 参数项   | 参数名   | 类型     | 必选   | 描述   |
| ----- | ----- | ------ | ---- | ---- |
| cflsh | 处方流水号 | string | 是    |      |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| ypmc | 药品名称 | string | 是    |      |
| ypxx | 药品信息 | string | 是    |      |
| sypc | 使用频次 | string | 是    |      |
| gytj | 给药途径 | string | 是    |      |
| yl1  | 医生姓名 | string | 是    |      |
| yl2  | 就诊日期 | string | 是    |      |

### 查询模块-检验单或检查单列表（FY030325）

请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述              |
| ---- | ---- | ------ | ---- | --------------- |
| brid | 病人id | string | 是    |                 |
| type | 查询类型 | string | 是    | 检查单：jcd，检验单：jyd |

返回报文

| 参数项      | 参数名      | 类型     | 必选   | 描述   |
| -------- | -------- | ------ | ---- | ---- |
| jyjcdlsh | 检验检查单流水号 | string | 是    |      |
| jyjcdmc  | 检验检查单名称  | string | 是    |      |
| jyjcrq   | 检验检查日期   | string | 是    |      |



### 查询模块-检验单详情基本信息（FY030326）

请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| jydlsh | 检验单流水号 | string | 是    |      |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| sqks | 申请科室 | string | 是    |      |
| jynr | 检验内容 | string | 是    |      |
| bbmc | 标本名称 | string | 是    |      |
| jyr  | 检验人  | string | 是    |      |
| sjr  | 送检人  | string | 是    |      |
| shr  | 审核人  | string | 是    |      |
| cjsj | 采集时间 | string | 是    |      |
| jysj | 检验时间 | string | 是    |      |

### 查询模块-检验单详情检验项目列表（FY030327）

请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| jydlsh | 检验单流水号 | string | 是    |      |

返回报文

| 参数项    | 参数名    | 类型     | 必选   | 描述        |
| ------ | ------ | ------ | ---- | --------- |
| jyxmmc | 检验项目名称 | string | 是    |           |
| ckfw   | 参考范围   | string | 是    |           |
| jyxmz  | 检验项目值  | string | 是    |           |
| bz     | 标志     | string |      | 表示上升下降的箭头 |

### 查询模块-检查单详情基本信息（FY030328）

请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| jcdlsh | 检查单流水号 | string | 是    |      |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| sqks | 申请科室 | string | 是    |      |
| jynr | 检验内容 | string | 是    |      |
| jyr  | 检验人  | string | 是    |      |
| sjr  | 送检人  | string | 是    |      |
| shr  | 审核人  | string | 是    |      |
| cjsj | 采集时间 | string | 是    |      |
| jysj | 检验时间 | string | 是    |      |

### 查询模块-检查单详情检查项目列表（FY030329）

请求报文

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| jcdlsh | 检查单流水号 | string | 是    |      |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jcsj | 检查所见 | string | 是    |      |
| jczd | 检查诊断 | string | 是    |      |

### 判断是否可退费（FY030330）

请求报文

| 参数项     | 参数名   | 类型     | 必选   | 描述   |
| ------- | ----- | ------ | ---- | ---- |
| orderno | 资源订单号 | string | 是    |      |

返回报文

| 参数项  | 参数名     | 类型     | 必选   | 描述         |
| ---- | ------- | ------ | ---- | ---------- |
| flag | 是否可退费标志 | string | 是    | 是：yes，否：no |
| msg  | 原因      | string | 是    |            |

#### 医生信息列表_按医生代码查(DO010104)

##### 请求报文

| 参数项       | 参数名    | 类型      | 必选   | 描述                       |
| --------- | ------ | ------- | ---- | ------------------------ |
| namepy    | 拼音     | String  |      | 医生搜索的关键字                 |
| pageindex | 页号     | integer | 是    | 当前第几页，从1开始               |
| pagesize  | 页大小    | integer | 是    | 每页大小                     |
| haskey    | 是否有关键字 | String  |      | "0":有，按namepy；”1“：无，搜索全部 |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述      |
| ---------- | ---- | ------ | ---- | ------- |
| code       | 医生代码 | string | 是    |         |
| name       | 医生姓名 | string | 是    |         |
| sex        | 医生性别 | string | 否    | 0：女；1：男 |
| pictureurl | 医生照片 | string | 否    |         |
| level      | 医生等级 | string | 否    | 如“主任医师” |
| recommend  | 医生介绍 | string | 是    |         |
| adept      | 医生擅长 | string | 是    |         |
| departcode | 科室代码 | string | 否    |         |
| departname | 科室名称 | string | 否    |         |



### 更新退费订单状态（FY040408）

请求报文

| 参数项     | 参数名  | 类型     | 必选   | 描述   |
| ------- | ---- | ------ | ---- | ---- |
| batchno | 订单号  | string | 是    |      |
| status  | 状态   | string | 是    |      |

回复报文

| 参数项  | 参数名      | 类型     | 必选   | 描述                 |
| ---- | -------- | ------ | ---- | ------------------ |
| msg  | 更新订单状态结果 | string | 是    | 成功：success，失败：fail |

