# 云医院-服务窗与后台服务通讯规范

## 适用范围

本规范适用云医院相关的支付宝服务窗与微信公众号功能开发中与后台服务通讯协议的规范。

## 规范说明

- 通讯协议：使用HTTP的POST协议。
- 服务地址：http://ip:port/service
- 报文格式：JSON
- 编码格式：默认使用UTF-8
- 返回消息：纯JSON格式的回复报文内容

### 公共请求参数

驱使请求参数包含如下内容：

| 参数项     | 参数名  | 类型     | 必选   | 描述        |
| ------- | ---- | ------ | ---- | --------- |
| pcode   | 协议代码 | string | 是    | 报文协议操作码   |
| charset | 编码集  | string | 否    | UTF-8     |
| content | 报文内容 | json   | 是    | 各协议具体报文内容 |
| version | 报文版本 | string | 否    | 协议使用版本    |

```javascript
pcode="DZ020101"&charset="UTF-8"&content="{报文JSON结构内容}"&version=0.1
```

#### 协议码格式解析

如有协议代码：DZ020101，解析格式如下：

- DZ：导诊功能。
- 02：导诊功能下的预约挂号。
- 01：预约挂号相关协议的第一个，如可能预约挂号操作需要其它相关协议操作，那么通过修改这两位进行区别。
- 01：这个协议的第一个版本实现，或是第一种实现方式。

### 公共请求参数

| 参数项   | 参数名    | 类型     | 必选   | 描述     |
| ----- | ------ | ------ | ---- | ------ |
| state | 回复代码   | string | 是    | 协议执行状态 |
| msg   | 回复信息   | string | 否    | 正确时不存在 |
| data  | 回复报文内容 | string | 否    | 错误时不存在 |

#### 回复代码列表（）

| 值    | 描述                            |
| ---- | ----------------------------- |
| 00   | 成功                            |
| 01   | 请求参数错误                        |
| 02   | 用户还未绑卡                        |
| 03   | 用户取消了授权或是没有获得支付宝用户信息，要求用户刷新界面 |
| 98   | 用户还未建档                        |
| 99   | 失败                            |
| C001 | 用户还未登陆                        |
| C002 | 用户未就诊过该疾病                     |
| C003 | 请求参数为空                        |
| C004 | 检查单号不存在                       |
| C005 | 检查单类型不存在                      |
| C006 | 部门不存在                         |
| C007 | 疾病不存在                         |
| C008 | 该病人还没有处方                      |
| C009 | 病人不存在                         |
| C010 | 处方信息不存在                       |
| C011 | 该病人无住院信息                      |
| C012 | 住院单号不存在                       |
| C013 | 住院缴费信息不存在                     |
| C014 | 处方缴费信息不存在                     |
| C015 | 条码号无效                         |
| C016 | 病人没有就诊记录                      |

## 协议内容

### 获得常用联系人信息（BA020201）

**请求报文内容**

| 参数项       | 参数名   | 类型     | 必选   | 描述                         |
| --------- | ----- | ------ | ---- | -------------------------- |
| sessionid | 会话ID  | string | 否    | 用户这次相关的会话信息                |
| linkmanid | 联系人ID | string | 否    | 为空时返回所有联系人信息，不为空时返回指定联系人信息 |

**回复报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述      |
| ---- | ---- | ---- | ---- | ------- |
| list | 列表   | list | 是    | 联系人信息列表 |

list列表参数内容：

| 参数项          | 参数名   | 类型      | 必选   | 描述                  |
| ------------ | ----- | ------- | ---- | ------------------- |
| linkmanid    | 联系人ID | string  | 是    | 联系人ID，后面对操作人标识      |
| label        | 联系人标签 | integer | 是    | 1：爱人；2：父母；3：子女；4：他人 |
| name         | 姓名    | string  | 是    | 联系人姓名               |
| phone        | 手机号码  | string  | 是    | 联系人手机号码             |
| idcardno     | 身份证号  | string  | 是    | 联系人身份证号             |
| address      | 地址    | string  | 否    | 联系地址                |
| bindcardflag | 绑卡标志  | string  | 是    | 1：已绑卡；0：未绑卡         |
| inpatentflag | 住院标志  | string  | 是    | 1：有住院信息；0：无住院信息     |
| patientid    | 病人ID  | string  | 否    | 已绑卡相关的病人ID          |
| cardno       | 就诊卡号  | string  | 否    | 没有绑卡就是为空            |

### 预约科室列表 -- 二级科室列表（YY010101）

**请求报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

**返回报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述       |
| ---- | ---- | ---- | ---- | -------- |
| list | 列表   | list | 是    | 一级预约科室列表 |

一级科室列表参数内容：

| 参数项        | 参数名  | 类型     | 必选   | 描述              |
| ---------- | ---- | ------ | ---- | --------------- |
| departid   | 科室代码 | string | 是    | 一级科室代码，对应deptid |
| departname | 科室名称 | string | 是    | 一级科室名称，对应ksfl   |
| list       | 列表   | list   | 是    | 二级预约科室列表        |

二级科室列表参数内容：

| 参数项        | 参数名  | 类型     | 必选   | 描述            |
| ---------- | ---- | ------ | ---- | ------------- |
| departid   | 科室代码 | string | 是    | 二级科室代码，对应ksbm |
| departname | 科室名称 | string | 是    | 二级科室名称，对应ksmc |
| describe   | 科室名称 | string | 否    | 二级科室描述，对应ksms |

### 预约科室列表 -- 一级科室列表（YY010102）

**请求报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

**返回报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述       |
| ---- | ---- | ---- | ---- | -------- |
| list | 列表   | list | 是    | 一级预约科室列表 |

科室列表参数内容：

| 参数项        | 参数名  | 类型     | 必选   | 描述            |
| ---------- | ---- | ------ | ---- | ------------- |
| departid   | 科室代码 | string | 是    | 二级科室代码，对应ksbm |
| departname | 科室名称 | string | 是    | 二级科室名称，对应ksmc |
| describe   | 科室名称 | string | 否    | 二级科室描述，对应ksms |

### 医生列表查询（BA040201）

**请求报文内容**

| 参数项       | 参数名  | 类型      | 必选   | 描述              |
| --------- | ---- | ------- | ---- | --------------- |
| pydm      | 拼音码  | string  | 否    | 医生姓名拼音首字母，或是中文名 |
| pageindex | 页号   | integer | 是    | 当前第几页，从1开始      |
| pagesize  | 页大小  | integer | 是    | 每页大小            |

**返回报文内容**

| 参数项  | 参数名  | 类型     | 必选   | 描述    |
| ---- | ---- | ------ | ---- | ----- |
| ksmc | 科室名称 | string | 是    |       |
| ysxb | 医生性别 | string | 是    |       |
| ksbm | 科室编码 | string | 是    |       |
| ysbm | 医生编码 | string | 是    |       |
| zcmc | 职称名称 | string | 是    |       |
| ysxm | 医生姓名 | string | 是    |       |
| yysl | 预约数量 | string | 是    | 可预约数量 |

### 医生信息（BA040301）

**请求报文内容**

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| ysbm | 医生编码 | string | 是    |      |

**返回报文内容**

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| ysjs | 医生介绍 | string | 是    |      |
| ksmc | 科室名称 | string | 是    |      |
| scjb | 擅长疾病 | string | 是    |      |
| ysxb | 医生性别 | string | 是    |      |
| ksbm | 科室编码 | string | 是    |      |
| zcmc | 职称名称 | string | 是    |      |
| ysxm | 医生姓名 | string | 是    |      |

### 医生排班列表0.4版（YY010304）

**请求报文内容**

| 参数项          | 参数名  | 类型     | 必选   | 描述            |
| ------------ | ---- | ------ | ---- | ------------- |
| doctorid     | 医生代码 | string | 是    |               |
| departid     | 科室代码 | string | 否    |               |
| scheduledate | 排班日期 | string | 否    | 格式：yyyy-MM-dd |

**返回报文内容**

| 参数项        | 参数名  | 类型     | 必选   | 描述       |
| ---------- | ---- | ------ | ---- | -------- |
| doctorid   | 医生代码 | string | 是    |          |
| departlist | 科室列表 | list   | 是    | 医生排班科室列表 |

departlist列表参数内容：

| 项          | 名称   | 类型     | 必选   | 描述              |
| ---------- | ---- | ------ | ---- | --------------- |
| departid   | 科室编码 | string | 是    |                 |
| departname | 科室名称 | string | 是    |                 |
| remain     | 可约人数 | string | 是    | 这个医生在这个科室还可预约人数 |
| total      | 预约人数 | string | 是    | 这个医生在这个科室可预约总人数 |
| list       | 排班列表 | list   | 是    | 这个科室下这个医生的排班信息  |

list列表参数内容：

| 项               | 名称    | 类型     | 必选   | 描述               |
| --------------- | ----- | ------ | ---- | ---------------- |
| scheduleseq     | 排班流水号 | string | 是    |                  |
| scheduleseqlist | 列表    | list   | 是    | 医生排班列表           |
| departid        | 科室编码  | string | 是    |                  |
| departname      | 科室名称  | string | 是    |                  |
| doctorid        | 医生编码  | string | 是    |                  |
| doctorname      | 医生姓名  | string | 是    |                  |
| special         | 特需标志  | string | 是    | 1：特需；0：普通        |
| remain          | 可约人数  | string | 是    | 还可预约人数           |
| total           | 预约人数  | string | 是    | 可预约总人数           |
| address         | 就诊地点  | string | 是    |                  |
| scheduledate    | 排班日期  | string | 是    | 格式：MM-dd         |
| weekday         | 周几    | string | 是    | 格式：一，二，三，四，五，六，日 |
| shiftcode       | 班次编码  | string | 是    |                  |
| shiftname       | 班次名称  | string | 是    |                  |
| fee             | 挂号费   | string | 是    |                  |

scheduleseqlist列表参数内容：

| 参数项          | 参数名    | 类型     | 必选   | 描述       |
| ------------ | ------ | ------ | ---- | -------- |
| orderseq     | 号源流水号  | string | 是    | 预约号源流水号  |
| ordertime    | 预约时间   | string | 是    | 格式：HH:mm |
| orderno      | 分诊序号   | string | 是    | 门诊第几个号   |
| orderendtime | 预约结束时间 | string | 否    | 预约结束时间   |
| shiftcode    | 上下午标志  | string | 否    | 上下午标志    |

### 确认预约（YY010501）

**请求报文内容**

| 参数项          | 参数名    | 类型      | 必选   | 描述                                      |
| ------------ | ------ | ------- | ---- | --------------------------------------- |
| sessionid    | 会话ID   | string  | 是    | 用户这次相关的会话信息                             |
| linkmanid    | 联系人ID  | string  | 是    | 为空时为自己预约                                |
| orderseq     | 号源流水号  | string  | 是    | 预约号源流水号                                 |
| ordertime    | 预约时间   | string  | 是    | 格式：HH:mm                                |
| orderendtime | 预约结束时间 | string  | 是    | 预约结束时间                                  |
| shiftcode    | 上下午标志  | string  | 是    | 上下午标志                                   |
| scheduleseq  | 排班流水号  | string  | 是    |                                         |
| orderno      | 分诊序号   | string  | 是    | 门诊第几个号                                  |
| visittype    | 复诊类型   | String  | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，WZZX:问诊咨询 |
| sourcetype   | 号源类型   | Integer | 否    | 9：云医院预约   云医院预约必须传                      |

**返回报文内容**

| 参数项      | 参数名   | 类型     | 必选   | 描述           |
| -------- | ----- | ------ | ---- | ------------ |
| orderid  | 预约流水号 | string | 是    |              |
| ordermsg | 预约信息  | string | 是    | 预约成功后的用户提示信息 |

### 生成订单，答卷记录（CH012801）

***新增接口***
**请求报文内容**

| 参数项           | 参数名          | 类型     | 必选   | 描述                  |
| ------------- | ------------ | ------ | ---- | ------------------- |
| orderid       | 预约流水号        | string | 是    |                     |
| doctorid      | 医生编码         | string | 是    |                     |
| patientid     | 联系人ID        | string | 是    | linkmanid为空时为本人ID   |
| orderdate     | 预约日期         | string | 是    | 格式：yyyy-MM-dd       |
| shiftcode     | 上下午标志        | string | 是    | 上下午标志               |
| ordertime     | 预约时间         | string | 是    | 格式：HH:mm            |
| submittopicid | 答卷ID         | string | 否    | 答卷code，isame为1时，必须传 |
| issame        | 是否回答跟上次开一样的药 | string | 是    | 0:是, 1:否            |

**返回报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
| 无    |      |      |      |      |

### 付款(CH013001)

***新增接口*****请求报文内容**

| 参数项           | 参数名    | 类型     | 必选   | 描述                                      |
| ------------- | ------ | ------ | ---- | --------------------------------------- |
| sessionid     | 会话ID   | string | 否    | 用户这次相关的会话信息                             |
| preengageseq  | 预约流水号  | string | 是    | 预约流水号                                   |
| patientid     | 病人编号   | string | 是    | 具体给哪个医人，的哪张卡充值                          |
| patientname   | 病人姓名   | string | 是    |                                         |
| patientidcard | 病人身份证号 | string | 是    |                                         |
| cardno        | 绑卡卡号   | string | 否    |                                         |
| money         | 付款金额   | string | 是    | 单位元                                     |
| visittype     | 复诊类型   | String | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，WZZX:问诊咨询 |
| showurl       | 跳转页面   | string | 否    | 支付完成后跳转完成的页面                            |

**返回报文内容**

| 参数项          | 参数名   | 类型     | 必选   | 描述                          |
| ------------ | ----- | ------ | ---- | --------------------------- |
| orderno      | 订单流水号 | string | 是    | 订单流水号首字母M                   |
| aliwappayurl | 支付地址  | string | 是    | 进行支付操作时的URL地址（对这个地址进行GET操作） |
| alipaymoney  |       |        |      | *叶环&新增——因为采用了预挂号接口获取自费      |





### （作废）付款成功返回页面的回调接口（修改预约关联订单状态并消息通知）（CH013002）

| 参数项          | 参数名   | 类型     | 必选   | 描述          |
| ------------ | ----- | ------ | ---- | ----------- |
| preengageseq | 预约流水号 | string | 是    | 用户这次相关的会话信息 |

**返回报文内容**

| 参数项             | 参数名    | 类型     | 必选   | 描述                                      |
| --------------- | ------ | ------ | ---- | --------------------------------------- |
| success         | 是否挂号成功 | string | 是    | 0：成功，1失败，成功                             |
| preengageseq    | 预约流水号  | string | 是    | 预约流水号                                   |
| preengagedate   | 预约日期   | string | 是    | 格式：yyyy-MM-dd                           |
| preengagetime   | 预约时间   | string | 是    | 格式：HH:mm                                |
| departcode      | 预约科室   | string | 否    | 预约的二科室代码                                |
| departname      | 预约科室   | string | 是    | 预约的二级科室                                 |
| doctorcode      | 预约医生   | string | 否    | 预约医生的编码                                 |
| doctorname      | 预约医生   | string | 是    | 预约医生的姓名                                 |
| patientid       | 病人ID   | string | 是    | 已绑卡相关的病人ID                              |
| cardno          | 就诊卡号   | string | 是    | 没有绑卡就是为空                                |
| patientname     | 病人姓名   | string | 是    | 给哪个病人预约的                                |
| patientidcardno | 病人身份证号 | string | 否    | 病人身份证号                                  |
| patientphone    | 病人电话   | string | 否    | 病人联系电话                                  |
| patientaddress  | 病人地址   | string | 否    | 病人联系地址                                  |
| preengageno     | 分诊序号   | string | 是    | 门诊第几个号                                  |
| place           | 就诊地点   | string | 否    | 就诊地点                                    |
| status          | 状态     | String | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已取消:4：已失  |
| fee             | 挂号费    | string | 是    |                                         |
| paymoney        | 实付金额   | String | 是    | 实际需要付款的金额                               |
| ispay           | 是否可付款  | String | 是    | 0：可付款， 1：不可付款， 若可付款，该订单可进入付款页面          |
| visittype       | 复诊类型   | String | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，WZZX:问诊咨询 |

### 取号接口（将预约记录挂号）付款成功返回页面的回调接口*新（挂号对CH013002的修改更新）（CH013003）

| 参数项          | 参数名   | 类型     | 必选   | 描述          |
| ------------ | ----- | ------ | ---- | ----------- |
| preengageseq | 预约流水号 | string | 否    | 用户这次相关的会话信息 |
| orderno      | 订单号   |        | 是    |             |
| paymoney     | 支付金额  |        |      |             |

**返回报文内容**

| 参数项             | 参数名    | 类型     | 必选   | 描述                                      |
| --------------- | ------ | ------ | ---- | --------------------------------------- |
| success         | 是否挂号成功 | string | 是    | 0：成功，1失败，成功                             |
| preengageseq    | 预约流水号  | string | 是    | 预约流水号                                   |
| preengagedate   | 预约日期   | string | 是    | 格式：yyyy-MM-dd                           |
| preengagetime   | 预约时间   | string | 是    | 格式：HH:mm                                |
| departcode      | 预约科室   | string | 否    | 预约的二科室代码                                |
| departname      | 预约科室   | string | 是    | 预约的二级科室                                 |
| doctorcode      | 预约医生   | string | 否    | 预约医生的编码                                 |
| doctorname      | 预约医生   | string | 是    | 预约医生的姓名                                 |
| patientid       | 病人ID   | string | 是    | 已绑卡相关的病人ID                              |
| cardno          | 就诊卡号   | string | 是    | 没有绑卡就是为空                                |
| patientname     | 病人姓名   | string | 是    | 给哪个病人预约的                                |
| patientidcardno | 病人身份证号 | string | 否    | 病人身份证号                                  |
| patientphone    | 病人电话   | string | 否    | 病人联系电话                                  |
| patientaddress  | 病人地址   | string | 否    | 病人联系地址                                  |
| preengageno     | 分诊序号   | string | 是    | 门诊第几个号                                  |
| place           | 就诊地点   | string | 否    | 就诊地点                                    |
| status          | 状态     | String | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已取消:4：已失  |
| fee             | 挂号费    | string | 是    |                                         |
| paymoney        | 实付金额   | String | 是    | 实际需要付款的金额                               |
| ispay           | 是否可付款  | String | 是    | 0：可付款， 1：不可付款， 若可付款，该订单可进入付款页面          |
| visittype       | 复诊类型   | String | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，WZZX:问诊咨询 |

### 云医院预约列表，订单列表（CH012901）

***新增接口***
**请求报文内容**

| 参数项        | 参数名  | 类型     | 必选   | 描述        |
| ---------- | ---- | ------ | ---- | --------- |
| status     | 状态   | String | 是    |           |
| sourcetype | 类型   | String | 否    | 9云医院参数*新增 |

**返回报文内容**

| 参数项             | 参数名    | 类型     | 必选   | 描述                                      |
| --------------- | ------ | ------ | ---- | --------------------------------------- |
| preengageseq    | 预约流水号  | string | 是    | 预约流水号                                   |
| preengagedate   | 预约日期   | string | 是    | 格式：yyyy-MM-dd                           |
| preengagetime   | 预约时间   | string | 是    | 格式：HH:mm                                |
| departcode      | 预约科室   | string | 否    | 预约的二科室代码                                |
| departname      | 预约科室   | string | 是    | 预约的二级科室                                 |
| doctorcode      | 预约医生   | string | 否    | 预约医生的编码                                 |
| doctorname      | 预约医生   | string | 是    | 预约医生的姓名                                 |
| patientname     | 病人姓名   | string | 是    | 给哪个病人预约的                                |
| patientidcardno | 病人身份证号 | string | 否    | 病人身份证号                                  |
| patientphone    | 病人电话   | string | 否    | 病人联系电话                                  |
| patientaddress  | 病人地址   | string | 否    | 病人联系地址                                  |
| preengageno     | 分诊序号   | string | 是    | 门诊第几个号                                  |
| place           | 就诊地点   | string | 否    | 就诊地点                                    |
| status          | 状态     | String | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已取消:4：已失约 |
| fee             | 挂号费    | string | 是    |                                         |
| paymoney        | 实付金额   | String | 是    | 实际需要付款的金额                               |
| ispay           | 是否可付款  | String | 是    | 0：可付款， 1：不可付款， 若可付款，该订单可进入付款页面          |
| visittype       | 复诊类型   | String | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，WZZX:问诊咨询 |

### 预约详情（CH012902）

***新增接口***
**请求报文内容**

| 参数项          | 参数名   | 类型     | 必选   | 描述    |
| ------------ | ----- | ------ | ---- | ----- |
| preengageseq | 预约流水号 | string | 是    | 预约流水号 |

**返回报文内容**

| 参数项             | 参数名    | 类型     | 必选   | 描述                                      |
| --------------- | ------ | ------ | ---- | --------------------------------------- |
| preengageseq    | 预约流水号  | string | 是    | 预约流水号                                   |
| preengagedate   | 预约日期   | string | 是    | 格式：yyyy-MM-dd                           |
| preengagetime   | 预约时间   | string | 是    | 格式：HH:mm                                |
| departcode      | 预约科室   | string | 否    | 预约的二科室代码                                |
| departname      | 预约科室   | string | 是    | 预约的二级科室                                 |
| doctorcode      | 预约医生   | string | 否    | 预约医生的编码                                 |
| doctorname      | 预约医生   | string | 是    | 预约医生的姓名                                 |
| patientid       | 病人ID   | string | 是    | 已绑卡相关的病人ID                              |
| cardno          | 就诊卡号   | string | 是    | 没有绑卡就是为空                                |
| patientname     | 病人姓名   | string | 是    | 给哪个病人预约的                                |
| patientidcardno | 病人身份证号 | string | 否    | 病人身份证号                                  |
| patientphone    | 病人电话   | string | 否    | 病人联系电话                                  |
| patientaddress  | 病人地址   | string | 否    | 病人联系地址                                  |
| preengageno     | 分诊序号   | string | 是    | 门诊第几个号                                  |
| place           | 就诊地点   | string | 否    | 就诊地点                                    |
| status          | 状态     | String | 是    | 状态： 0：已预约待付款、1：已预约已付款、2：已就诊、3：已取消:4：已失约 |
| fee             | 挂号费    | string | 是    |                                         |
| ispay           | 是否可付款  | String | 是    | 0：可付款， 1：不可付款， 若可付款，该订单可进入付款页面          |
| visittype       | 复诊类型   | String | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，WZZX:问诊咨询 |
| registerno      | 挂号id   | String | 是    | 挂号id **新增**                             |
| orderno         | 订单编号   | string | 是    | 订单编号**新增**                              |



### 根据挂号id进行(取消已付款预约记录)退号(CH012903)

### 请求报文

| 参数项          | 参数名    | 类型     | 必选   | 描述        |
| ------------ | ------ | ------ | ---- | --------- |
| registerno   | 挂号id   | string | 是    | 用于退挂号     |
| orderno      | 原始订单号  | string | 是    | 用于生成退订单   |
| preengageseq | 原始预约记录 | string | 是    | 用于处理退预约记录 |

##### 回复报文

| 参数名      | 类型     | 必选   | 描述        |
| -------- | ------ | ---- | --------- |
| 退号是否成功标志 | string | 是    | 0：成功，1：失败 |
| 退款提示     | string | 否    |           |

### 根据订单号退款(CH012904)

### 请求报文

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| batchno     | 订单编号 | string | 是    |      |
| tradeno     |      |        |      |      |
| refundmoney | 退款金额 | string | 是    |      |

##### 回复报文

| 参数项     | 参数名  | 类型     | 必选   | 描述      |
| ------- | ---- | ------ | ---- | ------- |
| success | 是否成功 | string | 是    | 0成功 1失败 |



### 是否复诊病人（CH020101）

**请求报文内容**

| 参数项       | 参数名  | 类型     | 必选   | 描述   |
| --------- | ---- | ------ | ---- | ---- |
| PatientId | 病人id | String | 是    |      |

**返回报文内容**

| 参数项      | 参数名  | 类型     | 必选   | 描述     |
| -------- | ---- | ------ | ---- | ------ |
| IsRepeat | 是否复诊 | String | 是    | Yes/No |

### 综合医院疾病列表（CH010101）

**请求报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
| 无    |      |      |      |      |

完整的POST数据内容：

```url
pcode="CH010101"
```

**返回报文内容**

| 参数项      | 参数名  | 类型     | 必选   | 描述        |
| -------- | ---- | ------ | ---- | --------- |
| DeptCode | 科室代码 | String | 是    |           |
| DeptName | 科室名称 | String | 是    |           |
| Illness  | 疾病列表 | Array  | 是    | 科室就诊的疾病列表 |

**疾病**

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| Code | 疾病代码 | String | 是    |      |
| Name | 疾病名称 | String | 是    |      |

### 综合医院点击疾病（CH010201）

首先判断用户是否登陆，如果未登陆则返回错误代码，登陆后，再获得某份问卷之前首先判断该用户是否就诊过该问卷所对应的疾病。

**请求报文内容**

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| IllnessCode | 疾病代码 | String | 是    |      |

**返回报文内容**

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| IllnessCode | 疾病代码 | String | 是    |      |

### 根据科室获得问答卷-综合医院（CH010202）

根据科室获得问答卷列表。

**请求报文内容**

| 参数项      | 参数名  | 类型     | 必选   | 描述   |
| -------- | ---- | ------ | ---- | ---- |
| DeptCode | 科室代码 | String | 是    |      |

**返回报文内容**

参考`CH010201`协议的返回报文部分。

例：
{"data":{"Items":[{"Code":"question1","Tile":"近期食用过什么食物","Desc":"对于事物问题","Type":"multiple","Answer":["海鲜","牛羊肉","菌类"],"PhotoDesc":[]},{"Code":"question2","Tile":"近期常处的生活工作环境","Desc":"对于生活环境问题","Type":"multiple","Answer":["潮湿","闷热","通风"],"PhotoDesc":[]},{"Code":"question3","Tile":"本次发病时间","Desc":"发病时间","Type":"radio","Answer":["半天以内","一天以内","三天以内"],"PhotoDesc":[]},{"Code":"question4","Tile":"主要感觉","Desc":"身体感觉如何","Type":"radio","Answer":["痒","痛"],"PhotoDesc":[]},{"Code":"question5","Tile":"瘙痒程度","Desc":"","Type":"radio","Answer":["无瘙痒","无法忍受"],"PhotoDesc":[]},{"Code":"question6","Tile":"发病部位图片","Desc":"如手部皮疹，需拍摄一张皮疹细节和一张单侧整体上肢照片。","Type":"photo","PhotoDesc":["细节图片","整体图片"]},{"Code":"question7","Tile":"其他情况","Desc":"身体的其他症状","Type":"describe"}],"Dept":[{"Code":"pfk","Name":"皮肤科"}],"Tile":"慢性荨麻疹问卷","Code":"mxxmz"},"status":"00"}

根据医院获得问答卷-专科医院(CH010203)
**请求报文内容**

| 参数项          | 参数名  | 类型     | 必选   | 描述   |
| ------------ | ---- | ------ | ---- | ---- |
| HospitalCode | 医院代码 | String | 是    |      |

**返回报文内容**
参考`CH010201`协议的返回报文部分。

例子：{"data":{"Items":[{"Code":"question1","Tile":"睡眠（可多选）","Desc":"睡眠（可多选）","Type":"multiple","Answer":["充足","睡不着","早醒","时间短","睡得浅"],"PhotoDesc":[]},{"Code":"question2","Tile":"近期病情变化","Desc":"近期病情变化","Type":"describe","PhotoDesc":[]},{"Code":"question3","Tile":"吃了药后是否不舒服（可多选）","Desc":"吃了药后是否不舒服（可多选）","Type":"multiple","Answer":["舒服","胃口不好","大便秘结","反应迟钝","行走缓慢","睡眠过多","体重增加","口水多","表情僵硬","其他"],"PhotoDesc":[]}],"Tile":"心理诊疗","Code":"XLZL"},"status":"00"}

### 综合医院提交问答卷答案（CH010301）

**请求报文内容**

| 参数项         | 参数名   | 类型     | 必选   | 描述                 |
| ----------- | ----- | ------ | ---- | ------------------ |
| Code        | 问答卷代码 | String | 是    |                    |
| Title       | 问答卷名称 | String | 否    | 如梅毒的”有症状”与”无症状”    |
| Items       | 回答列表  | Array  | 是    |                    |
| IllnessCode | 疾病代码  | String | 否    | 可选项，是根据复诊哪种疾病进行的回答 |

**回答内容**

回答内容 Answer 使用列表为了兼容，多种答案类型，如单选与多选。如果类型为照片时回答内容为上传照片后的mediaId。

| 参数项         | 参数名  | 类型         | 必选   | 描述         |
| ----------- | ---- | ---------- | ---- | ---------- |
| Code        | 代码   | String     | 是    | 每道题的代码唯一   |
| Answer      | 回答内容 | StringList | 否    | 为用户回答的具体内容 |
| otherAnswer | 其他回答 | String     |      | 用户其他回答     |

**返回报文内容**

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

### 医生列表（CH010401）

综合医院和专科医院公用此协议

**请求报文内容**

| 参数项         | 参数名  | 类型     | 必选   | 描述                       |
| ----------- | ---- | ------ | ---- | ------------------------ |
| IllnessCode | 疾病代码 | String | 否    | 有此参数，表示是综合医院，无此参数表示是专科医院 |

**返回报文内容**
返回内容为列表。

| 参数项      | 参数名  | 类型     | 必选   | 描述                  |
| -------- | ---- | ------ | ---- | ------------------- |
| Code     | 医生代码 | String | 是    |                     |
| name     | 医生名称 | String | 是    | 因跟即时通讯用户表有关，所以此处用小写 |
| Title    | 医生职称 | String | 是    |                     |
| DeptCode | 科室代码 | String | 是    | 医生所属行政科室代码          |
| DeptName | 科室名称 | String | 是    | 医生所属行政科室名称          |
| Photo    | 医生照片 | String | 是    | 医生照片URL地址           |
| AdeptAt  | 医生擅长 | String | 否    |                     |

排班列表(Schedules)说明

| 参数项           | 参数名  | 类型         | 必选   | 描述                  |
| ------------- | ---- | ---------- | ---- | ------------------- |

| Date          | 排班日期 | String     | 是    | 日期部分                |
| Remain          | 号源数  | Integer    | 是    | 总号源数                |
| Fee           | 挂号费  | Integer    | 是    | 单位元                 |
| Sources       | 号源列表 | ObjectList | 是    |                     |

**号源列表**

| 字段       | 名称    | 类型      | 必选   | 描述             |
| -------- | ----- | ------- | ---- | -------------- |
| Time     | 号源时间  | Date    | 是    | 时分秒部分          |
| NoonFlag | 上下午标志 | String  | 是    | 上午：am，下午：pm    |
| Code     | 号源代码  | String  | 是    |                |
| Number   | 分诊序号  | Integer | 是    | 序号数，如：1，2，3... |

### 预约查询（CH010701）

查询单个预约记录
**请求报文内容**

| 参数项  | 参数名  | 类型     | 必选   | 描述                |
| ---- | ---- | ------ | ---- | ----------------- |
| Code | 预约代码 | String | 是    | 兼容医院对预约的标志，并是唯一标识 |

**返回报文内容**

| 参数项          | 参数名    | 类型      | 必选   | 描述                                  |
| ------------ | ------ | ------- | ---- | ----------------------------------- |
| Code         | 预约代码   | String  |      | 兼容医院对预约的标志，并是唯一标识                   |
| UserId       | 用户ID   | String  |      | 这个用户的ID，用于医院本身对用户的Code定义            |
| VisitType    | 就诊类型   | String  |      | 复诊开药，检查预约，住院申请，咨询问诊                 |
| IllnessCode  | 疾病代码   | String  |      | 复诊疾病代码                              |
| IllnessName  | 疾病名称   | String  |      | 复诊疾病名称                              |
| DoctorCode   | 医生代码   | String  |      |                                     |
| DoctorName   | 医生名称   | String  |      |                                     |
| DoctorImUser | 医生IM账号 | String  |      | 医生的IM账号，方便及时通讯                      |
| DeptCode     | 科室代码   | String  |      |                                     |
| DeptName     | 科室名称   | String  |      |                                     |
| CreatTime    | 创建时间   | Date    |      | 创建预约单的时间                            |
| ScheduleCode | 排班代码   | String  |      |                                     |
| SourceCode   | 号源代码   | String  |      |                                     |
| SourceTime   | 号源时间   | Date    |      | 预约的就诊时间                             |
| Number       | 分诊序号   | Integer |      | 序号数，如：1，2，3...                      |
| Fee          | 挂号费    | String  |      |                                     |
| Status       | 预约状态   | String  |      | novisit：未就诊，already：已就诊，overdue：已过期 |
| PayStatus    | 缴费状态   | String  |      | Success：缴费成功;Failure：缴费失败;None：未缴费  |

### 预约查询（CH010702）

分页查询所有预约记录
**请求报文内容**

| 参数项       | 参数名  | 类型      | 必选   | 描述   |
| --------- | ---- | ------- | ---- | ---- |
| PageIndex | 第几页  | Integer | 是    | 从1开始 |
| PageSize  | 页大小  | Integer | 是    | 默认10 |

**返回报文内容**

| 参数项                   | 参数名   | 类型      | 必选   | 描述   |
| --------------------- | ----- | ------- | ---- | ---- |
| pageCount             | 总页数   | Integer |      |      |
| pageIndex             | 当前页面  | Integer |      |      |
| reservationRecordList | Array |         |      |      |

reservationRecordList的结构

| 参数项        | 参数名       | 类型      | 必选   | 描述                                  |
| ---------- | --------- | ------- | ---- | ----------------------------------- |
| Code       | 预约代码      | String  |      |                                     |
| SourceTime | 号源时间      | String  |      |                                     |
| PayStatus  | 缴费状态      | String  |      |                                     |
| Status     | 预约状态      | String  |      |                                     |
| Number     | 分诊序号      | Integer |      |                                     |
| DeptName   | 科室名称      | String  |      |                                     |
| VisitType  | VisitType | String  |      |                                     |
| Status     | 预约状态      | String  |      | Novisit：未就诊，Already：已就诊，Overdue：已过期 |



参考`预约查询（CH010701）`返回报文内容。

### 处方列表(CH010801)

请求报文内容

| 参数项         | 参数名  | 类型     | 必选   | 描述     |
| ----------- | ---- | ------ | ---- | ------ |
| PatientCode | 用户代码 | String | 是    | 用户唯一标识 |

返回报文内容

| 参数项              | 参数名  | 类型     | 必选   | 描述                                 |
| ---------------- | ---- | ------ | ---- | ---------------------------------- |
| PatientName      | 病人名称 | String | 是    |                                    |
| DoctorName       | 医生名称 | String | 是    |                                    |
| PreScribeDate    | 开方日期 | String | 是    |                                    |
| PrescriptionSum  | 处方合计 | String | 是    |                                    |
| PrescriptionType | 处方类型 | String | 是    |                                    |
| PrescriptionName | 处方名称 | String | 是    |                                    |
| PayStatus        | 缴费状态 | String | 是    | Success：缴费成功;Failure：缴费失败;None：未缴费 |
| SignStatus       | 签收状态 | String | 是    | 自取后的状态，或是邮寄后的状态                    |

### 处方缴费确认信息展示(CH010805)

请求报文内容

| 参数项  | 参数名   | 类型     | 必选   | 描述   |
| ---- | ----- | ------ | ---- | ---- |
| Code | 处方流水号 | String | 是    |      |

返回报文内容

| 参数项              | 参数名        | 类型     | 必选     | 描述   |
| ---------------- | ---------- | ------ | ------ | ---- |
| Code             | 处方流水号      | String |        |      |
| DoctorName       | 医生名称       | String |        |      |
| PrescriptionSum  | 处方金额       | String |        |      |
| TotalSum         | 总计金额       |        | String |      |
| PrescriptionName | 处方名称       | String |        |      |
| SpecialType      | 是否包含特殊药    | String | Yes/No |      |
| IsExpress        | 自取标志(是否快递) | String |        |      |
| ReceiveInfo      | 快递收货信息     | Array  |        |      |

ReceiveInfo结构

| 字段             | 名称   | 类型     | 描述   |
| -------------- | ---- | ------ | ---- |
| Name           | 收件人  | String |      |
| PhoneNo        | 联系电话 | String |      |
| ReceiveAddress | 收件地址 | String |      |

### 处方缴费(CH010901)

请求报文内容

| 参数项           | 参数名        | 类型     | 必选   | 描述                              |
| ------------- | ---------- | ------ | ---- | ------------------------------- |
| Code          | 处方流水号      | String | 是    |                                 |
| MessageStatus | 给医生留言      | String | 先预留  | 默认不给医生留言  0:未留言 1：留言未处置 2：留言已处置 |
| IsExpress     | 自取标志(是否快递) | String | 否    | 如果有特种药就必须自取，没特种药时由用户自己决定        |
| ReceiveInfo   | 快递收货信息     | Array  | 否    | 收件人信息                           |

收件人信息

| 参数项            | 参数名  | 类型     | 必选   | 描述   |
| -------------- | ---- | ------ | ---- | ---- |
| Name           | 收件人  | String | 是    |      |
| PhoneNo        | 联系电话 | String | 是    |      |
| ReceiveAddress | 收件地址 | String | 是    |      |

返回报文内容

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

### 处方明细(CH011001)

请求报文内容

| 参数项  | 参数名   | 类型     | 必选   | 描述   |
| ---- | ----- | ------ | ---- | ---- |
| Code | 处方流水号 | String | 是    |      |

返回报文内容（数组）

| 字段              | 名称    | 类型     | 必选   | 描述         |
| --------------- | ----- | ------ | ---- | ---------- |
| Name            | 药品名称  | String | 是    |            |
| SpecialType     | 特种药标志 | String | 是    | 该药为特种药     |
| DrugPecfication | 药品规格  | String | 是    | 一盒多少颗      |
| DrugCount       | 药品数量  | String | 是    | 几盒         |
| Dosage          | 一次用量  | String | 是    | 一次几颗等      |
| Frequency       | 使用频次  | String | 是    | 一日几次，一周几次等 |
| DeliveryWay     | 给药途径  | String | 是    | 口服、外用等     |

### 物流信息(CH011101)

请求报文内容

| 参数项  | 参数名   | 类型     | 必选   | 描述   |
| ---- | ----- | ------ | ---- | ---- |
| Code | 处方流水号 | String | 是    |      |

返回报文内容

| 字段             | 名称   | 类型     | 必选   | 描述              |
| -------------- | ---- | ------ | ---- | --------------- |
| ExpressNo      | 快递号  | String | 是    | 非自取时快递号         |
| ExpressCompany | 快递公司 | String | 是    | 非自取时快递公司        |
| SignStatus     | 签收状态 | String | 是    | 自取后的状态，或是邮寄后的状态 |

### 检查单列表(CH011201)

请求报文内容

| 参数项         | 参数名  | 类型     | 必选   | 描述     |
| ----------- | ---- | ------ | ---- | ------ |
| PatientCode | 用户代码 | String | 是    | 用户唯一标识 |

返回报文内容

| 参数项           | 参数名    | 类型     | 必选                                 | 描述   |
| ------------- | ------ | ------ | ---------------------------------- | ---- |
| Code          | 检查单流水号 | String | 是                                  |      |
| PatientName   | 病人名称   | String | 是                                  |      |
| DoctorName    | 医生名称   | String | 是                                  |      |
| PrescribeDat  | 开单日期   | String | 是                                  |      |
| TotalSum      | 总计金额   | String | 是                                  |      |
| InspectName   | 检查单名称  | String | 是                                  |      |
| PayStatus     | 缴费状态   | String | Success：缴费成功;Failure：缴费失败;None：未缴费 |      |
| InspectStatus | 检查状态   | String | Success：已检；Failure：未检              |      |

### 检查单缴费(CH011301)

请求报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| Code | 检查单流水号 | String | 是    |      |

返回报文内容

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

### 检查单明细(CH011401)

请求报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| Code | 检查单流水号 | String | 是    |      |

返回报文内容

| 字段            | 名称     | 类型         | 必选   | 描述                                 |
| ------------- | ------ | ---------- | ---- | ---------------------------------- |
| Code          | 检查单流水号 | String     | 是    |                                    |
| Name          | 病人名称   | String     | 是    |                                    |
| DoctorName    | 送检医生名称 | String     | 是    |                                    |
| InspectItem   | 检查项目   | ObjectList | 是    |                                    |
| PayStatus     | 缴费状态   | String     | 是    | Success：缴费成功;Failure：缴费失败;None：未缴费 |
| InspectStatus | 检查状态   | String     | 是    | Success：已检；Failure：未检              |

检查项目

| 字段           | 名称   | 类型     | 必选   | 描述   |
| ------------ | :--- | ------ | ---- | ---- |
| Doctadviseno | 条码号  | String | 是    |      |
| ItemName     | 项目名称 | String | 是    |      |
| Date         | 检查时间 | Date   | 是    |      |
| Attention    | 注意事项 | String | 是    |      |
| Sum          | 金额   | String | 是    |      |

### 住院单列表(CH011501)

请求报文内容

| 参数项         | 参数名  | 类型     | 必选   | 描述     |
| ----------- | ---- | ------ | ---- | ------ |
| PatientCode | 用户代码 | String | 是    | 用户唯一标识 |

返回报文内容

| 参数项              | 参数名    | 类型     | 必选                      | 描述   |
| ---------------- | ------ | ------ | ----------------------- | ---- |
| Code             | 住院单流水号 | String | 是                       |      |
| PatientName      | 病人名称   | String | 是                       |      |
| DoctorName       | 医生名称   | String | 是                       |      |
| PrescribeDat     | 开单日期   | String | 是                       |      |
| TotalSum         | 总计金额   | String | 是                       |      |
| InhospitalName   | 住院单名称  | String | 是                       |      |
| PayStatus        | 缴费状态   | String | Success：缴费成功;None：未缴费   |      |
| InHospitalStatus | 入住状态   | String | Success：已入住；Failure：未入住 |      |

### 住院单缴费(CH011601)

请求报文内容

| 参数项         | 参数名    | 类型     | 必选   | 描述         |
| ----------- | ------ | ------ | ---- | ---------- |
| Code        | 住院单流水号 | String | 是    |            |
| Name        | 联系人名称  | String | 是    |            |
| PrestoreSum | 预存金额   | String | 是    |            |
| PhoneNo     | 联络电话   | String | 是    |            |
| Relation    | 联系人关系  | String | 是    | 直系亲属或第一联络人 |

返回报文内容

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

### 住院单明细(CH011701)

请求报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| Code | 住院单流水号 | String | 是    |      |

返回报文内容

| 参数项           | 参数名    | 类型     | 必选   | 描述   |
| ------------- | ------ | ------ | ---- | ---- |
| PatientName   | 病人姓名   | String | 是    |      |
| Code          | 住院单流水号 | String | 是    |      |
| PatientIdNo   | 病人身份证号 | String | 是    |      |
| DeptName      | 科室名称   | String | 是    |      |
| DoctorName    | 医生名称   | String | 是    |      |
| PrescribeDate | 开单日期   | String | 是    |      |
| Bunk          | 床位     | String | 是    |      |
| TotalSum      | 总金额    | String | 是    |      |

### 检验、检查单列表(CH011801)

请求报文内容

| 参数项  | 参数名      | 类型     | 必选   | 描述           |
| ---- | -------- | ------ | ---- | ------------ |
| Code | 检查单流水号   | String | 是    |              |
| Type | 检验单or检查单 | String | 是    | 检验单值为1，检查值为2 |

返回报文格式为List形式，具体内容为

| 参数项          | 参数名  | 类型     | 必选   | 描述                     |
| ------------ | ---- | ------ | ---- | ---------------------- |
| PatientName  | 病人姓名 | String | 是    |                        |
| InspectName  | 检验内容 | String | 是    | 例如：血常规                 |
| ReceiveTime  | 检验时间 | String | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| Requestmode  | 平/急诊 | String | 不是   | 不是必选项，是则为Yes，否为No      |
| Doctadviseno | 条码号  | String | 是    | 检验、检查结果单的唯一编码          |

### 检验报告详情(CH011901)

请求报文内容

| 参数项          | 参数名  | 类型     | 必选   | 描述         |
| ------------ | ---- | ------ | ---- | ---------- |
| Doctadviseno | 条码号  | String | 是    | 检查化验单的唯一编码 |

返回报文具体内容为

| 参数项              | 参数名    | 类型         | 必选   | 描述                     |
| ---------------- | ------ | ---------- | ---- | ---------------------- |
| PatientName      | 病人名称   | String     | 是    |                        |
| InspectName      | 检验内容   | String     | 是    | 例如：血常规                 |
| Requestmode      | 平/急诊   | String     | 不是   | 不是必选项，是则为Yes，否为No      |
| Stayhospitalmode | 标本名称   | String     | 是    | 血液、尿液等                 |
| Receiver         | 检验人    | String     | 是    | 检验样本医生                 |
| Requester        | 送检人    | String     | 是    | 开单医生                   |
| Checker          | 审核人    | String     | 是    | 审核结果医生                 |
| ExecuteTime      | 采集时间   | String     | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| ReceiveTime      | 检验时间   | String     | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| ResultDetail     | 化验报告详细 | ListObject | 是    |                        |

化验报告详细

| 字段     | 名称   | 类型     | 必选   | 描述          |
| ------ | ---- | ------ | ---- | ----------- |
| Name   | 项目名称 | String | 是    | 例如，白细胞计数    |
| Result | 结果   | String | 是    | 具体的数值       |
| Hint   | 标志   | String | 是    | ↑ 或 另一个下的符号 |
| Range  | 健康范围 | String | 是    | 例如：1-100。   |
| Unit   | 项目单位 | String | 是    | %等          |

### 检查报告详情(CH012001)

请求报文内容

| 参数项          | 参数名  | 类型     | 必选   | 描述         |
| ------------ | ---- | ------ | ---- | ---------- |
| Doctadviseno | 条码号  | String | 是    | 检验结果单的唯一编码 |

返回报文具体内容为

| 参数项          | 参数名    | 类型     | 必选   | 描述                     |
| ------------ | ------ | ------ | ---- | ---------------------- |
| PatientName  | 病人名称   | String | 是    |                        |
| InspectName  | 检验内容   | String | 是    | 例如：B超                  |
| Requestmode  | 平/急诊   | String | 不是   | 不是必选项，是则为Yes，否为No      |
| Receiver     | 检验人    | String | 是    | 检查医生                   |
| Checker      | 审核人    | String | 是    | 审核结果医生                 |
| ReceiveTime  | 检验时间   | String | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| ResultDetail | 检查报告详细 | String | 是    | 检查报告                   |
| Photo        | 检查报告影像 | String | 是    | 影像照片存在位置               |
| Result       | 诊断结果   | String | 是    | 是否有病，诊断疾病              |

### 专科医院复诊开药->医生选择(CH012201)

说明：默认返回的是当日排班医生可预约的号源数量。

请求报文内容

| 参数项        | 参数名  | 类型     | 必选   | 描述     |
| ---------- | ---- | ------ | ---- | ------ |
| DoctorCode | 医生代码 | String | 是    | 用户唯一标识 |

返回报文具体内容为

| 参数项        | 参数名  | 类型         | 必选   | 描述        |
| ---------- | ---- | ---------- | ---- | --------- |
| DoctorName | 医生名称 | String     | 是    |           |
| DoctorCode | 医生代码 | String     | 是    |           |
| Remain     | 可约人数 | Integer    | 是    |           |
| Title      | 医生职称 | String     | 是    | 医生职称      |
| DeptName   | 科室名称 | String     | 是    | 科室名称      |
| Atm        | 挂号费  | Integer    | 是    |           |
| Date       | 预约时间 | Date       | 是    | 日期部分      |
| AdeptAt    | 擅长   | String     | 是    |           |
| Resume     | 简介   | String     | 是    |           |
| Photo      | 医生照片 | String     | 是    | 医生照片URL地址 |
| Sources    | 号源列表 | ObjectList | 是    |           |

##### 号源列表

| 字段       | 名称    | 类型      | 必选   | 描述                |
| -------- | ----- | ------- | ---- | ----------------- |
| Time     | 号源时间  | Date    | 是    | 时分秒部分             |
| NoonFlag | 上下午标志 | String  | 是    | 上午：am，下午：pm       |
| Code     | 号源代码  | String  | 是    |                   |
| Status   | 号源状态  | String  | 是    | 1.已预约 2.未预约 3.已锁定 |
| Number   | 分诊序号  | Integer | 是    | 序号数，如：1，2，3...    |

### 专科医生预约选择号源(CH012301)

**请求报文内容**

| 参数项           | 参数名    | 类型      | 必选   | 描述                                      |
| ------------- | ------ | ------- | ---- | --------------------------------------- |
| DoctorCode    | 医生代码   | String  | 是    |                                         |
| DateDay       | 预约时间   | String  | 是    | 日期年月日部分                                 |
| Number        | 分诊序号   | Integer | 是    | 序号数，如：1，2，3...                          |
| VisitType     | 预约类型   | String  | 是    | FZKY:复诊开药，JCYY:检查预约，ZYSQ:住院申请，ZXWZ:咨询问诊 |
| IllnessCode   | 疾病代码   | String  | 是    |                                         |
| IllnessName   | 疾病名称   | String  | 是    |                                         |
| SourceTime    | 号源时间   | String  | 是    |                                         |
| SubmitTopicId | 答卷回答ID | String  | 否    |                                         |

返回报文内容，临时变量不存储数据库

| 参数项  | 参数名  | 类型     | 必选   | 描述                          |
| ---- | ---- | ------ | ---- | --------------------------- |
| Temp | 临时变量 | String | 是    | DoctorCode#DateDay#Number组成 |

### 专科医院问卷提交(CH012401)

**请求报文内容**

| 参数项         | 参数名  | 类型     | 必选   | 描述                          |
| ----------- | ---- | ------ | ---- | --------------------------- |
| Temp        | 临时变量 | String | 是    | DoctorCode#DateDay#Number组成 |
| TopicCode   | 问卷代码 | String | 是    | 问答题的题目编号                    |
| AnswerItems | 问答列表 | Array  | 是    | 回答具体内容                      |

返回报文内容，临时变量不存储数据库

| 参数项         | 参数名  | 类型     | 必选   | 描述                          |
| ----------- | ---- | ------ | ---- | --------------------------- |
| Temp        | 临时变量 | String | 是    | DoctorCode#DateDay#Number组成 |
| IllnessName | 复诊疾病 | String | 是    |                             |
| DeptName    | 所属科室 | String | 是    |                             |
| DoctorName  | 医生名称 | String | 是    |                             |
| SourceTime  | 就诊时间 | String | 是    | 就诊时间即数据库表的号源时间              |
| Fee         | 挂号费  | String | 是    | 元                           |

​	

### 检查单缴费确认信息展示(CH012501)

**请求报文内容**

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| Code | 检查单流水号 | String | 是    |      |

返回报文内容，

| 参数项         | 参数名    | 类型        | 必选   | 描述   |
| ----------- | ------ | --------- | ---- | ---- |
| Code        | 检查单流水号 | String    | 是    |      |
| PatientName | 被检人    | String    | 是    |      |
| DoctorName  | 医生名称   | String    | 是    |      |
| TotalSum    | 总计金额   | String    | 是    |      |
| InspectItem | 检查项目   | ArrayList | 是    |      |

检查项目

| 字段        | 名称   | 类型     | 描述     |
| --------- | :--- | :----- | ------ |
| ItemName  | 项目名称 | String |        |
| Date      | 检查时间 | Date   |        |
| Sum       | 金额   | String | 当前项目金额 |
| Attention | 注意事项 | String |        |

### 确认付款，跳转到支付宝(CH012701)

请求报文内容

| 参数项       | 参数名  | 类型     | 必选   | 描述                             |
| --------- | ---- | ------ | ---- | ------------------------------ |
| OrderType | 订单类型 | String | 是    | YY:预约单, ZY:住院单, JC:检查单, CF:处方单 |
| OrderCode | 订单代码 | String | 是    | 预约单、住院单、检查单、处方单的code           |

返回报文内容

| 参数项          | 参数名    | 类型     | 必选   | 描述     |
| ------------ | ------ | ------ | ---- | ------ |
| OrderNumber  | 订单编码   | String | 是    | 每个订单唯一 |
| OrderStatus  | 住院单流水号 | String | 是    | 订单状态   |
| PatientName  | 病人身份证号 | String | 是    | 病人名    |
| DoctorName   | 科室名称   | String | 是    | 医生名    |
| PaymentMoney | 预存金额   | String | 是    | 付款金额   |



### 住院单缴费信息展示(ZY012601)

请求报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| Code | 住院单流水号 | String | 是    |      |

返回报文内容

| 参数项         | 参数名    | 类型     | 必选   | 描述   |
| ----------- | ------ | ------ | ---- | ---- |
| PatientName | 病人姓名   | String | 是    |      |
| Code        | 住院单流水号 | String | 是    |      |
| PatientIdNo | 病人身份证号 | String | 是    |      |
| DeptName    | 科室名称   | String | 是    |      |
| PrestoreSum | 预存金额   | String | 是    |      |
| TotalSum    | 合计金额   | String | 是    |      |

### 检查单给医生留言(LM010101)

请求报文内容

| 参数项     | 参数名    | 类型     | 必选   | 描述                       |
| ------- | ------ | ------ | ---- | ------------------------ |
| Code    | 检查单流水号 | String | 是    |                          |
| Type    | 留言类型   | String | 是    | JCD:检查单 CFD:处方单  ZYD:住院单 |
| Content | 留言内容   | String | 是    |                          |

返回报文内容

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

### 预约列表(YY010101)

请求报文内容

| 参数项         | 参数名  | 类型     | 必选   | 描述                                  |
| ----------- | ---- | ------ | ---- | ----------------------------------- |
| PatientCode | 病人ID | String | 是    |                                     |
| Status      | 预约状态 | String | 否    | Novisit：未就诊，Already：已就诊，Overdue：已过期 |
| PayStatus   | 缴费状态 | String | 否    | Success：缴费成功;Failure：缴费失败;None：未缴费  |

返回报文内容

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| Code        | 预约代码 | String |      |      |
| VisitType   | 预约类型 | String |      |      |
| IllnessName | 疾病名称 | String |      |      |
| CreatTime   | 创建时间 | Date   |      |      |
| SourceTime  | 预约时间 | String |      |      |
| Status      | 预约状态 | String |      |      |
| PayStatus   | 缴费状态 | String |      |      |

### 预约详情(YY010201)

请求报文内容

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| Code | 预约代码 | String | 是    |      |

返回报文内容

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| Code        | 预约代码 | String |      |      |
| VisitType   | 预约类型 | String |      |      |
| IllnessName | 疾病名称 | String |      |      |
| DeptName    | 所属科室 | Date   |      |      |
| SourceTime  | 预约时间 | String |      |      |
| PatientName | 复诊人员 | String |      |      |
| DoctorName  | 复诊医生 | String |      |      |

### 科室列表(DT010101)

请求报文内容

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

返回报文内容

| 参数项      | 参数名  | 类型         | 必选   | 描述   |
| -------- | ---- | ---------- | ---- | ---- |
| DeptCode | 科室代码 | String     |      |      |
| DeptName | 科室名称 | String     |      |      |
| Illness  | 疾病   | ObjectList |      |      |

科室相关疾病

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| IllnessCode | 疾病代码 | String |      |      |
| IllnessName | 疾病名称 | String |      |      |

### 根据疾病获取问卷（IT010101）

**请求报文内容**

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| IllnessCode | 疾病代码 | String | 是    |      |

**返回报文内容**

返回内容为列表样式

| 参数项   | 参数名   | 类型     | 必选   | 描述              |
| ----- | ----- | ------ | ---- | --------------- |
| Code  | 问答卷代码 | String | 是    |                 |
| Title | 问答卷名称 | String | 否    | 如梅毒的”有症状”与”无症状” |
| Items | 问答题列表 | Array  | 是    |                 |

问答题

| 参数项       | 参数名    | 类型         | 必选   | 描述                           |
| --------- | ------ | ---------- | ---- | ---------------------------- |
| Code      | 代码     | String     | 是    | 每道题的代码唯一                     |
| Title     | 标题     | String     | 是    |                              |
| Desc      | 描述     | String     | 否    | 对标题的补充说明                     |
| Type      | 类型     | String     | 是    | 请参考《结构说明》文档                  |
| Answer    | 选择答案   | StringList | 否    | 当为选择类型的题时的可选择内容              |
| PhotoDesc | 照片描述信息 | StringList | 否    | 列表长度表示要求拍多少照片，文本内容是要求拍的照片的描述 |



### 物流详情(WL010101)

请求报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| Code | 处方单流水号 | String | 是    |      |

返回报文内容

| 参数项            | 参数名  | 类型         | 必选   | 描述   |
| -------------- | ---- | ---------- | ---- | ---- |
| ExpressCompany | 物流公司 | String     |      |      |
| ExpressNo      | 物流编号 | String     |      |      |
| ExpressPhone   | 官方电话 | String     |      |      |
| ExpressStatus  | 物流状态 | String     |      |      |
| ExpressInfo    | 运单详情 | ObjectList |      |      |

运单详情

| 字段    | 名称     | 类型     | 描述     |
| ----- | ------ | ------ | ------ |
| Date  | 运单到达时间 | String | 运单到达时间 |
| Place | 运单到达地点 | String | 运单到达地点 |

### 缴费或退费联系人列表（CH010803）

请求报文内容

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | String | 是    | JF010101（固定值） |

返回报文内容

| 参数项   | 参数名   | 类型     | 必选   | 描述   |
| ----- | ----- | ------ | ---- | ---- |
| brid  | 病人id  | String | 是    |      |
| name  | 联系人姓名 | String | 是    |      |
| label | 联系标签  | String | 是    |      |
| jzkh  | 就诊卡号  | String | 是    |      |



### 缴费单列表（CH010803）

请求报文内容

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | String | 是    | JF010102（固定值） |
| jzid  | 就诊id    | String | 是    |               |

返回报文内容

| 参数项         | 参数名    | 类型     | 必选   | 描述   |
| ----------- | ------ | ------ | ---- | ---- |
| profile     | 缴费总览   | object | 否    |      |
| fpxmlist    | 发票项目列表 | list   | 否    |      |
| receivelist | 收货人信息  | object | 否    |      |

缴费总览

| 参数项   | 参数名   | 类型     | 必选   | 描述         |
| ----- | ----- | ------ | ---- | ---------- |
| brid  | 病人id  | string | 是    |            |
| name  | 联系人姓名 | string | 是    |            |
| label | 联系人标签 | string | 是    | 用户和病人之间的关系 |
| jzkh  | 就诊卡号  | string | 是    |            |
| sfz   | 身份证   | string | 是    |            |

发票项目列表

| 参数项        | 参数名      | 类型     | 必选   | 描述   |
| ---------- | -------- | ------ | ---- | ---- |
| fpxmid     | 发票项目id   | string | 是    |      |
| fpxmmc     | 发票项目名称   | string | 是    |      |
| fpxmje     | 发票项目金额   | string | 是    |      |
| listDetail | 发票项目详情列表 | list   | 是    |      |

发票项目详情列表

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| sfxmmc | 收费项目名称 | string | 是    |      |
| sfxmsl | 收费项目数量 | string | 是    |      |
| sfxmje | 收费项目金额 | string | 是    | 单位元  |

收货人信息

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| shdzid | 收货地址id | string | 是    |      |
| sjrxm  | 收件人姓名  | string | 是    |      |
| lxdh   | 联系电话   | string | 是    |      |
| sjdz   | 收件地址   | string | 是    |      |



## 新增医生信息（CH010400）

请求报文内容

| 参数项      | 参数名  | 类型     | 必选   | 描述   |
| -------- | ---- | ------ | ---- | ---- |
| UserName | 用户名  | String | 是    |      |

返回报文内容

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
| 无    |      |      |      |      |

### 收货人列表（CH010803）

请求报文内容

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010103（固定值） |

返回报文内容

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| shdzid | 收货地址id | string | 是    |      |
| sjrxm  | 收件人姓名  | string | 是    |      |
| lxdh   | 联系电话   | string | 是    |      |
| sjdz   | 收件地址   | string | 是    |      |
| mrbz   | 默认标志   | string | 是    |      |



### 预缴费（CH010803）

请求报文内容

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010104（固定值） |
| jzid  | 就诊id    | string | 是    |               |

返回报文内容

| 参数项    | 参数名    | 类型     | 必选   | 描述          |
| ------ | ------ | ------ | ---- | ----------- |
| msg    | 结算状态   | string | 是    | 成功：1，失败：0   |
| jfje   | 缴费金额   | string | 是    | 缴费总额        |
| ybkcje | 医保扣除金额 | string | 是    | 医保扣除金额      |
| ynzhje | 院内账户金额 | string | 是    | 医院账户金额      |
| xzfje  | 需支付金额  | string | 是    | 支付宝实际需要支付金额 |



### 是否存在缴费或退费信息（CH010803）

请求报文内容

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010105（固定值） |
| brid  | 病人id    | string | 是    |               |
| type  | 类型      | string | 是    | 缴费：jf，退费：tf   |

返回报文内容

| 参数项  | 参数名  | 类型     | 必选   | 描述            |
| ---- | ---- | ------ | ---- | ------------- |
| flag | 存在标志 | string | 是    | no:不存在，yes:存在 |



### 确认缴费-支付宝（CH010803）

请求报文内容

| 参数项        | 参数名      | 类型     | 必选   | 描述                |
| ---------- | -------- | ------ | ---- | ----------------- |
| mcode      | his映射代码  | string | 是    | JF010106（固定值）     |
| brid       | 病人ID     | string | 是    |                   |
| brname     | 病人姓名     | string | 否    |                   |
| sfz        | 身份证      | string | 否    |                   |
| kh         | 就诊卡号     | string | 否    |                   |
| je         | 金额       | string | 是    |                   |
| successurl | 支付成功跳转页面 | string | 是    |                   |
| jzid       | 就诊id     | string | 是    |                   |
| shdzid     | 收货地址id   | string | 否    | 如果qjfs是2，shdzid为空 |
| qjfs       | 取件方式     | string | 是    | 1：快递；2：自取         |

返回报文内容

| 参数项          | 参数名  | 类型     | 必选   | 描述   |
| ------------ | ---- | ------ | ---- | ---- |
| aliwappayurl | 支付链接 | string | 是    |      |



### 确认缴费-His（CH010803）

请求报文内容

| 参数项     | 参数名     | 类型     | 必选   | 描述                      |
| ------- | ------- | ------ | ---- | ----------------------- |
| mcode   | his映射代码 | string | 是    | JF010107（固定值）           |
| orderno | 订单号     | string | 是    | 对应支付成功跳转页面的out_trade_no |

返回报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述                 |
| ---- | ------ | ------ | ---- | ------------------ |
| msg  | 返回缴费结果 | string | 是    | 成功：success,失败：fail |



### 可缴费或可退费记录列表（CH010803）

请求报文内容

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010108（固定值） |
| brid  | 病人id    | string | 是    |               |
| type  | 类型      | string | 是    | 缴费：jf，退费：tf   |

返回报文内容

| 参数项     | 参数名    | 类型     | 必选   | 描述   |
| ------- | ------ | ------ | ---- | ---- |
| jzid    | 就诊id   | string | 是    | 缴费字段 |
| zzd     | 主诊断    | string | 是    | 缴费字段 |
| rq      | 就诊日期   | string | 是    | 缴费字段 |
| ys      | 就诊医生姓名 | string | 是    | 缴费字段 |
|         |        |        |      |      |
| orderno | 医院订单号  | string | 是    | 退费字段 |
| zzd     | 主诊断    | string | 是    | 退费字段 |
| rq      | 就诊日期   | string | 是    | 退费字段 |
| je      | 金额     | string | 是    | 退费字段 |



### 更新订单状态（CH010803）

请求报文内容

| 参数项     | 参数名     | 类型     | 必选   | 描述            |
| ------- | ------- | ------ | ---- | ------------- |
| mcode   | his映射代码 | string | 是    | JF010109（固定值） |
| orderno | 订单号     | string | 是    |               |
| status  | 订单状态    | string | 是    |               |

返回报文内容

| 参数项  | 参数名    | 类型     | 必选   | 描述                 |
| ---- | ------ | ------ | ---- | ------------------ |
| msg  | 是否成功标志 | string | 是    | 成功：success,失败：fail |



### 获取缴费病人信息（CH010803）

请求报文

| 参数项     | 参数名     | 类型     | 必选   | 描述                      |
| ------- | ------- | ------ | ---- | ----------------------- |
| mcode   | his映射代码 | string | 是    | JF010111（固定值）           |
| orderno | 订单号     | string | 是    | 对应支付成功跳转页面的out_trade_no |

返回报文内容

| 参数项         | 参数名    | 类型     | 必选   | 描述        |
| ----------- | ------ | ------ | ---- | --------- |
| shdzid      | 收货地址id | string | 否    |           |
| jzid        | 就诊id   | string | 是    |           |
| paymenttype | 支付方式   | string | 是    | 支付宝或微信    |
| qjfs        | 取件方式   | string | 是    | 快递：1，自取：2 |



### 支付宝退费（CH010803）

请求报文

| 参数项      | 参数名     | 类型     | 必选   | 描述                      |
| -------- | ------- | ------ | ---- | ----------------------- |
| mcode    | his映射代码 | string | 是    | JF010110（固定值）           |
| totalfee | 交易金额    | string | 是    | 对应支付成功跳转页面的total_fee    |
| tradeno  | 交易号     | string | 是    | 对应支付成功跳转页面trade_no      |
| orderno  | 订单号     | string | 是    | 对应支付成功跳转页面的out_trade_no |

返回报文内容

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 退费结果 | string | 是    | 成功：success，失败：fail |



### 支付宝和HIS退费（CH010803）

请求报文

| 参数项     | 参数名     | 类型     | 必选   | 描述            |
| ------- | ------- | ------ | ---- | ------------- |
| mcode   | his映射代码 | string | 是    | JF010114（固定值） |
| orderno | 医院订单号   | string | 是    |               |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 退费结果 | string | 是    | 成功：success，失败：fail |



### 退费清单（CH010803）

请求报文

| 参数项     | 参数名     | 类型     | 必选   | 描述            |
| ------- | ------- | ------ | ---- | ------------- |
| mcode   | his映射代码 | string | 是    | JF010113（固定值） |
| orderno | 医院订单号   | string | 是    |               |

返回报文

| 参数项      | 参数名    | 类型     | 必选   | 描述   |
| -------- | ------ | ------ | ---- | ---- |
| profile  | 病人信息   | object | 是    |      |
| fpxmlist | 发票项目列表 | list   | 否    |      |

病人信息

| 参数项   | 参数名  | 类型     | 必选   | 描述   |
| ----- | ---- | ------ | ---- | ---- |
| brid  | 病人id | string | 是    |      |
| name  | 病人姓名 | string | 是    |      |
| label | 病人标签 | string | 是    |      |

发票项目列表

| 参数项        | 参数名      | 类型     | 必选   | 描述   |
| ---------- | -------- | ------ | ---- | ---- |
| fpxmid     | 发票项目id   | string | 是    |      |
| fpxmmc     | 发票项目名称   | string | 是    |      |
| fpxmje     | 发票项目金额   | string | 是    |      |
| listDetail | 发票项目详情列表 | list   | 是    |      |

发票项目详情列表

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| sfxmmc | 收费项目名称 | string | 是    |      |
| sfxmsl | 收费项目数量 | string | 是    |      |
| sfxmje | 收费项目金额 | string | 是    |      |





### 查询模块-缴费退费记录列表（CH010803）

请求报文

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010115（固定值） |
| brid  | 病人id    | string | 是    |               |

返回报文

| 参数项     | 参数名   | 类型     | 必选   | 描述   |
| ------- | ----- | ------ | ---- | ---- |
| orderno | 医院订单号 | string | 是    |      |
| jztime  | 就诊时间  | string | 是    |      |
| je      | 金额    | string | 是    |      |
| jztype  | 就诊类型  | string | 是    |      |
| brname  | 病人姓名  | string | 是    |      |
| status  | 状态    | string | 是    |      |

### 查询模块-获取发票项目明细（CH010803）

请求报文

| 参数项     | 参数名     | 类型     | 必选   | 描述            |
| ------- | ------- | ------ | ---- | ------------- |
| mcode   | his映射代码 | string | 是    | JF010116（固定值） |
| orderno | 医院订单号   | string | 是    |               |

返回报文

| 参数项      | 参数名    | 类型   | 必选   | 描述   |
| -------- | ------ | ---- | ---- | ---- |
| fpxmlist | 发票项目列表 | list | 否    |      |

发票项目列表

| 参数项        | 参数名      | 类型     | 必选   | 描述   |
| ---------- | -------- | ------ | ---- | ---- |
| fpxmid     | 发票项目id   | string | 是    |      |
| fpxmmc     | 发票项目名称   | string | 是    |      |
| fpxmje     | 发票项目金额   | string | 是    |      |
| listDetail | 发票项目详情列表 | list   | 是    |      |

发票项目详情列表

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| sfxmmc | 收费项目名称 | string | 是    |      |
| sfxmsl | 收费项目数量 | string | 是    |      |
| sfxmje | 收费项目金额 | string | 是    |      |



### 插入或更新收货人信息（CH010803）

请求报文

| 参数项    | 参数名     | 类型     | 必选   | 描述                        |
| ------ | ------- | ------ | ---- | ------------------------- |
| mcode  | his映射代码 | string | 是    | JF010117（固定值）             |
| type   | 操作类型    | string | 是    | 插入：insert，更新：update       |
| shdzid | 收货地址id  | string | 否    | 插入：shdzid为空，更新：shdzid不能为空 |
| sjrxm  | 收件人姓名   | string | 是    |                           |
| lxdh   | 联系电话    | string | 是    |                           |
| sjdz   | 收件地址    | string | 是    |                           |
| mrbz   | 默认标志    | string | 是    |                           |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 操作结果 | string | 是    | 成功：success，失败：fail |



### 删除收货人信息（CH010803）

请求报文

| 参数项    | 参数名     | 类型     | 必选   | 描述            |
| ------ | ------- | ------ | ---- | ------------- |
| mcode  | his映射代码 | string | 是    | JF010118（固定值） |
| shdzid | 收货地址id  | string | 是    |               |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述                 |
| ---- | ---- | ------ | ---- | ------------------ |
| msg  | 操作结果 | string | 是    | 成功：success，失败：fail |



### 查询模块-处方单列表（CH010803）

请求报文

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010119（固定值） |
| brid  | 病人id    | string | 是    |               |

返回报文

| 参数项   | 参数名   | 类型     | 必选   | 描述   |
| ----- | ----- | ------ | ---- | ---- |
| cflsh | 处方流水号 | string | 是    |      |
| jzks  | 就诊科室  | string | 是    |      |
| cflx  | 处方类型  | string | 是    |      |
| zjje  | 就诊金额  | string | 是    |      |
| ysxm  | 医生姓名  | string | 是    |      |
| jzrq  | 就诊日期  | string | 是    |      |



### 查询模块-处方单详情（CH010803）

请求报文

| 参数项   | 参数名     | 类型     | 必选   | 描述            |
| ----- | ------- | ------ | ---- | ------------- |
| mcode | his映射代码 | string | 是    | JF010120（固定值） |
| cflsh | 处方流水号   | string | 是    |               |

返回报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| ypmc | 药品名称 | string | 是    |      |
| ypxx | 药品信息 | string | 是    |      |
| sypc | 使用频次 | string | 是    |      |
| gytj | 给药途径 | string | 是    |      |
| yl1  | 用量1  | string | 是    |      |
| yl2  | 用量2  | string | 是    |      |

### 查询模块-检验单或检查单列表（CH010803）

请求报文

| 参数项   | 参数名     | 类型     | 必选   | 描述              |
| ----- | ------- | ------ | ---- | --------------- |
| mcode | his映射代码 | string | 是    | JF010121（固定值）   |
| brid  | 病人id    | string | 是    |                 |
| type  | 查询类型    | string | 是    | 检查单：jcd，检验单：jyd |

返回报文

| 参数项      | 参数名      | 类型     | 必选   | 描述   |
| -------- | -------- | ------ | ---- | ---- |
| jyjcdlsh | 检验检查单流水号 | string | 是    |      |
| jyjcdmc  | 检验检查单名称  | string | 是    |      |
| jyjcrq   | 检验检查日期   | string | 是    |      |



### 查询模块-检验单详情（CH010803）

请求报文

| 参数项    | 参数名     | 类型     | 必选   | 描述            |
| ------ | ------- | ------ | ---- | ------------- |
| mcode  | his映射代码 | string | 是    | JF010122（固定值） |
| jydlsh | 检验单流水号  | string | 是    |               |

返回报文

| 参数项     | 参数名    | 类型     | 必选   | 描述   |
| ------- | ------ | ------ | ---- | ---- |
| profile | 检验基本信息 | object | 是    |      |
| jyxmlb  | 检验项目列表 | list   | 是    |      |

检验基本信息

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| sqks | 申请科室 | string | 是    |      |
| jynr | 检验内容 | string | 是    |      |
| bbmc | 标本名称 | string | 是    |      |
| jyr  | 检验人  | string | 是    |      |
| sjr  | 送检人  | string | 是    |      |
| shr  | 审核人  | string | 是    |      |
| cjsj | 采集时间 | string | 是    |      |
| jysj | 检验时间 | string | 是    |      |

检验项目列表

| 参数项    | 参数名    | 类型     | 必选   | 描述   |
| ------ | ------ | ------ | ---- | ---- |
| jyxmmc | 检验项目名称 | string | 是    |      |
| ckfw   | 参考范围   | string | 是    |      |
| jyxmz  | 检验项目值  | string | 是    |      |

### 查询模块-检查单详情（CH010803）

请求报文

| 参数项    | 参数名     | 类型     | 必选   | 描述            |
| ------ | ------- | ------ | ---- | ------------- |
| mcode  | his映射代码 | string | 是    | JF010123（固定值） |
| jcdlsh | 检查单流水号  | string | 是    |               |

返回报文

| 参数项     | 参数名    | 类型     | 必选   | 描述   |
| ------- | ------ | ------ | ---- | ---- |
| profile | 检查基本信息 | object | 是    |      |
| jcxmlb  | 检查项目列表 | list   | 是    |      |

检查基本信息

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| sqks | 申请科室 | string | 是    |      |
| jynr | 检验内容 | string | 是    |      |
| jyr  | 检验人  | string | 是    |      |
| sjr  | 送检人  | string | 是    |      |
| shr  | 审核人  | string | 是    |      |
| cjsj | 采集时间 | string | 是    |      |
| jysj | 检验时间 | string | 是    |      |

检查项目列表

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jcsj | 检查所见 | string | 是    |      |
| jczd | 检查诊断 | string | 是    |      |

### 判断是否可退费（CH010803）

请求报文

| 参数项     | 参数名     | 类型     | 必选   | 描述            |
| ------- | ------- | ------ | ---- | ------------- |
| mcode   | his映射代码 | string | 是    | JF010124（固定值） |
| orderno | 资源订单号   | string | 是    |               |

返回报文

| 参数项  | 参数名     | 类型     | 必选   | 描述         |
| ---- | ------- | ------ | ---- | ---------- |
| flag | 是否可退费标志 | string | 是    | 是：yes，否：no |
| msg  | 原因      | string | 是    |            |

### 医生列表查询（BA040202）

**请求报文内容**

| 参数项       | 参数名  | 类型      | 必选   | 描述              |
| --------- | ---- | ------- | ---- | --------------- |
| pageindex | 页号   | integer | 是    | 当前第几页，从1开始      |
| pagesize  | 页大小  | integer | 是    | 每页大小            |
| pydm      | 拼音码  | string  | 是    | 医生姓名拼音首字母，或是中文名 |

**返回报文内容**

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| ksmc | 科室名称 | string | 是    |      |
| ysxb | 医生性别 | string | 是    |      |
| ksbm | 科室编码 | string | 是    |      |
| ysbm | 医生编码 | string | 是    |      |
| zcmc | 职称名称 | string | 是    |      |
| ysxm | 医生姓名 | string | 是    |      |