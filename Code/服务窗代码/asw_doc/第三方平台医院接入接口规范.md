[TOC]

<!--TOC-->

# 第三方平台医院接入接口规范

## 前 言

本规范定义了医院在接入第三方平台时的接口规约，适用于温州地区二级以上医院与支付宝平台或微信平台的技术对接。技术规范分为以下三个部分：

- 第一部分：公共接口规约
- 第二部分：个性化接口规约
- 第三部分：附录（标准应答码）

## 公共接口规约
I
### 规约说明

医院端服务基于Web Service标准实现，部署在医院的业务网络内，面向平台端提供服务。

#### 请求报文

请求报文由中心端发往医院端，请求报文包含操作码和报文（XML格式）两项参数。医院端服务的请求码如下。

**区域卫生接口**

| 类别    | 操作码  | 说明            | 备注（原操作码） |
| ----- | ---- | ------------- | -------- |
| 卡操作   | C001 | 卡查询           | A011     |
|       | C002 | 卡绑定           | A002     |
|       | C003 | 卡验证           | A001     |
| 支付类   | P001 | 订单查询          |          |
|       | P002 | 生成订单          | A003     |
|       | P003 | 订单支付          | A004     |
|       | P004 | 取消订单          | A005     |
|       | P005 | 医院账户余额查询      | A009     |
|       | P006 | 账户变更记录        | A010     |
|       | P007 | 商户通知          | A007     |
| 查询类   | Q001 | 药品查询-无查询条件，分页 | A017     |
|       | Q002 | 药品查询-按拼音代码查询  | A013     |
|       | Q003 | 收费项目-无查询条件，分页 | A018     |
|       | Q004 | 收费项目-按拼音代码查询  | A014     |
|       | Q005 | 医院专家-无查询条件，分页 | A019     |
|       | Q006 | 医院专家-按拼音代码查询  | A015     |
|       | Q007 | 医院专家-信息明细     | A016     |
|       | Q008 | 剩余床位查询        |          |
| 报告单查询 | B001 | 查询检验单         |          |
|       | B002 | 查询检验单详细       |          |
|       | B003 | 查询检查单         |          |
|       | B004 | 查询检查单详细       |          |
| 体检中心  | T001 | 体检套餐列表        |          |
|       | T002 | 体检套餐明细        |          |
|       | T003 | 体检状态信息(手机号码)  |          |
|       | T004 | 体检查询报告        |          |
|       | T005 | 体检预约          |          |
|       | T006 | 体检预约作废        |          |
|       | T007 | 预约信息查询        |          |



**第三方支付平台接口**

| 类别   | 操作码      | 说明                         |
| ---- | -------- | -------------------------- |
| 用户信息 | UI010101 | 用户注册（用户建档）0.1版本            |
|      | UI010102 | 用户注册0.2版本，带绑门诊卡功能          |
|      | UI010201 | 用户登录（获得用户信息）               |
|      | UI010301 | 修改用户信息（用于修改手机号码）           |
|      | UI020101 | 添加常用联系人                    |
|      | UI020201 | 获得常用联系人信息（列表）              |
|      | UI020301 | 删除常用联系人                    |
| 门诊卡  | CA010101 | 获得门诊卡列表                    |
|      | CA010102 | 获得门诊卡信息_病人ID               |
|      | CA010201 | 本人门诊卡绑定                    |
|      | CA010301 | 本人门诊卡解绑                    |
|      | CA020101 | 常用联系人门诊卡绑定                 |
|      | CA020201 | 常用联系人门诊卡解绑                 |
| 医生信息 | DO010101 | 医生信息列表_按姓名查                |
|      | DO010102 | 医生信息列表_按姓名拼音首字母查           |
|      | DO010103 | 医生信息列表_按医生代码查              |
|      | DO010201 | 医生停诊信息列表                   |
| 当日挂号 |          |                            |
| 门诊病历 | BL010101 | 门诊就诊病历列表，电子病历              |
|      | BL010201 | 电子病历内容                     |
|      | BL010301 | 门诊指引单，取药                   |
| 病人服药 | FY010101 | 病人药品处方信息列表                 |
|      | FY010201 | 病人药品服用信息                   |
| 门诊预约 | OR010101 | 预约科室列表                     |
|      | OR010201 | 科室排班信息（某一天科室下还有所有医生还有多少号源） |
|      | OR020101 | 预约医生列表                     |
|      | OR020201 | 医生排班信息                     |
|      | OR020301 | 门诊预约号源信息                   |
|      | OR030101 | 门诊预约                       |
|      | OR030201 | 门诊预约历史                     |
|      | OR030301 | 取消门诊预约                     |
| 检查预约 |          |                            |
| 门诊报到 | PD010101 | 门诊预约报到                     |
|      | PD010201 | 门诊预约排队列表                   |
|      | PD010301 | 挂号退号                       |
|      | PD010001 | 门诊预约所有排队前十人员列表信息           |
| 检查报到 | PD020101 | 检查预约报到排队列表                 |
|      | PD020201 | 检查预约报到                     |
|      | PD020001 | 检查预约所有排队前十人员列表信息           |
| 检查检验 | EX010101 | 化验报告单列表                    |
|      | EX010201 | 一个化验报告单抬头信息                |
|      | EX010301 | 一个化验报告单详细列表信息              |
|      | EX020101 | 检验报告单列表                    |
|      | EX020201 | 一个检验报告单抬头信息                |
|      | EX020301 | 一个检验报告单结果信息                |
| 体检报告 |          |                            |
| 门诊预存 | PO010101 | 创建门诊预存订单                   |
|      | PO010201 | 门诊预存订单列表                   |
|      | PO010301 | 取消门诊预存订单                   |
|      | PO010401 | 商户通知门诊预存成功                 |
| 住院预缴 | PI010101 | 创建住院预缴订单                   |
|      | PI010201 | 住院预缴订单列表                   |
|      | PI010301 | 取消住院预缴订单                   |
|      | PI010401 | 商户通知住院预缴成功                 |
| 住院信息 | IP010101 | 住院病人信息                     |
|      | IP020101 | 住院费用                       |
|      |          | 住院费用明细                     |
| 通知信息 | NF010101 | 通知病人就诊信息                   |
|      | NF010201 | 核对未到账的充值缴费信息               |

#### 回复报文

医院端服务的回复报文是以`<result>`为根节点的XML结构，正常返回时根节点下包含`<message>`节点，非正常返回时根节点下包含`<exception>`节点。正常返回时，XML样例：

**成功报文回复**

``` xml
<result>
  <result>success<result>
  <message>
    <value>
      ………
    </value>
  </message>
</result>
```

**失败报文回复**

``` xml
<root>
  <result>failure</result>
  <message>
    <status></status>
    <remark></remark>
  </message>
</root>
```

**异常回复报文**

``` xml
<root>
  <result>exception</result>
  <message>
    <status></status>
    <remark></remark>
  </message>
</root>
```

成功时：`result`赋值为`success`；

失败时：赋值为`failure`；

出现异常时：赋值为`exception`。

`status`值请参见*第三部分：附录（标准应答码）*。

## 报文规约

### 卡操作

#### 绑卡查询（C001）

##### 功能描述

通过绑卡查询操作，验证输入卡信息的正确性并查询卡的绑定状态，避免多次绑定。

查询匹配条件：

1. 健康卡号匹配，身份证号，姓名，手机任一匹配，返回且只返回这一张卡的信息。
2. 身份证号匹配，不管其它条件是否匹配都返回。
3. 身份证号不匹配，HIS库中没有身份证信息，姓名与联系电话同时匹配时返回。
4. 身份证号不匹配，HIS库中有身份证信息，不管其它是否匹配都不返回。   
5. 身份证号不匹配，请求中没有联系电话，HIS库中没有身份证信息，姓名匹配时返回。

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**           |
| ------- | ------ | ------ | ---------------- |
| brxm    | 病人姓名   | 是      |                  |
| sfzh    | 身份证号   | 是      | 带有“X”的统一采用大写。    |
| bkhm    | 健康卡号   | 否      | 有卡号时要考虑是否精确匹配。   |
| lxdh    | 联系电话   | 否      |                  |
| brlx    | 病人类型   | 是      | 1.  门诊病人2.  住院病人 |

请求报文的XML样例片段如下所示：

``` xml
<root>
  <brxm>病人姓名</brxm>
  <sfzh>身份证号</sfzh>
  <brlx>病人类型</brlx>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注**                        |
| ------- | ------ | ------ | ----------------------------- |
| brid    | 病人id   | 是      |                               |
| bkhm    | 健康卡号   | 是      |                               |
| bklx    | 绑卡类型   | 是      | "byk"-本院卡；"smk"-市民卡；"ybk"-医保卡 |
| BRXM    | 病人姓名   | 是      |                               |
| SFZH    | 身份证号   | 是      |                               |
| jlsj    | 本院建档时间 | 是      |                               |
| lxdh    | 联系电话   | 是      |                               |
| Jtdz    | 家庭地址   | 否      |                               |
| szbq    | 所住病区   | 否      | 住院病人必填                        |
| szcw    | 床位号    | 否      | 住院病人必填                        |
| zyh     | 住院号    | 否      | 住院病人必填                        |

回复报文的XML样例片段如下所示：

``` xml
<root>
  <result>success</result>
  <message>
    <value>
      <brid></brid>
      <bkhm></bkhm>
      <bklx> </bklx>
      <brxm> </brxm>
      <sfzh></sfzh>
      <jlsj></jlsj>
      <lxdh></lxdh>
      <jtdz></jtdz>
      <szbq></szbq>
      <szcw></szcw>
      <zyh></zyh>
    </value>
  </message>
</root>
```

#### 卡绑定（C002）

根据绑卡卡号、身份证号、病人姓名、绑卡类型、联系电话等信息，实现温州智慧健康账户与医院健康卡绑定。

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**                        |
| ------- | ------ | ------ | ----------------------------- |
| brid    | 绑卡卡号   | 是      |                               |
| sfzh    | 身份证号   | 是      |                               |
| brxm    | 病人姓名   | 是      |                               |
| bklx    | 绑卡类型   | 是      | "byk"-本院卡;"smk"-市民卡;"ybk"-医保卡 |
| lxdh    | 联系电话   | 是      |                               |
| brlx    | 病人类型   | 是      | 1.  门诊病人;2.  住院病人             |

请求报文的XML样例片段如下所示：

``` xml
<root>
  <value>

  </value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注**                                   |
| ------- | ------ | ------ | ---------------------------------------- |
| status  | 绑定状态   | 是      | ‘0’-成功绑定;‘1’-绑定失败，该卡已被绑定;‘2’-绑定失败,电话号码不匹配;‘3’-绑卡失败，失败原因,数据异常 |
| remark  | 注释     | 否      | 状态描述信息                                   |

回复报文的XML样例片段如下所示：

``` xml
<root>
  <result>success</result>
  <message>
    <value>
      <status>绑定状态</status>
      <remark>注释</remark>
    </value>
  </message>
</root>
```

### 支付类

平台端发起的门诊和住院储值账户充值流程，涉及到平台端、平台服务端、医院服务端的交互。

**注：**

1、由于平台端发起的商户通知为异步操作，导致医院端服务P003和P007操作时序的不确定性，医院端服务实现时需考虑先收到P00后收到P007和先收到P007后收到P003两种情况。

2、对于执行完P003，长时间未收到银联端发起的商户请求这种情况，平台端应向银联服务端主动发起并查询相关的订单信息，获得商户通知并执行P007。

#### 储值账户-订单查询(P001)

##### 请求报文

| **信息项**   | **说明** | **必填** | **备注**                          |
| --------- | ------ | ------ | ------------------------------- |
| brid      | 病人ID   | 是      |                                 |
| brlx      | 病人类型   | 是      | 病人类型：1.  门诊病人;2.  住院病人          |
| type      | 查询类型   | 是      | 操作类型：1.  返回未支付的订单;2.  返回已经支付的订单 |
| querypage | 是否分页查询 | 是      | 1.  查询所有不分页;2.  分页              |
| pageno    | 访问页码   | 否      |                                 |
| pagerow   | 每页显示行数 | 否      |                                 |

请求报文的XML样例片段如下所示：

``` xml
<root>
  <bkhm>绑卡号码</bkhm>
  <brid>病人ID</brid>
  <czje>充值金额</czje>
  <brlx>充值金额</brlx>
  <type></type>
  <count></count>
  <startTime></startTime>
  <endTime></endTime>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注**                             |
| ------- | ------ | ------ | ---------------------------------- |
| yylsh   | 医院流水号  |        |                                    |
| yhlsh   | 银行流水号  |        |                                    |
| yhmc    | 银行名称   |        |                                    |
| cssj    | 创始时间   |        |                                    |
| czje    | 金额     |        |                                    |
| ddzt    | 订单状态   |        | 1. 已生成;2. 已经充值;3. 充值失败             |
| sjczzt  | 手机支付状态 |        | 1.  手机支付成功;2.  手机支付失败;3.  用户取消手机支付 |
| paytype | 支付类型   | 是      | alipay-支付宝;unionpay-银联             |

#### 储值账户-生成订单(P002)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**                  |
| ------- | ------ | ------ | ----------------------- |
| bkhm    | 绑卡号码   | 是      |                         |
| brid    | 病人ID   | 是      |                         |
| czje    | 金额     | 是      | 以元为单位                   |
| brlx    | 病人类型   | 是      | 病人类型：1.  门诊病人;2.  住院病人  |
| paytype | 支付类型   | 是      | alipay-支付宝 ;unionpay-银联 |

请求报文的XML样例片段如下所示：

``` xml
<root>
  <bkhm>绑卡号码</bkhm>
  <brid>病人ID</brid>
  <czje>充值金额</czje>
  <brlx></brlx>
</root>
```

##### 回复数据

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| yylsh   | 医院流水号  | 是      |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
  <result>success</result>
  <message>
    <value>
    	<yylsh>1000000022</yylsh>
    </value>
  </message>
</root>
```

| **信息项** | **说明** | **必填** | **备注**                                   |
| ------- | ------ | ------ | ---------------------------------------- |
| status  | 操作结果   | 是      | 1.  病人ID不存在;2.  充值金额异常;3.  读取服务器系统时间出错。;4.  卡号校验失败。;5- 获取订单流水号出错;-1- 操作异常 |
| remark  | 提示     | 否      | 状态描述信息                                   |

#### 储值账户-订单支付(P003)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**                                   |
| ------- | ------ | ------ | ---------------------------------------- |
| yylsh   | 医院流水号  |        |                                          |
| yhlsh   | 银行流水号  |        |                                          |
| sjczzt  | 手机支付状态 |        | 1.  创建状态;2.  手机端成功支付;3.  手机端支付失败;4.  手机端用户取消 |
| paytype | 支付类型   | 是      | alipay-支付宝;unionpay-银联                   |

请求报文的XML样例片段如下所示：

``` xml
<root>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| status  | 操作结果   | 是      | 0-操作成功 |
| remark  | 注释     | 否      | 状态描述信息 |

回复报文的XML样例片段如下所示：

``` xml
<root>
  <result>success</result>
  <message>
    <status>0</status>
    <remark></remark>
  </message>
</root>
```

#### 储值账户-取消订单(P004)

删除”手机端支付失败”或者“手机端用户取消”状态的订单

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| yylsh   | 医院流水号  | 是      |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
  <value>
  	<yylsh>医院流水号</yylsh>
  </value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注**            |
| ------- | ------ | ------ | ----------------- |
| status  | 操作结果   | 是      | 0-成功取消;1-;-1-操作失败 |
| remark  | 注释     | 否      |                   |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 储值账户-余额查询(P005)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| brid    | 病人ID   | 是      |        |
| brlx    | 病人类型   | 是      |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 返回数据

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| zhye    | 账户余额   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 储值账户-账户变更记录(P006)

查询储值账户流水账（包含窗口、自助机的缴费口矿状况）。

##### 请求报文

| **信息项**   | **说明** | **必填** | **备注**            |
| --------- | ------ | ------ | ----------------- |
| brid      | 病人ID   | 是      |                   |
| brlx      | 病人类型   | 是      | 病人类型：1-门诊病人；2住院病人 |
| querypage | 是否分页查询 | 是      | 1-查询所有不分页 2-分页    |
| pageno    | 访问页码   | 否      |                   |
| pagerow   | 每页显示行数 | 否      |                   |

请求报文的XML样例片段如下所示：

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| zffs    | 充值方式   |        |        |
| jkje    | 交款金额   |        |        |
| jkrq    | 交款日期   |        |        |

#### 商户通知(P007)

1，记录商户通知的日志。 2，更新订单的状态 3，修改HIS的记录表

##### 请求报文

| 信息项                | 说明      | 必填   | 备注                                       |
| ------------------ | ------- | ---- | ---------------------------------------- |
| yylsh              | 医院流水号   | 是    | 支付宝：商户网站唯一订单号                            |
| accno              | 账号      | 是    | 银联：银行卡号;支付宝：买家支付宝用户号（String30）           |
| accesstype         | 接入类型    | 否    |                                          |
| biztype            | 产品类型    | 否    |                                          |
| certid             | 证书ID    |      |                                          |
| currencycode       | 交易币种    | 否    |                                          |
| encoding           | 编码方式    |      | Utf-8                                    |
| merid              | 商户代码    | 是    | 银联：商户号;支付宝：卖家支付宝用户号PID                   |
| orderid            | 商户订单号   | 是    | 同 yylsh                                  |
| queryid            | 交易产讯流水号 | 是    | 银联：银行流水号;支付宝：支付宝交易号                      |
| respcode           | 响应码     | 是    | 银联：00 成功，其它失败;<s>支付宝：交易状态（具体参见支付宝）</s> 00到账，99未到账 |
| respmsg            | 响应信息    | 否    |                                          |
| settleamt          | 清算金额    | 否    |                                          |
| settlecurrencycode | 清算币种    | 否    |                                          |
| settledate         | 清算日期    |      | 支付宝：交易付款时间                               |
| signmethod         | 签名方式    |      | 支付宝：RSA                                  |
| traceno            | 系统跟踪号   |      |                                          |
| tracetime          | 交易传输时间  |      | 支付宝：通知时间                                 |
| txnamt             | 交易金额    | 是    | 单元分                                      |
| txnsubtype         | 交易子类    |      |                                          |
| txntime            | 订单发送时间  |      | 支付宝：交易创建时间                               |
| txntype            | 交易类型    |      |                                          |
| version            | 版本号     |      |                                          |
| signature          | 签名      | 是    |                                          |
| jysj               | 交易时间    |      | 后台订单生成时间                                 |
| source             | 源通知报文   | 是    | 支付方返回的通知报文                               |
| paytype            | 支付类型    | 是    | alipay-支付宝;unionpay-银联                   |

请求报文的XML样例片段如下所示：

``` xml
<root>
  <value>
  </value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注**                                   |
| ------- | ------ | ------ | ---------------------------------------- |
| status  | 绑定状态   | 是      | 成功时返回0;1-已经交易记录,无需插入;其他返回信息都将采用exception描述 |
| remark  | 注释     | 否      |                                          |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 转账(P008)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| yylsh   | 医院流水号  | 是      |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
<yylsh>医院流水号</yylsh>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **值类型** | **备注**                       |
| ------- | ------ | ------- | ---------------------------- |
| zzzt    | 确认状态   |         | 成功时返回1，其他返回信息都将采用exception描述 |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 交易明细(P009)（是否需要？）

##### 请求报文

| **字段名** | **说明** | **值类型** | **备注**                |
| ------- | ------ | ------- | --------------------- |
| bkid    | 病人id   |         |                       |
| brlx    | 病人类型   | 是       | 病人类型，新增加：1-门诊病人；2住院病人 |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| zffs    | 变更方式   |        |        |
| jkje    | 变更金额   |        |        |
| jkrq    | 变更日期   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

### 查询类

#### 药品价格-无查询条件、分页查询（Q001）

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| pageno  | 访问页码   |        |        |
| pagerow | 每页显示行数 |        |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| yplx    | 药品类型   |        |        |
| ypmc    | 药品名称   |        |        |
| ypdw    | 计量单位   |        |        |
| ypgg    | 药品规格   |        |        |
| ypcd    | 药品产地   |        |        |
| ypjg    | 药品价格   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 药品价格-按拼音码或名称查询(Q002)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| pydm    | 拼音代码   | 是      |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| yplx    | 药品类型   |        |        |
| ypmc    | 药品名称   |        |        |
| ypdw    | 计量单位   |        |        |
| ypgg    | 药品规格   |        |        |
| ypcd    | 药品产地   |        |        |
| ypjg    | 药品价格   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 收费项目-无查询条件，分页(Q003)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| pageno  | 访问页码   |        |        |
| pagerow | 每页显示行数 |        |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| fylx    | 费用类型   |        |        |
| fymc    | 费用名称   |        |        |
| fydw    | 计量单位   |        |        |
| fyjg    | 收费价格   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 收费项目-按拼音码或名称查询 (Q004)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| pydm    | 拼音代码   |        |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| fylx    | 费用类型   |        |        |
| fymc    | 费用名称   |        |        |
| fydw    | 计量单位   |        |        |
| fyjg    | 收费价格   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 医院专家-无查询条件、分页(Q005)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| pageno  | 访问页码   |        |        |
| pagerow | 每页显示行数 |        |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| ysjj    | 医生简介   |        |        |
| yssc    | 医生     |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 医院专家-按拼音码查询(Q006)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| pydm    | 拼音代码   |        |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| ysxm    | 医生姓名   |        |        |
| ysdm    | 医生代码   |        |        |
| ysjb    | 医生级别   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 医院专家-信息明细(Q007)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| ysdm    | 医生代码   |        |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| ysjj    | 医生简介   |        |        |
| yssc    | 医生擅长   |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

#### 查询剩余床位(Q008)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
|         |        |        |        |

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| bqmc    | 病区名称   | 是      |        |
| sycw    | 剩余床位   | 是      |        |

``` xml
<root>
<result>success</result>
<message>
<value>
<bqmc>一病区</bqmc>
<sycw>5</sycw>
</value>
  <value><bqmc>二病区</bqmc><sycw>0</sycw></value>
  <value><bqmc>三病区</bqmc><sycw>0</sycw></value>
  <value><bqmc>四病区</bqmc><sycw>0</sycw></value>
  <value><bqmc>五病区</bqmc><sycw>1</sycw></value>
  <value><bqmc>六病区</bqmc><sycw>0</sycw></value>
  <value><bqmc>七病区</bqmc><sycw>11</sycw></value>
  <value><bqmc>八病区</bqmc><sycw>30</sycw></value>
 </message>
</root>
```

### 查询检查验等报告单

#### 查询检验单(B001)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**                           |
| ------- | ------ | ------ | -------------------------------- |
| brid    | 病人ID   | 是      |                                  |
| brlx    | 病人类型   | 是      | 病人类型:1.  门诊病人;2.  住院病人           |
| brxm    | 病人姓名   | 否      | 当brid,brlx同时为空的时候按照brxm、lxdh查询报告 |
| lxdh    | 联系电话   | 否      |                                  |

##### 回复报文

| **信息项** | **说明**   | **必填** | **备注** |
| ------- | -------- | ------ | ------ |
| bgdh    | 报告单号     |        |        |
| sjmd    | 送检目的     |        |        |
| cjsj    | 采集时间     |        |        |
| sjr     | 送检人      |        |        |
| jysj    | 检验时间     |        |        |
| jyr     | 检验人      |        |        |
| shr     | 审核人      |        |        |
| jzch    | 就诊床号     |        |        |
| zdjg    | 诊断结果     |        |        |
| bbmc    | 标本名称     |        |        |
| mzbz    | 门诊标识     |        |        |
| dyjb    | 调阅级别     |        |        |
| bz      | 备注       |        |        |
| hzbh    | 患者编号     |        |        |
| jgmc    | 机构名称     |        |        |
| sbm     | 设备码（条形码） |        |        |
| brxm    | 病人姓名     |        |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<result>success</result>
<message>
<value>
<bgdh>140801SHA00003</bgdh>
<sjmd>门诊肾功能+血糖(空腹)+门诊肝功能+血脂+电解质</sjmd>
<cjsj>2014-08-01 08:45:05</cjsj>
<sjr>土文珍</sjr>
<jysj>2014-08-01 09:04:44</jysj>
<jyr>卢圣朵</jyr>
<shr>郑存庆</shr>
<jzch>普通精神科</jzch>
<zdjg>分离（转换）性障碍</zdjg>
<bbmc>血清</bbmc>
<mzbz>门诊</mzbz>
<dyjb></dyjb>
<bz></bz>
<hzbh></hzbh>
<sbm></sbm>
</value>
<value>
<bgdh>140801LJA00021</bgdh>
<sjmd>血常规</sjmd>
<cjsj>2014-08-01 08:45:05</cjsj>
<sjr>土文珍</sjr>
<jysj>2014-08-01 08:51:40</jysj>
<jyr>刘畅</jyr>
<shr>郑存庆</shr>
<jzch>普通精神科</jzch>
<zdjg>分离（转换）性障碍</zdjg>
<bbmc>全血</bbmc>
<mzbz>门诊</mzbz>
<dyjb></dyjb>
<bz></bz>
<hzbh></hzbh>
<sbm></sbm>
</value>
</message>
</root>
```

#### 查询检验单详细(B002)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**                         |
| ------- | ------ | ------ | ------------------------------ |
| cxhm    | 查询号码   | 是      |                                |
| type    | 类型     | 是      | 操作类型：1-按报告单号查询；2-按条码查询         |
| brxm    | 病人姓名   | 否      | 只有在条码查询报告的时候并且需要验证病人姓名时候，才需要填入 |
| lxdh    | 联系电话   | 否      | 当类型为空的时候按照:cxhm, brxm, lxdh查询  |

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
|         | 报告信息   | 是      |        |
| item    | 报告项目明细 | 是      |        |

| **信息项** | **说明**   | **必填** | **备注** |
| ------- | -------- | ------ | ------ |
| bgdh    | 报告单号     |        |        |
| sjmd    | 送检目的     |        |        |
| cjsj    | 采集时间     |        |        |
| sjr     | 送检人      |        |        |
| jysj    | 检验时间     |        |        |
| jyr     | 检验人      |        |        |
| shr     | 审核人      |        |        |
| jzch    | 就诊床号     |        |        |
| zdjg    | 诊断结果     |        |        |
| bbmc    | 标本名称     |        |        |
| mzbz    | 门诊标识     |        |        |
| dyjb    | 调阅级别     |        |        |
| bz      | 备注       |        |        |
| hzbh    | 患者编号     |        |        |
| sbm     | 设备码（条形码） |        |        |
| brxm    | 病人姓名     |        |        |

item列表如下：

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| mc      | 指标名称   |        |        |
| dw      | 指标单位   |        |        |
| ckjg    | 参考结果   |        |        |
| ts      | 异常提示   |        |        |
| jg      | 检验结果   |        |        |

``` xml
<root>
<result>success</result>
<message>
<value>
<bgdh>140801SHA00003</bgdh>
<sjmd>门诊肾功能+血糖(空腹)+门诊肝功能+血脂+电解质</sjmd>
<cjsj>2014-08-01 08:45:05</cjsj>
<sjr>土文珍</sjr>
<jysj>2014-08-01 09:04:44</jysj>
<jyr>卢圣朵</jyr>
<shr>郑存庆</shr>
<jzch>普通精神科</jzch>
<zdjg></zdjg>
<bbmc>血清</bbmc>
<mzbz>门诊</mzbz>
<dyjb></dyjb>
<bz></bz>
<hzbh></hzbh>
<sbm></sbm>
<items>
<value>
<mc>总胆红素</mc>
<dw>umol/L</dw>
<ckjg>2.0-20.0</ckjg>
<ts></ts>
<jg>8.3</jg>
</value><value>
<mc>直接胆红素</mc>
<dw>umol/L</dw>
<ckjg>0.0-6.0</ckjg>
<ts></ts>
<jg>2.1</jg>
</value><value>
<mc>间接胆红素</mc>
<dw>umol/L</dw>
<ckjg>2.0-15.0</ckjg>
<ts></ts>
<jg>6.2</jg>
</value>
<value>
<mc>总蛋白</mc>
<dw>g/L</dw>
<ckjg>65-85</ckjg>
<ts></ts>
<jg>72</jg>
</value>
</items>
</value>
</message></root>
```

#### 查询检查单(B003)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**              |
| ------- | ------ | ------ | ------------------- |
| brid    | 病人ID   | 是      |                     |
| brlx    | 病人类型   | 是      | 病人类型:1-门诊病人；2-住院病人； |

##### 回复报文

| **信息项** | **说明**   | **必填** | **备注** |
| ------- | -------- | ------ | ------ |
| bgdh    | 报告单号     |        |        |
| sjmd    | 送检目的     |        |        |
| cjsj    | 采集时间     |        |        |
| sjr     | 送检人      |        |        |
| jysj    | 检验时间     |        |        |
| jyr     | 检验人      |        |        |
| shr     | 审核人      |        |        |
| jzch    | 就诊床号     |        |        |
| zdjg    | 诊断结果     |        |        |
| bbmc    | 标本名称     |        |        |
| mzbz    | 门诊标识     |        |        |
| dyjb    | 调阅级别     |        |        |
| bz      | 备注       |        |        |
| hzbh    | 患者编号     |        |        |
| jgmc    | 机构名称     |        |        |
| sbm     | 设备码（条形码） |        |        |
| brxm    | 病人姓名     |        |        |

回复报文的XML样例片段如下所示

``` xml
<root>
<result>success</result>
<message>
<value>
<bgdh>140801SHA00003</bgdh>
<sjmd>门诊肾功能+血糖(空腹)+门诊肝功能+血脂+电解质</sjmd>
<cjsj>2014-08-01 08:45:05</cjsj>
<sjr>土文珍</sjr>
<jysj>2014-08-01 09:04:44</jysj>
<jyr>卢圣朵</jyr>
<shr>郑存庆</shr>
<jzch>普通精神科</jzch>
<zdjg>分离（转换）性障碍</zdjg>
<bbmc>血清</bbmc>
<mzbz>门诊</mzbz>
<dyjb></dyjb>
<bz></bz>
<hzbh></hzbh>
<sbm></sbm>
</value>
<value>
<bgdh>140801LJA00021</bgdh>
<sjmd>血常规</sjmd>
<cjsj>2014-08-01 08:45:05</cjsj>
<sjr>土文珍</sjr>
<jysj>2014-08-01 08:51:40</jysj>
<jyr>刘畅</jyr>
<shr>郑存庆</shr>
<jzch>普通精神科</jzch>
<zdjg>分离（转换）性障碍</zdjg>
<bbmc>全血</bbmc>
<mzbz>门诊</mzbz>
<dyjb></dyjb>
<bz></bz>
<hzbh></hzbh>
<sbm></sbm>
</value>
</message>
</root>
```

#### 查询检查单详细(B004)

##### 请求报文

| **信息项** | **说明** | **必填** | **备注**                         |
| ------- | ------ | ------ | ------------------------------ |
| cxhm    | 查询号码   | 是      |                                |
| type    | 类型     | 是      | 操作类型：1-按报告单号查询；2-按条码查询         |
| brxm    | 病人姓名   | 否      | 只有在条码查询报告的时候并且需要验证病人姓名时候，才需要填入 |

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
|         | 报告信息   | 是      |        |
| item    | 报告项目明细 | 是      |        |

| **信息项** | **说明**   | **必填** | **备注** |
| ------- | -------- | ------ | ------ |
| bgdh    | 报告单号     |        |        |
| sjmd    | 送检目的     |        |        |
| cjsj    | 采集时间     |        |        |
| sjr     | 送检人      |        |        |
| jysj    | 检验时间     |        |        |
| jyr     | 检验人      |        |        |
| shr     | 审核人      |        |        |
| jzch    | 就诊床号     |        |        |
| zdjg    | 诊断结果     |        |        |
| bbmc    | 标本名称     |        |        |
| mzbz    | 门诊标识     |        |        |
| dyjb    | 调阅级别     |        |        |
| bz      | 备注       |        |        |
| hzbh    | 患者编号     |        |        |
| sbm     | 设备码（条形码） |        |        |
| brxm    | 病人姓名     |        |        |

item列表如下：

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| mc      | 名称     |        |        |
| dw      |        | 无      |        |
| ckjg    |        |        |        |
| ts      | 检查结果现象 |        |        |
| jg      | 检查结果   |        |        |

### 第三方接入平台

#### 用户注册(UI010101)

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述                       |
| -------- | ---- | ------ | ---- | ------------------------ |
| name     | 姓名   | string | 是    | 用户真实姓名                   |
| phone    | 手机号码 | string | 是    | 用户手机号码                   |
| idcardno | 身份证号 | string | 是    | 用户身份证号                   |
| address  | 地址   | string | 否    | 联系地址                     |
| openid   | 用户标识 | string | 是    | 支付宝USERID或微信OPENID       |
| headurl  | 用户头像 | string | 是    | 用户头像URL地址，直接指向支付平台用户头像地址 |
| usertype | 用户类型 | string | 是    | 1：支付宝用户，2：微信用户           |

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
|         | 注册状态   | 是      |        |

#### 用户注册_带绑卡(UI010102)

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述                       |
| --------- | ---- | ------ | ---- | ------------------------ |
| name      | 姓名   | string | 是    | 用户真实姓名                   |
| phone     | 手机号码 | string | 是    | 用户手机号码                   |
| idcardno  | 身份证号 | string | 是    | 用户身份证号                   |
| address   | 地址   | string | 否    | 联系地址                     |
| openid    | 用户标识 | string | 是    | 支付宝USERID或微信OPENID       |
| headurl   | 用户头像 | string | 是    | 用户头像URL地址，直接指向支付平台用户头像地址 |
| cardno    | 就诊卡号 | string | 否    | 病人就诊卡卡号，可为空，当病人ID不明确时使用  |
| patientid | 病人ID | string | 是    | 病人ID，对应一张就诊卡             |
| usertype  | 用户类型 | string | 是    | 1：支付宝用户，2：微信用户           |

##### 回复报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
|         | 注册状态   | 是      |        |

#### 用户信息(UI010201)

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述                 |
| -------- | ---- | ------ | ---- | ------------------ |
| openid   | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |
| usertype | 用户类型 | string | 否    | 1：支付宝用户，2：微信用户     |

##### 回复报文

| 参数项          | 参数名  | 类型     | 必选   | 描述                      |
| ------------ | ---- | ------ | ---- | ----------------------- |
| openid       | 用户标识 | string | 是    | 支付宝USERID或微信OPENID      |
| name         | 姓名   | string | 是    | 联系人姓名                   |
| phone        | 手机号码 | string | 是    | 联系人手机号码                 |
| idcardno     | 身份证号 | string | 是    | 联系人身份证号                 |
| address      | 地址   | string | 否    | 联系地址                    |
| headurl      | 用户头像 | string | 是    | 用户头像URL地址，直接指向支付宝用户头像地址 |
| cardno       | 就诊卡号 | string | 否    | 诊卡卡号                    |
| patientid    | 病人ID | string | 是    | 诊卡对应病人ID                |
| inpatentflag | 住院信息 | string | 是    | 1:有住院信息;2：无住院信息         |

#### 用户信息修改(UI010301)

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述                 |
| -------- | ---- | ------ | ---- | ------------------ |
| openid   | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |
| name     | 姓名   | string | 是    | 联系人姓名              |
| phone    | 手机号码 | string | 是    | 联系人手机号码            |
| idcardno | 身份证号 | string | 是    | 联系人身份证号            |

##### 回复报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| ------ | ---- | ------ | ---- | ------------------ |
| openid | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |

UI010301 | 修改用户信息（用于修改手机号码）

#### 添加常用联系人(UI020101)

##### 请求报文

| 参数项      | 参数名   | 类型     | 必选   | 描述                 |
| -------- | ----- | ------ | ---- | ------------------ |
| openid   | 用户标识  | string | 是    | 支付宝USERID或微信OPENID |
| label    | 联系人标签 | string | 否    | 对联系人的描述            |
| name     | 姓名    | string | 是    | 联系人姓名              |
| phone    | 手机号码  | string | 是    | 联系人手机号码            |
| idcardno | 身份证号  | string | 是    | 联系人身份证号            |
| address  | 地址    | string | 否    | 联系地址               |

##### 回复报文

| 参数项       | 参数名   | 类型     | 必选   | 描述                |
| --------- | ----- | ------ | ---- | ----------------- |
| label     | 联系人标签 | string | 否    | 对联系人的描述           |
| name      | 姓名    | string | 是    | 联系人姓名             |
| linkmanid | 联系人ID | string | 否    | 联系人ID，后面对操作人操作的标识 |

#### 获得常用联系人信息列表(UI020201)

##### 请求报文

| 参数项       | 参数名   | 类型     | 必选   | 描述                 |
| --------- | ----- | ------ | ---- | ------------------ |
| openid    | 用户标识  | string | 是    | 支付宝USERID或微信OPENID |
| linkmanid | 联系人ID | string | 否    | 联系人ID              |

##### 回复报文，报文内容是一个*列表结构*

| 参数项          | 参数名   | 类型      | 必选   | 描述              |
| ------------ | ----- | ------- | ---- | --------------- |
| linkmanid    | 联系人ID | string  | 是    | 联系人ID           |
| label        | 联系人标签 | string  | 否    | 对联系人的描述         |
| name         | 姓名    | string  | 是    | 联系人姓名           |
| phone        | 手机号码  | string  | 是    | 联系人手机号码         |
| idcardno     | 身份证号  | string  | 是    | 联系人身份证号         |
| address      | 地址    | string  | 否    | 联系地址            |
| bindcardfalg | 绑卡标志  | integer | 是    | 0：未绑卡；1：已绑卡     |
| inpatentflag | 住院标志  | integer | 是    | 1：有住院信息；0：无住院信息 |
| patientid    | 病人ID  | string  | 是    | 门诊卡对应病人ID       |
| cardno       | 就诊卡号  | string  | 否    | 没有绑卡就是为空        |

#### 删除常用联系人(UI020301)

##### 请求报文

| 参数项       | 参数名   | 类型     | 必选   | 描述                 |
| --------- | ----- | ------ | ---- | ------------------ |
| openid    | 用户标识  | string | 是    | 支付宝USERID或微信OPENID |
| linkmanid | 联系人ID | string | 是    | 联系人ID              |

##### 回复报文

| 参数项       | 参数名   | 类型     | 必选   | 描述       |
| --------- | ----- | ------ | ---- | -------- |
| linkmanid | 联系人ID | string | 是    | 当前删除的是哪位 |
| name      | 姓名    | string | 是    | 联系人姓名    |

#### 获得门诊卡列表(CA010101)

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述                      |
| -------- | ---- | ------ | ---- | ----------------------- |
| idcardno | 身份证号 | string | 是    | 这张卡登记的身份证号，带有“X”的统一采用大写 |
| name     | 病人姓名 | string | 否    | 这张卡登记的姓名，辅助查询使用         |

##### 回复报文，报文内容是一个*列表结构*

| 参数项         | 参数名   | 类型     | 必选   | 描述                 |
| ----------- | ----- | ------ | ---- | ------------------ |
| cardtype    | 就诊卡类型 | string | 是    | 1：就诊卡；2：老社保卡；3：市民卡 |bklx
| cardname    | 就诊卡名称 | string | 是    | 医院就诊卡；老社保卡；市民卡     |
| cardno      | 就诊卡号  | string | 是    | 诊卡卡号               |bkhm
| idcardno    | 身份证号  | string | 是    | 这张卡登记的身份证号         |sfzh
| patientid   | 病人ID  | string | 是    | 诊卡对应病人ID           |brid
| patientname | 病人姓名  | string | 是    | 诊卡对应病人姓名           |brxm
| birthday    | 出生年月  | string | 是    | 病人出生年月：yyyy-MM-dd  |
| phone       | 联系电话  | string | 是    | 病人联系电话             |lxdh
| balance     | 账户余额  | string | 是    | 这张卡上的余额            |

| cost | 累计费用 | string | 是    | 这张卡花过的钱 |
| ---- | ---- | ------ | ---- | ------- |
|      |      |        |      |         |



#### 获得门诊卡信息_病人ID(CA010102)

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述        |
| --------- | ---- | ------ | ---- | --------- |
| patientid | 病人ID | string | 是    | 门诊卡对应病人ID |

##### 回复报文，报文内容：

有且只有一张卡的信息

| 参数项         | 参数名   | 类型     | 必选   | 描述                 |
| ----------- | ----- | ------ | ---- | ------------------ |
| cardtype    | 就诊卡类型 | string | 是    | 1：就诊卡；2：老社保卡；3：市民卡 |bklx
| cardname    | 就诊卡名称 | string | 是    | 医院就诊卡；老社保卡；市民卡     |
| cardno      | 就诊卡号  | string | 是    | 诊卡卡号               |bkhm
| idcardno    | 身份证号  | string | 是    | 这张卡登记的身份证号         |sfzh
| patientid   | 病人ID  | string | 是    | 诊卡对应病人ID           |brid
| patientname | 病人姓名  | string | 是    | 诊卡对应病人姓名           |brxm
| birthday    | 出生年月  | string | 是    | 病人出生年月：yyyy-MM-dd  |
| phone       | 联系电话  | string | 是    | 病人联系电话             |lxdh
| balance     | 账户余额  | string | 是    | 这张卡上的余额            |
| cost        | 累计费用  | string | 是    | 这张卡花过的钱            |


​	
​	
#### 本人门诊卡绑定(CA010201)

只可以绑定本人的门诊卡

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述                 |
| --------- | ---- | ------ | ---- | ------------------ |
| openid    | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |
| cardno    | 就诊卡号 | string | 是    | 诊卡卡号               |
| patientid | 病人ID | string | 是    | 诊卡对应病人ID           |

##### 回复报文

| 参数项      | 参数名   | 类型     | 必选   | 描述                 |
| -------- | ----- | ------ | ---- | ------------------ |
| cardtype | 就诊卡类型 | string | 是    | 1：就诊卡；2：老社保卡；3：市民卡 |bklx
| cardname | 就诊卡名称 | string | 是    | 医院就诊卡；老社保卡；市民卡     |
| cardno   | 就诊卡号  | string | 是    | 诊卡卡号               |bkhm

#### 本人门诊卡解绑(CA010301)

##### 请求报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| ------ | ---- | ------ | ---- | ------------------ |
| openid | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |

##### 回复报文

| 参数项    | 参数名  | 类型     | 必选   | 描述   |
| ------ | ---- | ------ | ---- | ---- |
| cardno | 就诊卡号 | string | 是    | 诊卡卡号 |

#### 常用联系人门诊卡绑定(CA020101)

##### 请求报文

| 参数项       | 参数名   | 类型     | 必选   | 描述                 |
| --------- | ----- | ------ | ---- | ------------------ |
| openid    | 用户标识  | string | 是    | 支付宝USERID或微信OPENID |
| linkmanid | 联系人ID | string | 是    | 联系人ID              |
| cardno    | 就诊卡号  | string | 是    | 诊卡卡号               |
| patientid | 病人ID  | string | 是    | 诊卡对应病人ID           |

##### 回复报文

| 参数项      | 参数名   | 类型     | 必选   | 描述                 |
| -------- | ----- | ------ | ---- | ------------------ |
| cardtype | 就诊卡类型 | string | 是    | 1：就诊卡；2：老社保卡；3：市民卡 |
| cardname | 就诊卡名称 | string | 是    | 医院就诊卡；老社保卡；市民卡     |
| cardno   | 就诊卡号  | string | 是    | 诊卡卡号               |

#### 常用联系人门诊卡解绑(CA020201)

##### 请求报文

| 参数项       | 参数名   | 类型     | 必选   | 描述                 |
| --------- | ----- | ------ | ---- | ------------------ |
| openid    | 用户标识  | string | 是    | 支付宝USERID或微信OPENID |
| linkmanid | 联系人ID | string | 是    | 联系人ID              |

##### 回复报文

| 参数项    | 参数名  | 类型     | 必选   | 描述   |
| ------ | ---- | ------ | ---- | ---- |
| cardno | 就诊卡号 | string | 是    | 诊卡卡号 |

#### 医生信息列表_按姓名查(DO010101)

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述            |
| --------- | ---- | ------ | ---- | ------------- |
| name      | 医生姓名 | string | 是    | 可以是全名，也可以是一部分 |
| pageindex | 访问页码 | string | 否    | 从1开始计，默认1     |
| pagesize  | 每页行数 | string | 否    | 默认20          |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述      |
| ---------- | ---- | ------ | ---- | ------- |
| code       | 医生代码 | string | 是    |         |
| name       | 医生姓名 | string | 是    |         |
| sex        | 医生性别 | string | 否    | 0：女；1：男 |
| pictureurl | 医生照片 | string | 否    |         |
| level      | 医生等级 | string | 否    | 如“主任医师” |
| recommend  | 医生介绍 | string | 是    |         |
| adept      | 医生擅长 | string | 是    |         |
| departcode | 科室代码 | string | 否    |         |
| departname | 科室名称 | string | 否    |         |

#### 医生信息列表_按姓名拼音首字母查(DO010102)

##### 请求报文

| 参数项       | 参数名    | 类型     | 必选   | 描述                    |
| --------- | ------ | ------ | ---- | --------------------- |
| namepy    | 医生姓名拼音 | string | 是    | 可以是所有字的拼音首字母，也可以是一部分的 |
| pageindex | 访问页码   | string | 否    | 从1开始计，默认1             |
| pagesize  | 每页行数   | string | 否    | 默认20                  |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述      |
| ---------- | ---- | ------ | ---- | ------- |
| code       | 医生代码 | string | 是    |         |
| name       | 医生姓名 | string | 是    |         |
| sex        | 医生性别 | string | 否    | 0：女；1：男 |
| pictureurl | 医生照片 | string | 否    |         |
| level      | 医生等级 | string | 否    | 如“主任医师” |
| recommend  | 医生介绍 | string | 是    |         |
| adept      | 医生擅长 | string | 是    |         |
| departcode | 科室代码 | string | 否    |         |
| departname | 科室名称 | string | 否    |         |

#### 医生信息列表_按医生代码查(DO010103)

##### 请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述       |
| ---- | ---- | ------ | ---- | -------- |
| code | 医生代码 | string | 是    | 必须是完整的代码 |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述      |
| ---------- | ---- | ------ | ---- | ------- |
| code       | 医生代码 | string | 是    |         |
| name       | 医生姓名 | string | 是    |         |
| sex        | 医生性别 | string | 否    | 0：女；1：男 |
| pictureurl | 医生照片 | string | 否    |         |
| level      | 医生等级 | string | 否    | 如“主任医师” |
| recommend  | 医生介绍 | string | 是    |         |
| adept      | 医生擅长 | string | 是    |         |
| departcode | 科室代码 | string | 否    |         |
| departname | 科室名称 | string | 否    |         |

#### 医生停诊信息列表(DO010201)

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述        |
| --------- | ---- | ------ | ---- | --------- |
| pageindex | 访问页码 | string | 否    | 从1开始计，默认1 |
| pagesize  | 每页行数 | string | 否    | 默认20      |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述            |
| ---------- | ---- | ------ | ---- | ------------- |
| code       | 医生代码 | string | 是    |               |
| name       | 医生姓名 | string | 是    |               |
| pictureurl | 医生照片 | string | 否    |               |
| departcode | 科室代码 | string | 是    |               |
| departname | 科室名称 | string | 是    |               |
| stopdate   | 停诊日期 | string | 是    | 格式：yyyy-MM-dd |
| stopshift  | 停诊班次 | string | 是    | 0：上午，1：下午     |

#### 门诊就诊病历列表(BL010101)

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述   |
| --------- | ---- | ------ | ---- | ---- |
| patientid | 病人ID | string | 是    |      |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jzxh | 就诊序号 | string | 是    |      |
| jzrq | 就诊日期 | string | 是    |      |
| ksmc | 科室名称 | string | 是    |      |
| ysxm | 医生姓名 | string | 是    |      |
| zdxx | 诊断信息 | string | 是    |      |

#### 电子病历内容(BL010201)

##### 请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jzxh | 就诊序号 | string | 是    |      |

##### 回复报文，参数如下

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| mzzs | 主诉   | string | 是    |      |
| xbs  | 现病史  | string | 是    |      |
| jws  | 既往史  | string | 是    |      |
| grs  | 个人史  | string | 是    |      |
| gms  | 过敏史  | string | 是    |      |
| hys  | 婚育史  | string | 是    |      |
| jzs  | 家族史  | string | 是    |      |
| tgjc | 体格检查 | string | 是    |      |
| fzjc | 辅助检查 | string | 是    |      |
| clyj | 处理意见 | string | 是    |      |

#### 门诊指引单(BL010301)

##### 请求报文

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| jzxh | 就诊序号 | string | 是    |      |

##### 回复报文，参数如下

| 参数项  | 参数名    | 类型     | 必选   | 描述   |
| ---- | ------ | ------ | ---- | ---- |
| cfxh | 处方序号   | string | 是    |      |
| fphm | 发票号码   | string | 是    |      |
| kfrq | 开方日期   | string | 是    |      |
| ksmc | 开方科室名称 | string | 是    |      |
| zynr | 指引内容   | string | 是    |      |
| zywz | 指引位置   | string | 是    |      |
| ysxm | 医生姓名   | string | 是    |      |
| zjje | 总计金额   | string | 是    |      |

#### 病人药品处方信息列表(FY010101)

##### 请求报文

| 参数项       | 参数名  | 类型     | 必选   | 描述   |
| --------- | ---- | ------ | ---- | ---- |
| patientid | 病人ID | string | 是    |      |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项   | 参数名    | 类型     | 必选   | 描述   |
| ----- | ------ | ------ | ---- | ---- |
| cflsh | 处方流水号  | string | 是    |      |
| ksbm  | 科室编码   | string | 是    |      |
| ksmc  | 科室名称   | string | 是    |      |
| ysbm  | 医生编码   | string | 是    |      |
| ysxm  | 医生姓名   | string | 是    |      |
| brid  | 病人ID   | string | 是    |      |
| kfrq  | 开方日期   | string | 是    |      |
| sfrq  | 收费日期   | string | 是    |      |
| zjje  | 总计金额   | string | 是    | 单位元  |
| lxmc  | 处方类型名称 | string | 是    |      |

#### 病人药品服用信息(FY010201)

##### 请求报文

| 参数项   | 参数名   | 类型     | 必选   | 描述   |
| ----- | ----- | ------ | ---- | ---- |
| cflsh | 处方流水号 | string | 是    |      |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项  | 参数名  | 类型     | 必选   | 描述   |
| ---- | ---- | ------ | ---- | ---- |
| ypmc | 药品名称 | string | 是    |      |
| ypgg | 药品规格 | string | 是    |      |
| ypsl | 药品数量 | string | 是    |      |
| ycyl | 一次用量 | string | 是    |      |
| ysjy | 医生嘱托 | string | 是    |      |
| sync | 使用频次 | string | 是    |      |
| gytj | 给药途径 | string | 是    |      |

#### 预约科室信息(OR010101)

##### 请求报文

| 参数项        | 参数名    | 类型     | 必选   | 描述                        |
| ---------- | ------ | ------ | ---- | ------------------------- |
| departcode | 一级科室代码 | string | 否    | 查询指定科室下二级科室信息，为空时返回所有科室信息 |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项        | 参数名  | 类型     | 必选   | 描述     |
| ---------- | ---- | ------ | ---- | ------ |
| departcode | 科室代码 | string | 是    | 一级科室代码 |
| departname | 科室名称 | string | 是    | 一级科室名称 |
| secondcode | 科室代码 | string | 是    | 二级科室代码 |
| secondname | 科室名称 | string | 是    | 二级科室名称 |
| describe   | 科室描述 | string | 否    | 二级科室描述 |

#### 科室排班信息(OR010201)

##### 请求报文

| 参数项        | 参数名    | 类型     | 必选   | 描述            |
| ---------- | ------ | ------ | ---- | ------------- |
| departcode | 二级科室代码 | string | 是    | 查询指定二级科室的排班信息 |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项          | 参数名  | 类型      | 必选   | 描述              |
| ------------ | ---- | ------- | ---- | --------------- |
| scheduledate | 排班日期 | string  | 是    | 格式：yyyy-MM-dd   |
| remain       | 可约人数 | string  | 是    | 还可预约人数          |
| total        | 总号源  | integer | 是    | 这一天在这个科室可预约的号源数 |

#### 预约医生信息(OR020101)

##### 请求报文

| 参数项          | 参数名    | 类型     | 必选   | 描述                                      |
| ------------ | ------ | ------ | ---- | --------------------------------------- |
| departcode   | 二级科室代码 | string | 是    | 查询指定二级科室                                |
| scheduledate | 排班日期   | string | 否    | 格式：yyyy-MM-dd，不为空时查询指定日期排班的医生，为空时返回所有医生 |

##### 回复报文，报文为*列表结构*，参数如下

| **参数项**       | 参数名  | 类型      | 必选   | 描述                                       |
| ------------- | ---- | ------- | ---- | ---------------------------------------- |
| doctorcode    | 医生代码 | string  | 是    |                                          |
| doctorname    | 医生名称 | string  | 是    |                                          |
| pictureurl    | 医生照片 | string  | 否    | 医生照片的URL地址                               |
| level         | 医生等级 | string  | 是    | 如“主任医师”                                  |
| recommend     | 医生简介 | string  | 否    | 医生的介绍信息，如毕业等                             |
| adept         | 医生擅长 | string  | 否    | 医生的擅长内容与专业                               |
| reserve       | 可约人数 | integer | 是    | 这个医生可以预约的人数                              |
| scheduledates | 排班日期 | string  | 是    | 表示这个医生在这几天有排班, 多个日期时，每个日期之间以‘,’分隔。日期格式：yyyy-MM-dd |

#### 医生排班信息(OR020201)

##### 请求报文

| 参数项          | 参数名    | 类型     | 必选   | 描述                                       |
| ------------ | ------ | ------ | ---- | ---------------------------------------- |
| doctorcode   | 医生代码   | string | 是    |                                          |
| departcode   | 二级科室代码 | string | 否    | 查询指定二级科室，不为空时只查询这个医生在这个科室的排班信息           |
| scheduledate | 排班日期   | string | 否    | 格式：yyyy-MM-dd，不为空时查询这个医生指定日期排班，为空时返回所有日期的排班 |

##### 回复报文，报文为*列表结构*，参数如下

| 项            | 名称    | 类型     | 必选   | 描述            |
| ------------ | ----- | ------ | ---- | ------------- |
| scheduleseq  | 排班流水号 | string | 是    |               |
| departcode   | 科室编码  | string | 是    | 二级科室代码        |
| departname   | 科室名称  | string | 是    | 二级科室名称        |
| doctorcode   | 医生编码  | string | 是    |               |
| doctorname   | 医生姓名  | string | 是    |               |
| special      | 特需标志  | string | 是    | 1：特需；0：普通     |
| remain       | 可约人数  | string | 是    | 还可预约人数        |
| total        | 预约人数  | string | 是    | 可预约总人数        |
| address      | 就诊地点  | string | 是    |               |
| scheduledate | 排班日期  | string | 是    | 格式：yyyy-MM-dd |
| shiftcode    | 班次编码  | string | 是    | 1:上午，2：下午     |
| shiftname    | 班次名称  | string | 是    | 上午或下午         |
| fee          | 挂号费   | string | 是    |               |

#### 门诊号源信息(OR020301)

##### 请求报文

| 参数项         | 参数名   | 类型     | 必选   | 描述                          |
| ----------- | ----- | ------ | ---- | --------------------------- |
| doctorcode  | 医生代码  | string | 否    | 辅助参数，用于表示是哪个医生的排班，但并不一定参于查询 |
| scheduleseq | 排班流水号 | string | 是    |                             |
| shiftcode   | 班次编码  | string | 是    | 1:上午，2：下午                   |

##### 回复报文，报文为*列表结构*，参数如下

| 参数项          | 参数名    | 类型     | 必选   | 描述             |
| ------------ | ------ | ------ | ---- | -------------- |
| orderseq     | 号源流水号  | string | 是    | 预约号源流水号        |
| ordertime    | 预约时间   | string | 是    | 格式：HH:mm       |
| orderendtime | 预约结束时间 | string | 是    | 格式：HH:mm       |
| shiftcode    | 上下午标志  | string | 是    | 班次编码 0:上午，1：下午 |
| orderno      | 分诊序号   | string | 是    | 门诊第几个号         |

#### 门诊预约(OR030101)

##### 请求报文

| 参数项             | 参数名     | 类型     | 必选   | 描述                          |
| --------------- | ------- | ------ | ---- | --------------------------- |
| openid          | 用户标识    | string | 是    | 支付宝USERID或微信OPENID          |
| doctorcode      | 医生代码    | string | 否    | 辅助参数，用于表示是哪个医生的排班，但并不一定参于查询 |
| scheduleseq     | 排班流水号   | string | 是    | 排班流水号                       |
| orderseq        | 号源流水号   | string | 否    | 预约号源流水号                     |
| ordertime       | 预约时间    | string | 是    | 格式：HH:mm                    |
| orderendtime    | 预约结束时间  | string | 是    | 格式：HH:mm                    |
| shiftcode       | 预约上下午代码 | string | 是    | 班次编码 S:上午，X：下午              |
| patientid       | 病人ID    | string | 否    | 给哪个病人预约的                    |
| patientname     | 病人姓名    | string | 是    | 给哪个病人预约的                    |
| patientidcardno | 病人身份证号  | string | 是    | 病人身份证号                      |
| patientphone    | 病人电话    | string | 是    | 病人联系电话                      |
| patientaddress  | 病人地址    | string | 是    | 病人联系地址                      |

##### 回复报文，参数如下

| 参数项           | 参数名   | 类型     | 必选   | 描述            |
| ------------- | ----- | ------ | ---- | ------------- |
| preengageseq  | 预约流水号 | string | 是    | 预约流水号         |
| preengagedate | 预约日期  | string | 是    | 格式：yyyy-MM-dd |
| preengagetime | 预约时间  | string | 是    | 格式：HH:mm      |
| departcode    | 预约科室  | string | 否    | 预约的二科室代码      |
| departname    | 预约科室  | string | 是    | 预约的二级科室       |
| doctorcode    | 预约医生  | string | 否    | 预约医生的编码       |
| doctorname    | 预约医生  | string | 是    | 预约医生的姓名       |
| patientname   | 病人姓名  | string | 是    | 给哪个病人预约的      |
| preengageno   | 分诊序号  | string | 是    | 门诊第几个号        |
| place         | 就诊地点  | string | 否    | 就诊地点          |

#### 门诊预约历史(OR030201)

##### 请求报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| ------ | ---- | ------ | ---- | ------------------ |
| openid | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项             | 参数名    | 类型      | 必选   | 描述                      |
| --------------- | ------ | ------- | ---- | ----------------------- |
| preengageseq    | 预约流水号  | string  | 是    | 预约流水号                   |
| preengagedate   | 预约日期   | string  | 是    | 格式：yyyy-MM-dd           |
| preengagetime   | 预约时间   | string  | 是    | 格式：HH:mm                |
| departcode      | 预约科室   | string  | 否    | 预约的二科室代码                |
| departname      | 预约科室   | string  | 是    | 预约的二级科室                 |
| doctorcode      | 预约医生   | string  | 否    | 预约医生的编码                 |
| doctorname      | 预约医生   | string  | 是    | 预约医生的姓名                 |
| patientname     | 病人姓名   | string  | 是    | 给哪个病人预约的                |
| patientidcardno | 病人身份证号 | string  | 否    | 病人身份证号                  |
| patientphone    | 病人电话   | string  | 否    | 病人联系电话                  |
| patientaddress  | 病人地址   | string  | 否    | 病人联系地址                  |
| preengageno     | 分诊序号   | string  | 是    | 门诊第几个号                  |
| place           | 就诊地点   | string  | 否    | 就诊地点                    |
| fee             | 挂号费    | string  | 是    |                         |
| preengagestate  | 预约状态   | integer | 是    | 1：已预约；2：已就诊；3：已取消；4：已爽约 |

#### 取消门诊预约(OR030301)

##### 请求报文

| 参数项          | 参数名   | 类型     | 必选   | 描述                      |
| ------------ | ----- | ------ | ---- | ----------------------- |
| openid       | 用户标识  | string | 否    | 支付宝USERID或微信OPENID，辅助参数 |
| preengageseq | 预约流水号 | string | 是    | 预约流水号                   |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项           | 参数名   | 类型     | 必选   | 描述            |
| ------------- | ----- | ------ | ---- | ------------- |
| preengageseq  | 预约流水号 | string | 是    | 预约流水号         |
| preengagedate | 预约日期  | string | 是    | 格式：yyyy-MM-dd |
| preengagetime | 预约时间  | string | 是    | 格式：HH:mm      |
| departname    | 预约科室  | string | 是    | 预约的二级科室       |
| doctorname    | 预约医生  | string | 是    | 预约医生的姓名       |
| patientname   | 病人姓名  | string | 是    | 给哪个病人预约的      |
| preengageno   | 分诊序号  | string | 是    | 门诊第几个号        |
| place         | 就诊地点  | string | 否    | 就诊地点          |

#### 门诊预约报到(PD010101)

##### 请求报文

| 参数项          | 参数名   | 类型     | 必选   | 描述                      |
| ------------ | ----- | ------ | ---- | ----------------------- |
| openid       | 用户标识  | string | 是    | 支付宝USERID或微信OPENID，辅助参数 |
| preengageseq | 预约流水号 | string | 是    | 预约流水号                   |

##### 回复报文，报文内容参数如下

| 参数项      | 参数名  | 类型     | 必选   | 描述          |
| -------- | ---- | ------ | ---- | ----------- |
| state    | 状态   | string | 是    | 1：成功；       |
| guahaoID | 挂号ID | string | 否    | 七医成功时返回挂号ID |

#### 门诊预约排队列表(PD010201)

##### 请求报文

| 参数项      | 参数名   | 类型     | 必选   | 描述                      |
| -------- | ----- | ------ | ---- | ----------------------- |
| openid   | 用户标识  | string | 是    | 支付宝USERID或微信OPENID，辅助参数 |
| queueseq | 排队流水号 | string | 否    | 排队流水号，为空时返回用户的所有排队的列表   |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项          | 参数名    | 类型     | 必选   | 描述                                 |
| ------------ | ------ | ------ | ---- | ---------------------------------- |
| openid       | 用户标识   | string | 是    | 支付宝用户ID                            |
| preengageseq | 预约流水号  | string | 是    | 预约流水号                              |
| preengageno  | 分诊序号   | string | 是    | 门诊第几个号                             |
| queueseq     | 排队序号   | string | 是    | 每一条排队记录的标识                         |
| queueid      | 排队号码   | string | 是    | 报道时获得的排队号码                         |
| queuetime    | 排队时间   | string | 是    | 报道时的时间                             |
| shiftname    | 班次名称   | string | 是    | 上午或是下午                             |
| departname   | 科室名称   | string | 是    | 哪个科室就诊                             |
| doctorname   | 医生姓名   | string | 是    | 就诊的医生                              |
| roomname     | 诊室名称   | string | 是    | 就诊诊室的名称，如：方便门诊，228诊室等              |
| roompos      | 诊室位置   | string | 是    | 就诊诊室的位置，指哪个大楼                      |
| roomno       | 房间号码   | string | 是    | 就诊诊室的房间号码                          |
| currentid    | 当前就诊号码 | string | 是    | 当前医生在看哪个号码                         |
| queuestate   | 排队状态   | string | 是    | -1:未报到；0:排队中；1：已结束；2：已过号    3：正在叫号 |

#### 挂号退号(PD010301)

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述   |
| -------- | ---- | ------ | ---- | ---- |
| guahaoid | 挂号标识 | string | 是    | 挂号ID |

##### 回复报文，报文内容参数如下

| 参数项       | 参数名  | 类型     | 必选   | 描述    |
| --------- | ---- | ------ | ---- | ----- |
| state     | 状态   | string | 是    | 1：成功； |
| shoufeiid | 收费id | string | 否    | 成功后返回 |


#### 门诊预约所有排队前十人员列表信息（PD010001）

这是一个系统级别的协议，由服务端后台主动发起，而非用户调用发起。它要求返回 WebService 端返回当前所有排队队列中（服务端报到）的前十人员的排队信息，后端程序根据这些信息的变更情况来发现用户通知。

##### 请求报文

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项          | 参数名    | 类型     | 必选   | 描述                                 |
| ------------ | ------ | ------ | ---- | ---------------------------------- |
| openid       | 用户标识   | string | 是    | 支付宝用户ID                            |
| preengageseq | 预约流水号  | string | 是    | 预约流水号                              |
| preengageno  | 分诊序号   | string | 是    | 门诊第几个号                             |
| queueseq     | 排队序号   | string | 是    | 每一条排队记录的标识                         |
| queueid      | 排队号码   | string | 是    | 报道时获得的排队号码                         |
| queuetime    | 排队时间   | string | 是    | 报道时的时间                             |
| shiftname    | 班次名称   | string | 是    | 上午或是下午                             |
| departname   | 科室名称   | string | 是    | 哪个科室就诊                             |
| doctorname   | 医生姓名   | string | 是    | 就诊的医生                              |
| roomname     | 诊室名称   | string | 是    | 就诊诊室的名称，如：方便门诊，228诊室等              |
| roompos      | 诊室位置   | string | 是    | 就诊诊室的位置，指哪个大楼                      |
| roomno       | 房间号码   | string | 是    | 就诊诊室的房间号码                          |
| currentid    | 当前就诊号码 | string | 否    | 当前医生在看哪个号码                         |
| queuestate   | 排队状态   | string | 是    | -1:未报到；0:排队中；1：已结束；2：已过号    3：正在叫号 |


#### 检查预约报到排队列表(PD020101)

##### 请求报文

| 参数项      | 参数名   | 类型     | 必选   | 描述                      |
| -------- | ----- | ------ | ---- | ----------------------- |
| openid   | 用户标识  | string | 是    | 支付宝USERID或微信OPENID，辅助参数 |
| queueseq | 排队流水号 | string | 否    | 排队流水号，为空时返回用户的所有排队的列表   |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项          | 参数名    | 类型     | 必选   | 描述                                 |
| ------------ | ------ | ------ | ---- | ---------------------------------- |
| openid       | 用户标识   | string | 是    | 支付宝用户ID                            |
| preengageseq | 预约流水号  | string | 是    | 预约流水号                              |
| preengageno  | 分诊序号   | string | 是    | 门诊第几个号                             |
| queueseq     | 排队序号   | string | 是    | 每一条排队记录的标识                         |
| queueid      | 排队号码   | string | 是    | 报道时获得的排队号码                         |
| queuetime    | 排队时间   | string | 是    | 报道时的时间                             |
| shiftname    | 班次名称   | string | 是    | 上午或是下午                             |
| queuename    | 队列名称   | string | 否    | 在排哪个队                              |
| checkname    | 检查名称   | string | 是    | 检查哪个项目                             |
| roomname     | 诊室名称   | string | 是    | 就诊诊室的名称，如：方便门诊，228诊室等              |
| roompos      | 诊室位置   | string | 是    | 就诊诊室的位置，指哪个大楼                      |
| roomno       | 房间号码   | string | 是    | 就诊诊室的房间号码                          |
| currentid    | 当前就诊号码 | string | 否    | 当前医生在看哪个号码                         |
| notice       | 注意事项   | string | 否    | 检查注意事项                             |
| queuestate   | 排队状态   | string | 是    | -1:未报到；0:排队中；1：已结束；2：已过号    3：正在叫号 |

#### 检查预约报到(PD020201)

##### 请求报文

| 参数项          | 参数名   | 类型     | 必选   | 描述                      |
| ------------ | ----- | ------ | ---- | ----------------------- |
| openid       | 用户标识  | string | 是    | 支付宝USERID或微信OPENID，辅助参数 |
| preengageseq | 预约流水号 | string | 是    | 预约流水号                   |

##### 回复报文，报文内容参数如下

| 参数项   | 参数名  | 类型     | 必选   | 描述    |
| ----- | ---- | ------ | ---- | ----- |
| state | 状态   | string | 是    | 1：成功； |

#### 检查预约所有排队前十人员列表信息（PD020001）

这是一个系统级别的协议，由服务端后台主动发起，而非用户调用发起。它要求返回 WebService 端返回当前所有排队队列中（服务端报到）的前十人员的排队信息，后端程序根据这些信息的变更情况来发现用户通知。

##### 请求报文

| 参数项  | 参数名  | 类型   | 必选   | 描述   |
| ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项          | 参数名    | 类型     | 必选   | 描述                                 |
| ------------ | ------ | ------ | ---- | ---------------------------------- |
| openid       | 用户标识   | string | 是    | 支付宝用户ID                            |
| preengageseq | 预约流水号  | string | 是    | 预约流水号                              |
| preengageno  | 分诊序号   | string | 是    | 门诊第几个号                             |
| queueseq     | 排队序号   | string | 是    | 每一条排队记录的标识                         |
| queueid      | 排队号码   | string | 是    | 报道时获得的排队号码                         |
| queuetime    | 排队时间   | string | 是    | 报道时的时间                             |
| shiftname    | 班次名称   | string | 是    | 上午或是下午                             |
| queuename    | 队列名称   | string | 否    | 在排哪个队                              |
| checkname    | 检查名称   | string | 是    | 检查哪个项目                             |
| roomname     | 诊室名称   | string | 是    | 就诊诊室的名称，如：方便门诊，228诊室等              |
| roompos      | 诊室位置   | string | 是    | 就诊诊室的位置，指哪个大楼                      |
| roomno       | 房间号码   | string | 是    | 就诊诊室的房间号码                          |
| currentid    | 当前就诊号码 | string | 否    | 当前医生在看哪个号码                         |
| notice       | 注意事项   | string | 否    | 检查注意事项                             |
| queuestate   | 排队状态   | string | 是    | -1:未报到；0:排队中；1：已结束；2：已过号    3：正在叫号 |

#### 化验报告单列表（EX010101）

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述           |
| -------- | ---- | ------ | ---- | ------------ |
| name     | 姓名   | string | 是    | 要查询谁的报告单     |
| idcardno | 身份证  | string | 是    | 要查询报告单人的身份证号 |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项          | 参数名  | 类型     | 必选   | 描述                     |
| ------------ | ---- | ------ | ---- | ---------------------- |
| doctadviseno | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识       |
| examinaim    | 检验内容 | string | 是    | 化验单的化验内容               |
| requesttime  | 送检时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| requester    | 送检人  | string | 是    | 开单的医生                  |

#### 一个化验报告单的抬头信息（EX010201）

##### 请求报文

| 参数项          | 参数名  | 类型     | 必选   | 描述               |
| ------------ | ---- | ------ | ---- | ---------------- |
| doctadviseno | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识 |

##### 回复报文，参数如下

| 参数项              | 参数名  | 类型     | 必选   | 描述                     |
| ---------------- | ---- | ------ | ---- | ---------------------- |
| doctadviseno     | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识       |
| requesttime      | 送检时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| requester        | 送检人  | string | 是    |                        |
| executetime      | 采集时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| executer         | 采集人  | string | 是    |                        |
| receivetime      | 接收时间 | string | 否    | 格式：yyyy-MM-dd HH:mm:ss |
| receiver         | 接收人  | string | 否    |                        |
| stayhospitalmode | 标示来源 | string | 否    |                        |
| patientid        | 病人编号 | string | 是    |                        |
| section          | 申请科室 | string | 是    |                        |
| bedno            | 床号   | string | 否    |                        |
| patientname      | 病人姓名 | string | 是    |                        |
| sex              | 性别   | string | 是    |                        |
| age              | 年龄   | string | 是    |                        |
| diagnostic       | 诊断   | string | 是    |                        |
| sampletype       | 标本类型 | string | 是    |                        |
| examinaim        | 检查项目 | string | 是    |                        |
| requestmode      | 平/急诊 | string | 否    |                        |
| checker          | 审核人  | string | 是    |                        |
| checktime        | 审核时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| csyq             | 测试仪器 | string | 否    |                        |
| profiletest      | 测试方法 | string | 否    |                        |

#### 一个化验报告单详细列表信息（EX010301）

##### 请求报文

| 参数项          | 参数名  | 类型     | 必选   | 描述               |
| ------------ | ---- | ------ | ---- | ---------------- |
| doctadviseno | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识 |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项    | 参数名  | 类型     | 必选   | 描述          |
| ------ | ---- | ------ | ---- | ----------- |
| jylx   | 检验类型 | string | 否    |             |
| xmmc   | 项目名称 | string | 是    |             |
| result | 结果   | string | 是    |             |
| hint   | 标志   | string | 否    | ↑ 或 另一个下的符号 |
| ckfw   | 健康范围 | string | 是    |             |
| xmdw   | 项目单位 | string | 是    | %等          |

#### 检验报告单列表（EX020101）

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述           |
| -------- | ---- | ------ | ---- | ------------ |
| name     | 姓名   | string | 是    | 要查询谁的报告单     |
| idcardno | 身份证  | string | 是    | 要查询报告单人的身份证号 |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项          | 参数名  | 类型     | 必选   | 描述                     |
| ------------ | ---- | ------ | ---- | ---------------------- |
| doctadviseno | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识       |
| examinaim    | 检验内容 | string | 是    | 化验单的化验内容               |
| requesttime  | 送检时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| requester    | 送检人  | string | 是    | 开单的医生                  |

#### 一个检验报告单的抬头信息（EX020201）

##### 请求报文

| 参数项          | 参数名  | 类型     | 必选   | 描述               |
| ------------ | ---- | ------ | ---- | ---------------- |
| doctadviseno | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识 |

##### 回复报文，参数如下

| 参数项              | 参数名  | 类型     | 必选   | 描述                     |
| ---------------- | ---- | ------ | ---- | ---------------------- |
| doctadviseno     | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识       |
| requesttime      | 送检时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| requester        | 送检人  | string | 是    |                        |
| executetime      | 采集时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| executer         | 采集人  | string | 是    |                        |
| receivetime      | 接收时间 | string | 否    | 格式：yyyy-MM-dd HH:mm:ss |
| receiver         | 接收人  | string | 否    |                        |
| stayhospitalmode | 标示来源 | string | 否    |                        |
| patientid        | 病人编号 | string | 是    |                        |
| section          | 申请科室 | string | 是    |                        |
| bedno            | 床号   | string | 否    |                        |
| patientname      | 病人姓名 | string | 是    |                        |
| sex              | 性别   | string | 是    |                        |
| age              | 年龄   | string | 是    |                        |
| diagnostic       | 诊断   | string | 是    |                        |
| sampletype       | 标本类型 | string | 是    |                        |
| examinaim        | 检查项目 | string | 是    |                        |
| requestmode      | 平/急诊 | string | 否    |                        |
| checker          | 审核人  | string | 是    |                        |
| checktime        | 审核时间 | string | 是    | 格式：yyyy-MM-dd HH:mm:ss |
| csyq             | 测试仪器 | string | 否    |                        |
| profiletest      | 测试方法 | string | 否    |                        |

#### 一个检验报告单的结果信息（EX020301）

##### 请求报文

| 参数项          | 参数名  | 类型     | 必选   | 描述               |
| ------------ | ---- | ------ | ---- | ---------------- |
| doctadviseno | 条码号  | string | 是    | 化验单的条码号，这是一个唯一标识 |

##### 回复报文，参数如下

| 参数项         | 参数名  | 类型     | 必选   | 描述   |
| ----------- | ---- | ------ | ---- | ---- |
| studyresult | 检查所见 | string | 是    |      |
| diagresult  | 检查诊断 | string | 是    |      |

#### 创建门诊预存订单(PO010101)

##### 请求报文

| 参数项             | 参数名    | 类型     | 必选   | 描述                 |
| --------------- | ------ | ------ | ---- | ------------------ |
| openid          | 用户标识   | string | 是    | 支付宝USERID或微信OPENID |
| patientname     | 病人姓名   | string | 否    | 辅助参数，为哪个病人充值       |
| patientidcardno | 病人身份证号 | string | 否    | 辅助参数               |
| cardno          | 就诊卡卡号  | string | 否    | 辅助参数               |
| patientid       | 病人ID   | string | 是    | 为哪个病人充值时对应的病人ID    |
| subject         | 标题     | string | 是    | 充值标题，如支付宝门诊预存      |
| money           | 金额     | string | 是    | 门诊预存金额，单位：元        |
| jzid            | 就诊id   | string | 否    |                    |
| shdzid          | 收货地址id | string | 否    |                    |
| qjfs            | 取件方式   | string | 否    |                    |

##### 回复报文，参数如下

| 参数项     | 参数名  | 类型     | 必选   | 描述    |
| ------- | ---- | ------ | ---- | ----- |
| tradeno | 订单号  | string | 是    | 订单流水号 |

#### 门诊预存订单列表(PO010201)

##### 请求报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| ------ | ---- | ------ | ---- | ------------------ |
| openid | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项             | 参数名     | 类型     | 必选   | 描述                               |
| --------------- | ------- | ------ | ---- | -------------------------------- |
| openid          | 支付宝用户ID | string | 是    | 支付宝USERID或微信OPENID               |
| paymenttradeno  | 支付平台订单号 | string | 是    | 支付平台订单号                          |
| tradeno         | 订单号     | string | 是    | 医院订单号                            |
| status          | 状态      | string | 是    | 0：订单已创建；1：订单用户完成；2：商户通知完成；3：订单取消 |
| subject         | 标题      | string | 是    | 订单名称                             |
| money           | 金额      | string | 是    | 单位元                              |
| ctime           | 创建时间    | string | 是    | 格式：yyyy-MM-dd HH:mm:ss           |
| paytime         | 付款时间    | string | 是    | 格式：yyyy-MM-dd HH:mm:ss           |
| rtntime         | 退款时间    | string | 否    | 格式：yyyy-MM-dd HH:mm:ss           |
| patientid       | 病人ID    | string | 是    | 为哪个病人充值时对应的病人ID                  |
| patientname     | 病人姓名    | string | 是    | 为哪个病人充值                          |
| patientidcardno | 病人身份证号  | string | 是    |                                  |

#### 取消门诊预存订单(PO010301)

##### 请求报文

| 参数项         | 参数名  | 类型     | 必选   | 描述                 |
| ----------- | ---- | ------ | ---- | ------------------ |
| openid      | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |
| patientname | 病人姓名 | string | 否    | 辅助参数，为哪个病人充值       |
| patientid   | 病人ID | string | 是    | 为哪个病人充值时对应的病人ID    |
| tradeno     | 订单号  | string | 是    | 医院订单号              |

##### 回复报文，参数如下

| 参数项     | 参数名  | 类型     | 必选   | 描述    |
| ------- | ---- | ------ | ---- | ----- |
| tradeno | 订单号  | string | 是    | 订单流水号 |

#### 商户通知门诊预存成功(PO010401)

##### 请求报文

| 参数项               | 参数名     | 类型     | 必选   | 描述                 |
| ----------------- | ------- | ------ | ---- | ------------------ |
| openid            | 用户标识    | string | 是    | 支付宝USERID或微信OPENID |
| patientname       | 病人姓名    | string | 否    | 辅助参数，为哪个病人充值       |
| patientid         | 病人ID    | string | 是    | 为哪个病人充值时对应的病人ID    |
| tradeno           | 订单号     | string | 是    | 医院订单号              |
| paymenttradeno    | 支付平台订单号 | string | 是    | 支付平台订单号            |
| money             | 金额      | string | 是    | 单位元                |
| paymentparameters | 通知参数    | string | 是    | 商户通知返回的参数，帮助反查     |

##### 回复报文，参数如下

| 参数项     | 参数名  | 类型     | 必选   | 描述    |
| ------- | ---- | ------ | ---- | ----- |
| tradeno | 订单号  | string | 是    | 订单流水号 |

#### 创建住院预缴订单(PI010101)

##### 请求报文

| 参数项             | 参数名    | 类型     | 必选   | 描述                 |
| --------------- | ------ | ------ | ---- | ------------------ |
| openid          | 用户标识   | string | 是    | 支付宝USERID或微信OPENID |
| patientname     | 病人姓名   | string | 否    | 辅助参数，为哪个病人充值       |
| patientidcardno | 病人身份证号 | string | 否    | 辅助参数               |
| inpatientno     | 住院号码   | string | 是    | 为哪个病人充值时对应的病人住院号码  |
| subject         | 标题     | string | 是    | 充值标题，如支付宝门诊预存      |
| money           | 金额     | string | 是    | 门诊预存金额，单位：元        |

##### 回复报文，参数如下

| 参数项     | 参数名  | 类型     | 必选   | 描述    |
| ------- | ---- | ------ | ---- | ----- |
| tradeno | 订单号  | string | 是    | 订单流水号 |

#### 住院预缴订单列表(PI010201)

##### 请求报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| ------ | ---- | ------ | ---- | ------------------ |
| openid | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项             | 参数名     | 类型     | 必选   | 描述                               |
| --------------- | ------- | ------ | ---- | -------------------------------- |
| openid          | 支付宝用户ID | string | 是    | 支付宝USERID或微信OPENID               |
| paymenttradeno  | 支付平台订单号 | string | 是    | 支付平台订单号                          |
| tradeno         | 订单号     | string | 是    | 医院订单号                            |
| status          | 状态      | string | 是    | 0：订单已创建；1：订单用户完成；2：商户通知完成；3：订单取消 |
| subject         | 标题      | string | 是    | 订单名称                             |
| money           | 金额      | string | 是    | 单位元                              |
| ctime           | 创建时间    | string | 是    | 格式：yyyy-MM-dd HH:mm:ss           |
| paytime         | 付款时间    | string | 是    | 格式：yyyy-MM-dd HH:mm:ss           |
| rtntime         | 退款时间    | string | 否    | 格式：yyyy-MM-dd HH:mm:ss           |
| inpatientno     | 住院号码    | string | 是    | 为哪个病人充值时对应的病人住院号码                |
| patientname     | 病人姓名    | string | 是    | 为哪个病人充值                          |
| patientidcardno | 病人身份证号  | string | 是    |                                  |

#### 取消住院预缴订单(PI010301)

##### 请求报文

| 参数项         | 参数名  | 类型     | 必选   | 描述                 |
| ----------- | ---- | ------ | ---- | ------------------ |
| openid      | 用户标识 | string | 是    | 支付宝USERID或微信OPENID |
| patientname | 病人姓名 | string | 否    | 辅助参数，为哪个病人充值       |
| inpatientno | 住院号码 | string | 是    | 为哪个病人充值时对应的病人住院号码  |
| tradeno     | 订单号  | string | 是    | 医院订单号              |

##### 回复报文，参数如下

| 参数项     | 参数名  | 类型     | 必选   | 描述    |
| ------- | ---- | ------ | ---- | ----- |
| tradeno | 订单号  | string | 是    | 订单流水号 |

#### 商户通知住院预缴成功(PI010401)

##### 请求报文

| 参数项               | 参数名     | 类型     | 必选   | 描述                 |
| ----------------- | ------- | ------ | ---- | ------------------ |
| openid            | 用户标识    | string | 是    | 支付宝USERID或微信OPENID |
| patientname       | 病人姓名    | string | 否    | 辅助参数，为哪个病人充值       |
| inpatientno       | 住院号码    | string | 是    | 为哪个病人充值时对应的病人住院号码  |
| tradeno           | 订单号     | string | 是    | 医院订单号              |
| paymenttradeno    | 支付平台订单号 | string | 是    | 支付平台订单号            |
| money             | 金额      | string | 是    | 单位元                |
| paymentparameters | 通知参数    | string | 是    | 商户通知返回的参数，帮助反查     |

##### 回复报文，参数如下

| 参数项     | 参数名  | 类型     | 必选   | 描述    |
| ------- | ---- | ------ | ---- | ----- |
| tradeno | 订单号  | string | 是    | 订单流水号 |

#### 住院病人信息(IP010101)

##### 请求报文

| 参数项      | 参数名  | 类型     | 必选   | 描述                     |
| -------- | ---- | ------ | ---- | ---------------------- |
| idcardno | 身份证号 | string | 是    | 住院登记的身份证号，带有“X”的统一采用大写 |
| name     | 病人姓名 | string | 否    | 住院登记的姓名，辅助查询使用         |

##### 回复报文，参数如下

| 参数项             | 参数名    | 类型      | 必选   | 描述                |
| --------------- | ------ | ------- | ---- | ----------------- |
| inpatientno     | 住院号码   | string  | 是    | 病人住院号码，病人住院时的唯一标识 |
| patientname     | 病人姓名   | string  | 是    |                   |
| patientidcardno | 病人身份证号 | string  | 是    |                   |
| sex             | 病人性别   | string  | 是    | 1：男；2：女           |
| birthday        | 出生年月   | string  | 否    | 格式：yyyy-MM-dd     |
| address         | 联系地址   | string  | 否    | 入院时便当的联系地址        |
| phone           | 联系电话   | string  | 是    |                   |
| admitdate       | 入院日期   | string  | 是    | 格式：yyyy-MM-dd     |
| dischargedate   | 出院日期   | string  | 否    | 格式：yyyy-MM-dd     |
| stayday         | 住院天数   | integer | 否    |                   |
| xzmc            | 病人性质   |         |      |                   |
| endemicarea     | 病区名称   | string  | 是    | 所住病区              |
| brch            | 病人床号   |         |      |                   |
| departcode      | 科室代码   | string  | 否    |                   |
| departname      | 科室名称   | string  | 是    |                   |
| ylhj            | 医疗合计   |         |      |                   |
| lwhj            | 劳务合计   |         |      |                   |
| zfje            | 自负金额   |         |      |                   |
| jkje            | 缴款金额   |         |      |                   |
| zyzt            | 住院状态   |         |      |                   |
| doctorcode      | 医生代码   | string  | 否    |                   |
| doctorname      | 医生姓名   | string  | 是    |                   |

#### 住院费用列表(IP020101)

##### 请求报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                 |
| --------- -- | ---- | ------ | ---- | ------------------ |
| inpatientno  | 住院号码   | string  | 是   | 病人住院号码，病人住院时的唯一标识 |
| costdate     | 费用日期   | string  | 否   | 查询哪一天的费用，为空时查询所有。格式：yyyy-MM-dd |

##### 回复报文，报文内容为*列表结构*，参数如下

| 参数项      | 参数名  | 类型     | 必选   | 描述      |
| -------- | ---- | ------ | ---- | ------- |
| costcode | 费用项目 | string | 否    | 费用的分类   |
| costname | 项目名称 | string | 是    | 费用分类的名称 |
| totalfee | 总计金额 | double | 是    | 单位：元    |
| payfee   | 自负金额 | double | 是    | 单位：元    |


#### 通知病人就诊信息（NF010101）

##### 请求报文

**无输入参数**

##### 回复报文

| 参数项    | 参数名  | 类型     | 必选   | 描述                       |
| ------ | ---- | ------ | ---- | ------------------------ |
| userid | 用户ID | string | 是    | 支付宝或微信中用户唯一标识。支付宝是openid |
| brxm   | 病人姓名 | string | 是    | 就诊病人姓名                   |
| ysxm   | 医生姓名 | string | 是    | 就诊医生姓名                   |
| jzdz   | 就诊地址 | string | 否    | 就诊地址                     |
| jzsj   | 就诊时间 | string | 否    | 就诊时间                     |
| jzrq   | 就诊日期 | string | 否    | 就诊日期                     |

#### 核对未到账的充值缴费信息（NF010201）[支付宝]

##### 请求报文

**无输入参数**

#5 回复报文

| 参数项          | 类型     | 必选   | 描述                                       |
| ------------ | ------ | ---- | ---------------------------------------- |
| out_trade_no | string | 特殊可选 | 订单支付时传入的商户订单号,和支付宝交易号不能同时为空。trade_no,out_trade_no如果同时存在优先取trade_no |
| trade_no     | string | 特殊可选 | 支付宝交易号，和商户订单号不能同时为空                      |



## 个性化接口规约

### 规约说明

个性化接口规约根据接入医院的个性化需求定制开发，请求报文和回复报文的格式与公共接口规约相同。个性化接口规约操作码由’S’+医院机构码+功能序号构成，操作码定义如下：

| 医院     | 操作码                           | 说明   | 备注   |
| ------ | ----------------------------- | ---- | ---- |
| 温州市中医院 | S\_47052552233030211A2101\_01 | 中药取药 | A020 |

#### 报文规约

#### 温州市中医院

##### 中药取药查询(S\_47052552233030211A2101\_01)

###### 请求报文

| **信息项** | **说明** | **必填** | **备注** |
| ------- | ------ | ------ | ------ |
| brxm    | 病人姓名   | 是      |        |
| lxdh    | 联系电话   | 是      |        |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

###### 回复报文

| **字段名** | **说明** | **值类型** | **备注**                                  |
| ------- | ------ | ------- | --------------------------------------- |
| kfrq    | 开方日期   |         | 格式:yyyyMMdd                             |
| qyxh    | 取药序号   |         |                                         |
| cfzt    | 处方状态   |         | 1.  调配中;2.  传送中;3.  可取药;4.  已取药;9- 未知状态 |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

##### 预约信息查询(S\_47052552233030211A2101\_02

###### 请求报文

| **信息项** | **说明** | **必填** | **备注**        |
| ------- | ------ | ------ | ------------- |
| brid    | 病人id   | 是      |               |
| brlx    | 病人类型   | 是      | 1-门诊病人;2-住院病人 |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

###### 回复报文

| **字段名** | **说明**  | **值类型** | **备注** |
| ------- | ------- | ------- | ------ |
| pdhm    | 序号，预约号码 |         |        |
| brxm    | 病人姓名    |         |        |
| ksmc    | 科室名称    |         |        |
| doctor  | 医生名称    |         |        |
| yysj    | 预约时间    |         |        |
| yyly    | 预约类型    |         |        |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

##### 分诊排队查询(S\_47052552233030211A2101\_04)

###### 请求报文

| **信息项** | **说明** | **必填** | **备注**        |
| ------- | ------ | ------ | ------------- |
| brid    | 病人id   | 是      |               |
| brlx    | 病人类型   | 是      | 1-门诊病人;2-住院病人 |

请求报文的XML样例片段如下所示：

``` xml
<root>
<value>
</value>
</root>
```

###### 回复报文

| **字段名**          | **说明**     | **值类型** | **备注**              |
| ---------------- | ---------- | ------- | ------------------- |
| zt               | 排队的状态      |         | 1:队列中、2:已经过号、0:其他状态 |
| brxm             | 病人姓名       |         |                     |
| sfzh             | 病人身份证号     |         |                     |
| ksmc             | 科室名称       |         |                     |
| zsmc             | 诊室名称       |         |                     |
| doctor           | 医生名称       |         |                     |
| pdhm             | 排队号码       |         |                     |
| waitcount        | 等待人数       |         |                     |
| specialwaitcount | 等待人数（特殊人群） |         |                     |
| yjjzsj           | 预计就诊时间     |         |                     |

回复报文的XML样例片段如下所示：

``` xml
<root>
<message>
<value>
</value>
</message>
</root>
```

## 附录

| 接口                                  | 状态        | 应答码  | 适用条件                                     |
| ----------------------------------- | --------- | ---- | ---------------------------------------- |
| 绑卡查询(C001)                          | sucess    | 0    | 找到病人信息。                                  |
|                                     | failure   | 2    | 医院端未找到，请核对信息后重试                          |
|                                     |           | 10   | 1.  医院暂时不支持门诊病人该功能的使用<br>2.  医院暂时不支持住院病人该功能的使用 |
|                                     | exception | -1   | 1，C001参数不完整，无法提交<br>2，异常，请联系系统管理人员和程序异常信息<br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 卡绑定(C002)                           | sucess    | 0    | 成功绑定                                     |
|                                     | failure   | 2    | 1, 绑定失败，电话号码不匹配<br>2,系统时间出错              |
|                                     |           | 3    | 绑定失败，该卡已被绑定                              |
|                                     |           | 4    | 绑卡失败                                     |
|                                     |           | 10   | 1，不支持门诊病人该功能的使用<br>1.  暂时不支持住院病人该功能的使用   |
|                                     | exception | -1   | 1，C002参数不完整，无法提交<br>2，异常，请联系系统管理人员和程序异常信息<br>3，程序异常信息 |
|                                     |           | -2   | 1,系统时间出错<br>2,程序异常信息                     |
|                                     |           | -99  | 程序异常信息                                   |
| 订单查询(P001)                          | sucess    | 0    | 查找到记录                                    |
|                                     | failure   | 1    | 1，亲，没有记录<br>2，没有找到记录                     |
|                                     |           | 2    | 绑定失败，电话号码不匹配                             |
|                                     | exception | -1   | 1，P001数不完整，无法提交<br>2，异常，请联系系统管理人员和程序异常信息<br>3，程序异常信息 |
| 生成订单(P002)                          | sucess    | 0    | 订单已经成功创建                                 |
|                                     | failure   | 1    | 病人ID不存在                                  |
|                                     |           | 2    | 1，充值金额异常                                                            <br>2， 充值金额超过限定额度 <br>3，该病人ID无效 |
|                                     |           | 3    | 读取服务器系统时间出错。                             |
|                                     |           | 4    | 卡号校验失败                                   |
|                                     |           | 5    | 1，获取订单流水号出错 <br> 2，订单流水号产生失败             |
|                                     |           | 6    | 该病人ID无效                                  |
|                                     |           | 7    | 1,绑卡失败，失败原因没有找到记录(以前的错误信息,现在已经改为2中的错误信息) <br> 2,医院没有找到病人信息 |
|                                     |           | 11   | 暂时不支持该功能                                 |
|                                     |           | 20   | 医院内部维护中，暂停该功能                            |
|                                     | exception | -1   | 1，P002参数不完整，无法提交<br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
| 订单支付(P003)                          | sucess    | 0    | 手机订单支付成功                                 |
|                                     | failure   | 1    | 1，记录数据不对应没有原始记录 <br> 2，无法找到该记录原始记录       |
|                                     | exception | -1   | 1，P003参数不完整，无法提交    <br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
| 取消订单 (P004)                         | sucess    | 0    | 订单作废成功                                   |
|                                     | failure   | 6    | 1,订单已经完成或者已经被取消，无法被再次修改   <br> 2,订单已完成，无法被修改 <br>3,手机订单已作废，无法被修改 |
|                                     |           | 7    | 订单数据无法读取                                 |
|                                     |           | 8    | 没有找到订单                                   |
|                                     | exception | -1   | 1，P004参数不完整，无法提交     <br> 2，异常，请联系系统管理人员和程序异常信息 <br>1.  程序异常信息 |
| 余额查询 (P005)                         | sucess    | 0    |                                          |
|                                     | failure   | 2    | 信息找到，但未找到余额信息                            |
|                                     |           | 3    | 信息没找到，确认卡号信息正确                           |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用     <br> 2，医院暂时不支持住院病人该功能的使用 |
|                                     | exception | -1   | 1，P005参数不完整，无法提交      <br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
| 账户变更记录(P006)                        | sucess    | 0    |                                          |
|                                     | failure   | 1    | 亲，没有记录                                   |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用    <br> 2，医院暂时不支持住院病人该功能的使用 |
|                                     | exception | -1   | 1，P006参数不完整，无法提交<br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
| 商户通知(P007)                          | sucess    | 0    |                                          |
|                                     | failure   | 1    | 已经交易记录,无需插入                              |
|                                     |           | 2    | 充值金额异常                                   |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用     <br> 2，医院暂时不支持住院病人该功能的使用 |
|                                     | exception | -1   | 1，P007参数不完整，无法提交       <br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 <br>4，读取系统时间出错 |
|                                     |           | -99  | 程序异常信息                                   |
| 转账 (P008)                           | 暂时未使用该接口  |      |                                          |
| 交易明细 (P009)                         | 暂时未使用该接口  |      |                                          |
| 药品查询 (Q001)分页                       | sucess    | 0    |                                          |
|                                     | failure   | 2    | 亲，没有记录                                   |
|                                     |           | 10   | 医院暂时不支持该功能的使用                            |
|                                     | exception | -1   | 1，Q001参数不完整，无法提交   <br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 药品查询 (Q002)                         | sucess    | 0    |                                          |
|                                     | failure   | 2    | 亲，没有记录                                   |
|                                     |           | 10   | 医院暂时不支持该功能的使用                            |
|                                     | exception | -1   | 1，Q002参数不完整，无法提交 <br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 费用查询 (Q003)分页                       | sucess    | 0    |                                          |
|                                     | failure   | 2    | 亲，没有记录                                   |
|                                     |           | 10   | 医院暂时不支持该功能的使用                            |
|                                     | exception | -1   | 1，Q003参数不完整，无法提交 <br> 2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 费用查询 (Q004)                         | sucess    | 0    |                                          |
|                                     | failure   | 2    | 亲，没有记录                                   |
|                                     |           | 10   | 医院暂时不支持该功能的使用                            |
|                                     | exception | -1   | 1，Q004参数不完整，无法提交 <br>2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 医院专家查询(Q005)分页                      | 暂时未使用该接口  |      |                                          |
| 医院专家(Q006)拼音                        | 暂时未使用该接口  |      |                                          |
| 医院专家 (Q007)信息明细                     | 暂时未使用该接口  |      |                                          |
| 剩余床位查询(Q008)                        | sucess    | 0    |                                          |
|                                     | failure   | 1    | 没有找到床位信息                                 |
|                                     |           | 10   | 医院暂时不支持该功能的使用                            |
|                                     | exception | -1   | 1，Q001参数不完整，无法提交 <br>2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
| 查询检验单 (B001)                        | sucess    | 0    |                                          |
|                                     | failure   | 2    | 没有找到报告信息                                 |
|                                     |           | 3    | 没有找到报告信息                                 |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用 <br>2，医院暂时不支持住院病人该功能的使用 |
|                                     |           | 12   | 病人姓名或者身份证号在数据库为空                         |
|                                     | exception | -1   | 1，B001参数不完整，无法提交 <br>2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 查询检验单 (B002)                        | sucess    | 0    |                                          |
|                                     | failure   | 2    | 未能找到该编号的报告单，请检查编号                        |
|                                     |           | 3    | \[单号”报告单号”详细查询错误\]" + 异常信息               |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用 <br>2，医院暂时不支持住院病人该功能的使用 |
|                                     | exception | -1   | 1，B002参数不完整，无法提交 <br>2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 查询检查单 (B003)                        | sucess    | 0    |                                          |
|                                     | failure   | 2    | 没有找到报告信息                                 |
|                                     |           | 3    | 没有找到报告信息                                 |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用 <br>2，医院暂时不支持住院病人该功能的使用 |
|                                     |           | 12   | 病人姓名或者身份证号在数据库为空                         |
|                                     | exception | -1   | 1，B003参数不完整，无法提交 <br>2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 查询检查单 (B004)                        | sucess    | 0    |                                          |
|                                     | failure   | 2    | 未能找到该编号的报告单，请检查编号                        |
|                                     |           | 3    | \[单号”报告单号”详细查询错误\]" + 异常信息               |
|                                     |           | 10   | 1，医院暂时不支持门诊病人该功能的使用 <br>2，医院暂时不支持住院病人该功能的使用 |
|                                     | exception | -1   | 1，B004参数不完整，无法提交 <br>2，异常，请联系系统管理人员和程序异常信息 <br>3，程序异常信息 |
|                                     |           | -99  | 程序异常信息                                   |
| 取药查询(S\_47052552233030211A2101\_01) | sucess    | 0    |                                          |
|                                     | exception | -1   | 1，S\_47052552233030211A2101\_01 参数不完整，无法提交<br> 2，异常，请联系系统管理人员和程序异常信息<br> 3，程序异常信息 |
|                                     |           | -2   | 亲，没有记录                                   |
|                                     |           | -99  | 程序异常信息                                   |

### 第三方平台协议回返状态码

| 代码   | 说明              |
| ---- | --------------- |
| 00   | 成功              |
| 01   | 用户未注册           |
| 02   | 用户未绑卡           |
| 03   | 不存在的联系人         |
| 04   | 联系人未绑卡          |
| 05   | 没有相应的住院信息       |
| 06   | 亲，您已注册          |
| 07   | 注册失败            |
| 08   | 修改用户信息成功        |
| 09   | 删除常用联系人异常       |
| 10   | 医院端未找到，请核对信息后重试 |
| 11   | 门诊卡绑定更新异常       |
| 12   | 解绑更新异常          |
| 13   | 绑卡信息有误          |
| 14   | 记录已找到，但是没有该病人ID |
| 15   | 绑卡记录没找到，确认办卡信息  |
| 16   | 亲，没有记录          |
| 17   | 未能找到报告单         |
| 18   | 医院暂时不支持该功能的使用   |
| 19   | 充值金额异常或超过限定额度   |
| 20   | 读取服务器系统时间出错     |
| 21   | 订单流水号产生失败       |
| 22   | 手机订单已完成，无法被修改   |
| 23   | 手机订单已作废，无法被修改   |
| 24   | 读取系统时间出错        |
| 25   | 银联返回充值不成功       |
| 26   | 订单病人类型异常        |
| 27   | 订单已经作废          |
| 28   | 订单已经生成          |
| 29   | 订单已经完成          |
| 30   | 订单已经充值          |
| 31   | 未知的订单状态         |
| 32   | 没有找到订单，请核实      |
| 33   | 亲，未找到您的信息       |
| 34   | 开通账户出错          |
| 35   | 插入医院HIS表数据出错    |
| 36   | HIS更新数据不成功      |
| 37   | 银联返回失败          |
| 38   | 已经交易记录,无需插入     |
| 39   | 记录日志失败          |
| 40   | 没有该订单，数据非法      |
| 41   | 充值金额异常          |
| 42   | 预约出错            |
| 43   | 预约日期错误          |
| 44   | 预约时间错误          |
| 45   | 预约的二科室代码错误      |
| 46   | 没有相应的住院信息       |
| 47   | 预约日期错误          |
| 48   | 预约时间错误          |
| 49   | 预约的二级科室代码错误     |
| 50   | 预约的二级科室错误       |
| 51   | 预约医生的编码错误       |
| 52   | 预约医生的姓名错误       |
| 53   | 挂号失败            |
| 54   | 取消挂号失败          |
| 99   | 预约的二科室代码错误      |

