<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>智能导诊</title>
    <!-- base href="http://wx.rlyzg.org/" -->
    <meta name="viewport" content="width=device-width,height=device-height,maximum-scale=1.0,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <link href="css/smartBody.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="frozenui-1.3.0/css/frozen.css"/>
    <script type="text/javascript" src="js/min/zepto-min.js"></script>

    <script type="text/javascript" src="js/min/base-min.js"></script>

    <link rel="stylesheet" type="text/css" href="css/main.css" />

    <script>
        $(function () {
            var bodyImage = $('.ddd img');
            bodyImage.height(document.body.clientHeight * 0.85);
            bodyImage.width(638/1160*document.body.clientHeight * 0.85);
            $(".ddd").css("margin-left", bodyImage.width() / 2 * -1);

            var left = (document.body.clientWidth - bodyImage.width()) / 2;
            var top = document.body.clientHeight * 0.1;
        });
    </script>
</head>

<body id="cate15">
<div class="ddd" align="center">
    <canvas id="myCanvas" style="position:absolute;pointer-events:none;"></canvas>
    <img class="menu-img" src="image/man-front.png" usemap='#CribMap'/>
    <map id="CribMap" name="CribMap">
        <area class="body-part" shape="poly" id="man-head" title="头部" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Chest" title="胸部" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-LeftArm" title="左手" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-RightArm" title="右手" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Stomach" title="胃" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Perineum" title="男性生殖" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-LeftLeg" title="左腿" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-RightLeg" title="右腿" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Neck" title="颈部" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Face" title="脸部" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-LeftEar" title="左耳" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-RightEar" title="右耳" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-LeftEye" title="左眼" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-RightEye" title="右眼" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Noise" title="鼻子" onfocus="blur(this);"/>
        <area class="body-part" shape="poly" id="man-Mouse" title="嘴巴" onfocus="blur(this);"/>
        <!--<area class="body-part" shape="poly" id="7" title="" onfocus="blur(this);" />-->
        <!--<area class="body-part" shape="poly" id="7" title="" onfocus="blur(this);" />-->
    </map>
</div>
<div class="demo-block" style="position:fixed;bottom:0;width:100%;">
    <ul class="ui-row-flex">
        <li class="ui-col ui-flex ui-flex-pack-start">
            <div class="demo-item">
                <div class="demo-block">
                    <div class="ui-form">
                        <form class="sex" action="#">
                            <div class="ui-form-item ui-form-item-radio">
                                <label class="ui-radio" for="radio">
                                    <input type="radio" checked="" name="radio">
                                </label>
                                <p>男</p>
                            </div>
                            <div class="ui-form-item ui-form-item-radio">
                                <label class="ui-radio" for="radio">
                                    <input type="radio" name="radio">
                                </label>
                                <p>女</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </li>
        <li class="ui-col ui-flex  ui-flex-align-end ui-flex-pack-end">
            <div class="demo-item">
                <div class="demo-block">
                    <div class="ui-form">
                        <form class="position" action="#">
                            <div class="ui-form-item ui-form-item-radio">
                                <label class="ui-radio" for="radio1">
                                    <input type="radio" checked="" name="radio">
                                </label>
                                <p>前面</p>
                            </div>
                            <div class="ui-form-item ui-form-item-radio">
                                <label class="ui-radio" for="radio1">
                                    <input type="radio" name="radio">
                                </label>
                                <p>后背</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>
<script type="text/javascript">
    var imgWidth = 638;
    var imgHeight = 1160;
    var points;
    var pointIds;

    var male = true;
    var front = true;

    var manFrontPoints = {
        'manFrontHead': ['256.16666', '108.75', '273.08331', '108.75', '273.08331', '100.29166', '350.41666', '94.25', '350.41666', '107.54166', '358.875', '107.54166', '358.875', '67.666664', '354.04166', '53.166664', '335.91666', '33.833332', '323.83331', '27.791666', '277.91666', '30.208332', '253.74998', '73.708328', '256.16666', '108.75'],
        'manFrontChest': ['210.49999999999994', '228.49999579480379', '217.49999999999994', '324.4999940280693', '221.52776533964473', '346.38887132917131', '235.91270329673236', '379.18649037679035', '393.57142207205271', '379.18649037679035', '401.05157189882669', '359.62303343273339', '409.625', '308.125', '409.625', '221.125', '210.49999999999994', '228.49999579480379'],
        'manFrontLeftArm': ['210.49999999999994', '228.49999579480379', '217.49999999999994', '324.4999940280693', '205.49999999999997', '324.4999940280693', '200.49999999999994', '364.99999328272816', '187.99999999999997', '383.99999293306195', '173.99999999999994', '398.99999265700967', '165.99999999999997', '406.9999925097818', '151.49999999999997', '446.49999178284418', '136.49999999999997', '466.49999141477451', '94.999999999999972', '518.99999044859146', '92.499999999999986', '540.99999004371489', '87.499999999999986', '553.99998980446958', '79.999999999999986', '572.49998946400513', '72.999999999999986', '609.49998878307622', '64.999999999999986', '609.99998877387441', '68.499999999999986', '575.49998940879459', '55.999999999999986', '615.99998866345356', '46.999999999999993', '614.99998868185708', '54.499999999999986', '576.49998939039119', '37.999999999999993', '618.99998860824303', '28.999999999999993', '616.49998865425187', '44.999999999999986', '562.49998964804001', '42.499999999999993', '562.49998964804001', '22.999999999999996', '594.49998905912855', '16.499999999999996', '591.99998910513716', '38.999999999999993', '532.99999019094275', '36.999999999999993', '530.99999022774966', '28.499999999999993', '536.49999012653063', '19.499999999999996', '538.99999008052191', '15.999999999999996', '531.99999020934627', '33.999999999999986', '513.49999054981072', '56.499999999999993', '503.49999073384561', '64.499999999999986', '496.9999908534682', '81.499999999999986', '469.49999135956409', '115.99999999999997', '396.49999270301845', '128.99999999999997', '382.99999295146546', '136.49999999999997', '349.49999356798213', '147.49999999999997', '331.99999389004313', '157.49999999999997', '317.99999414769189', '161.99999999999997', '290.99999464458602', '171.99999999999997', '267.99999506786617', '183.99999999999997', '248.4999954267341', '189.99999999999994', '240.99999556476024', '210.49999999999994', '228.49999579480379'],
        'manFrontRightArm': ['409.625', '221.125', '409.625', '308.125', '410.83331', '320.20831', '422.91666', '357.66666', '436.20831', '378.20831', '464', '409.625', '476.08331', '441.04166', '537.70831', '517.16663', '541.33331', '535.29163', '555.83331', '575.16663', '561.875', '609', '569.125', '610.20831', '570.33331', '581.20831', '581.20831', '616.25', '590.875', '613.83331', '583.625', '580', '599.33331', '618.66663', '610.20831', '612.625', '596.91663', '567.91663', '613.83331', '594.5', '624.70831', '588.45831', '601.75', '534.08331', '621.08331', '536.5', '623.5', '526.83331', '604.16663', '508.70831', '572.75', '494.20831', '541.33331', '443.45831', '512.33331', '384.25', '501.45831', '375.79166', '497.83331', '352.83331', '473.66666', '305.70831', '464', '269.45831', '449.5', '240.45833', '435', '227.16666', '419.29166', '224.75', '409.625', '221.125'],
        'manFrontStomach': ['235.91270329673236', '379.18649037679035', '237.63889374441681', '401.62696656726655', '232.46032240136347', '465.49601418631414', '235.33728892112026', '483.33333333333331', '404.50397913377145', '483.33333333333331', '397.5991910034578', '467.79761904761904', '397.5991910034578', '454.5635096232096', '391.26984358833209', '423.49208105178104', '393.57142207205271', '379.18649037679035', '235.91270329673236', '379.18649037679035'],
        'manFrontPerineum': ['235.33728892112026', '483.33333333333331', '225.95833', '501.45831', '222.33333', '540.125', '223.54166', '565.5', '211.45833', '630.75', '309.33331', '630.75', '315.375', '587.25', '322.625', '589.66663', '322.625', '602.95831', '328.875', '630.75', '424.125', '630.75', '424.125', '618.66663', '419.29166', '604.16663', '415.66666', '566.70831', '414.45831', '526.83331', '407.20831', '489.37497', '404.50397913377145', '483.33333333333331', '235.33728892112026', '483.33333333333331'],
        'manFrontLeftLeg': ['211.45833', '630.75', '210.25', '659.75', '207.83333', '700.83331', '209.04166', '738.29163', '203', '752.79163', '200.58333', '780.58331', '198.16666', '799.91663', '193.33333', '819.25', '183.66666', '884.5', '189.70833', '999.29163', '178.83333', '1017.4166', '180.04166', '1035.5416', '175.20833', '1053.6666', '160.70833', '1088.7083', '158.29166', '1106.8333', '182.45833', '1127.375', '212.66666', '1134.625', '227.16666', '1098.375', '222.33333', '1051.25', '228.375', '1036.75', '228.375', '1024.6666', '224.75', '1004.1249', '238.04166', '918.33331', '252.54166', '867.58331', '254.95833', '815.625', '277.91666', '746.75', '309.33331', '630.75', '211.45833', '630.75'],
        'manFrontRightLeg': ['328.875', '630.75', '335.91666', '662.16663', '352.83331', '717.75', '360.08331', '756.41663', '384.25', '816.83331', '389.08331', '891.75', '406', '955.79163', '413.25', '1016.2083', '410.83331', '1029.5', '416.875', '1050.0416', '409.625', '1100.7916', '419.29166', '1127.375', '437.41666', '1135.8333', '472.45831', '1109.25', '478.49997', '1094.75', '456.75', '1041.5833', '448.29166', '995.66663', '451.91666', '861.54163', '449.5', '825.29163', '441.04166', '804.75', '436.20831', '797.5', '435', '780.58331', '426.54166', '733.45831', '425.33331', '710.5', '425.33331', '653.70831', '424.125', '630.75', '328.875', '630.75'],
        'manFrontNeck': ['210.49999999999994', '228.49999579480379', '275.5', '192.125', '279.125', '167.95833', '302.08331', '187.29166', '328.66666', '187.29166', '345.58331', '161.91666', '345.58331', '189.70833', '385.45831', '209.04166', '409.625', '221.125', '210.49999999999994', '228.49999579480379'],
        'manFrontFace': ['279.125', '167.95833', '273.08331', '138.95833', '270.66666', '122.04166', '305.70831', '122.04166', '294.83331', '136.54166', '294.83331', '160.70833', '305.70831', '170.375', '323.83331', '170.375', '331.08331', '157.08333', '328.66666', '134.125', '322.625', '122.04166', '350.41666', '122.04166', '350.41666', '141.375', '345.58331', '161.91666', '328.66666', '187.29166', '302.08331', '187.29166', '279.125', '167.95833'],
        'manFrontLeftEar': ['273.08331', '138.95833', '252.54166', '120.83333', '254.95833', '108.75', '270.66666', '122.04166', '273.08331', '138.95833'],
        'manFrontRightEar': ['350.41666', '141.375', '357.66666', '137.75', '362.5', '116', '357.66666', '106.33333', '350.41666', '111.16666', '350.41666', '141.375'],
        'manFrontLeftEye': ['276.70831', '99.083328', '271.875', '123.24999', '303.29166', '123.24999', '306.91666', '99.083328', '276.70831', '99.083328'],
        'manFrontRightEye': ['314.16666', '99.083328', '323.83331', '123.24999', '350.41666', '123.24999', '348', '97.875', '314.16666', '99.083328'],
        'manFrontNoise': ['312.95831', '108.75', '294.83331', '135.33333', '297.25', '143.79166', '327.45831', '143.79166', '327.45831', '132.91666', '312.95831', '108.75'],
        'manFrontMouse': ['296.04166', '147.41666', '297.25', '169.16666', '321.41666', '171.58333', '329.875', '164.33333', '329.875', '145', '296.04166', '147.41666']
    };

    var manFrontId = {
        'manFrontHead':'0104',
        'manFrontChest':'03',
        'manFrontLeftArm':'07',
        'manFrontRightArm':'07',
        'manFrontStomach':'04',
        'manFrontPerineum':'11',
        'manFrontLeftLeg':'08',
        'manFrontRightLeg':'08',
        'manFrontNeck':'02',
        'manFrontFace':'0105',
        'manFrontLeftEar':'0102',
        'manFrontRightEar':'0102',
        'manFrontLeftEye':'0107',
        'manFrontRightEye':'0107',
        'manFrontNoise':'0101',
        'manFrontMouse':'0103'
    };

    var manBackPoints = {
        'manBackLeftArm': ['222.33333', '225.95833', '222.33333', '335.91666', '209.04166', '356.45831', '187.29166', '387.875', '169.16666', '412.04166', '166.75', '421.70831', '153.45833', '450.70831', '114.79166', '494.20831', '91.833328', '526.83331', '87', '554.625', '72.5', '576.375', '70.083328', '604.16663', '61.624996', '606.58331', '62.833332', '580', '47.125', '615.04163', '39.875', '613.83331', '44.708332', '583.625', '32.625', '616.25', '18.125', '615.04163', '29', '576.375', '10.875', '595.70831', '6.0416665', '589.66663', '27.791666', '549.79163', '27.791666', '544.95831', '13.291666', '549.79163', '7.25', '542.54163', '6.0416665', '541.33331', '29', '524.41663', '44.708332', '518.375', '77.333328', '478.49997', '111.16666', '408.41666', '125.66666', '390.29166', '134.125', '383.04166', '140.16666', '350.41666', '164.33333', '316.58331', '165.54166', '290', '196.95833', '234.41666', '222.33333', '225.95833'],
        'manBackRightArm': ['414.45831', '225.95833', '414.45831', '329.875', '419.29166', '345.58331', '428.95831', '360.08331', '467.625', '412.04166', '476.08331', '445.875', '546.16663', '528.04163', '552.20831', '558.25', '565.5', '577.58331', '565.5', '606.58331', '573.95831', '605.375', '577.58331', '580', '587.25', '613.83331', '596.91663', '611.41663', '592.08331', '583.625', '605.375', '615.04163', '616.25', '610.20831', '609', '577.58331', '624.70831', '596.91663', '630.75', '588.45831', '607.79163', '551', '606.58331', '543.75', '625.91663', '548.58331', '627.125', '541.33331', '616.25', '528.04163', '589.66663', '515.95831', '537.70831', '437.41666', '528.04163', '413.25', '513.54163', '389.08331', '502.66666', '383.04166', '501.45831', '368.54166', '478.49997', '322.625', '457.95831', '258.58331', '447.08331', '240.45833', '422.91666', '230.79166', '414.45831', '225.95833'],
        'manBackBack': ['222.33333', '225.95833', '222.33333', '335.91666', '238.04166', '397.54166', '395.125', '397.54166', '395.125', '392.70831', '409.625', '345.58331', '414.45831', '329.875', '414.45831', '225.95833', '222.33333', '225.95833'],
        'manBackWaist': ['238.04166', '397.54166', '238.04166', '476.08331', '406', '476.08331', '396.33331', '442.25', '395.125', '391.5', '395.125', '397.54166', '238.04166', '397.54166'],
        'manBackButtocks': ['238.04166', '476.08331', '232', '497.83331', '223.54166', '542.54163', '224.75', '571.54163', '216.29166', '612.625', '315.375', '612.625', '319', '592.08331', '328.66666', '592.08331', '327.45831', '612.625', '421.70831', '612.625', '421.70831', '604.16663', '416.875', '572.75', '418.08331', '523.20831', '412.04166', '492.99997', '404.79166', '472.45831', '406', '476.08331', '238.04166', '476.08331'],
        'manBackLeftLeg': ['216.29166', '612.625', '212.66666', '708.08331', '215.08333', '729.83331', '212.66666', '737.08331', '205.41666', '776.95831', '204.20833', '798.70831', '192.125', '822.875', '192.125', '928', '194.54166', '992.04163', '180.04166', '1012.5833', '186.08333', '1039.1666', '172.79166', '1064.5416', '159.5', '1095.9583', '211.45833', '1123.75', '225.95833', '1108.0416', '230.79166', '1068.1666', '225.95833', '1042.7916', '230.79166', '1018.6249', '229.58333', '993.24994', '254.95833', '861.54163', '261', '805.95831', '279.125', '738.29163', '285.16666', '723.79163', '304.5', '662.16663', '311.75', '635.58331', '315.375', '612.625', '216.29166', '612.625'],
        'manBackRightLeg': ['327.45831', '612.625', '340.75', '676.66663', '358.875', '728.625', '360.08331', '749.16663', '385.45831', '813.20831', '383.04166', '834.95831', '412.04166', '982.37494', '409.625', '1018.6249', '416.875', '1035.5416', '409.625', '1087.5', '420.5', '1114.0833', '437.41666', '1124.9583', '479.70831', '1092.3333', '456.75', '1027.0833', '456.75', '1002.9166', '449.5', '984.79163', '454.33331', '860.33331', '451.91666', '834.95831', '447.08331', '814.41663', '436.20831', '790.25', '436.20831', '770.91663', '428.95831', '744.33331', '426.54166', '640.41663', '421.70831', '612.625', '327.45831', '612.625'],
        'manBackNeck': ['222.33333', '225.95833', '228.375', '223.54166', '240.45833', '207.83333', '276.70831', '187.29166', '283.95831', '165.54166', '346.79166', '161.91666', '345.58331', '177.625', '350.41666', '187.29166', '393.91666', '212.66666', '414.45831', '225.95833', '222.33333', '225.95833'],
        'manBackHead': ['282.75', '165.54166', '262.20831', '116', '256.16666', '85.791664', '262.20831', '66.458328', '286.375', '39.875', '312.95831', '35.041664', '341.95831', '48.333332', '360.08331', '73.708328', '361.29166', '100.29166', '345.58331', '159.5', '282.75', '165.54166'],
        'manBackLeftEar': ['274.29166', '147.41666', '268.25', '147.41666', '254.95833', '123.24999', '263.41666', '116', '274.29166', '147.41666'],
        'manBackRightEar': ['351.625', '141.375', '357.66666', '140.16666', '364.91666', '116', '357.66666', '109.95833', '351.625', '141.375']
    };
    var manBackId = {
        'manBackLeftArm': '07',
        'manBackRightArm': '07',
        'manBackBack': '16',
        'manBackWaist': '05',
        'manBackButtocks': '06',
        'manBackLeftLeg': '08',
        'manBackRightLeg': '08',
        'manBackNeck': '02',
        'manBackHead': '0104',
        'manBackLeftEar': '0102',
        'manBackRightEar': '0102'
    };

    var womenFrontPoints = {
        'womenFrontLeftArm': ['227.16666', '222.33333', '227.16666', '319', '212.66666', '356.45831', '169.16666', '442.25', '148.625', '472.45831', '83.375', '542.54163', '85.791664', '548.58331', '60.416664', '610.20831', '45.916664', '612.625', '54.375', '584.83331', '9.666666', '628.33331', '1.2083333', '624.70831', '39.875', '552.20831', '58', '538.91663', '117.20833', '413.25', '142.58333', '385.45831', '184.875', '296.04166', '192.125', '265.83331', '200.58333', '242.87498', '216.29166', '228.375', '227.16666', '222.33333'],
        'womenFrontRightArm': ['398.75', '216.29166', '398.75', '304.5', '424.125', '364.91666', '454.33331', '428.95831', '485.74997', '476.08331', '507.49997', '497.83331', '549.79163', '540.125', '546.16663', '549.79163', '571.54163', '609', '586.04163', '606.58331', '580', '583.625', '621.08331', '629.54163', '630.75', '622.29163', '594.5', '554.625', '577.58331', '541.33331', '511.12497', '409.625', '480.91666', '374.58331', '439.83331', '277.91666', '432.58331', '247.70833', '420.5', '230.79166', '418.08331', '224.75', '398.75', '216.29166'],
        'womenFrontChest': ['227.16666', '222.33333', '227.16666', '319', '227.16666', '338.33331', '238.04166', '362.5', '239.24998', '364.91666', '241.66666', '383.04166', '387.875', '383.04166', '398.75', '344.375', '401.16666', '316.58331', '398.75', '304.5', '398.75', '216.29166', '227.16666', '222.33333'],
        'womenFrontStomach': ['241.66666', '383.04166', '244.08333', '439.83331', '221.125', '488.16666', '399.95831', '488.16666', '380.625', '431.375', '387.875', '383.04166', '241.66666', '383.04166'],
        'womenFrontPerineum': ['221.125', '488.16666', '212.66666', '520.79163', '211.45833', '530.45831', '215.08333', '613.83331', '312.95831', '613.83331', '310.54166', '578.79163', '320.20831', '581.20831', '320.20831', '613.83331', '412.04166', '613.83331', '413.25', '554.625', '398.75', '480.91666', '399.95831', '488.16666', '221.125', '488.16666'],
        'womenFrontLeftLeg': ['215.08333', '613.83331', '216.29166', '650.08331', '251.33333', '803.54163', '241.66666', '837.375', '241.66666', '870', '248.91666', '975.12494', '259.79166', '1053.6666', '253.74998', '1082.6666', '238.04166', '1105.625', '241.66666', '1114.0833', '292.41666', '1123.75', '297.25', '1091.125', '303.29166', '1085.0833', '299.66666', '1042.7916', '308.125', '879.66663', '304.5', '824.08331', '311.75', '770.91663', '310.54166', '673.04163', '311.75', '631.95831', '312.95831', '613.83331', '215.08333', '613.83331'],
        'womenFrontRightLeg': ['320.20831', '613.83331', '317.79166', '629.54163', '319', '754', '315.375', '761.25', '314.16666', '796.29163', '328.66666', '827.70831', '326.25', '845.83331', '320.20831', '879.66663', '333.5', '1012.5833', '326.25', '1050.0416', '323.83331', '1085.0833', '329.875', '1094.75', '332.29166', '1109.25', '335.91666', '1120.125', '352.83331', '1123.75', '383.04166', '1115.2916', '387.875', '1102', '368.54166', '1056.0833', '390.29166', '890.54163', '386.66666', '842.20831', '374.58331', '785.41663', '391.5', '726.20831', '415.66666', '625.91663', '413.25', '552.20831', '412.04166', '613.83331', '320.20831', '613.83331'],
        'womenFrontNeck': ['227.16666', '222.33333', '267.04166', '206.625', '264.625', '176.41666', '288.79166', '171.58333', '302.08331', '184.875', '325.04166', '182.45833', '373.375', '167.95833', '357.66666', '201.79166', '398.75', '216.29166', '227.16666', '222.33333'],
        'womenFrontFace': ['267.04166', '206.625', '253.74998', '143.79166', '276.70831', '141.375', '275.5', '132.91666', '303.29166', '126.87499', '296.04166', '146.20833', '298.45831', '167.95833', '329.875', '165.54166', '331.08331', '145', '325.04166', '129.29166', '348', '128.08333', '348', '148.625', '338.33331', '169.16666', '323.83331', '182.45833', '300.875', '183.66666', '286.375', '167.95833', '267.04166', '206.625'],
        'womenFrontLeftEar': ['253.74998', '140.16666', '252.54166', '100.29166', '277.91666', '96.666664', '274.29166', '141.375', '253.74998', '140.16666'],
        'womenFrontRightEar': ['363.70831', '145', '363.70831', '116', '351.625', '113.58333', '350.41666', '148.625', '363.70831', '145'],
        'womenFrontLeftEye': ['275.5', '106.33333', '277.91666', '130.5', '306.91666', '125.66666', '309.33331', '99.083328', '275.5', '106.33333'],
        'womenFrontRightEye': ['314.16666', '100.29166', '323.83331', '128.08333', '348', '125.66666', '348', '101.5', '314.16666', '100.29166'],
        'womenFrontNoise': ['312.95831', '107.54166', '298.45831', '140.16666', '302.08331', '146.20833', '327.45831', '146.20833', '328.66666', '137.75', '312.95831', '107.54166'],
        'womenFrontHead': ['254.95833', '101.5', '275.5', '55.583332', '298.45831', '42.291664', '326.25', '41.083332', '351.625', '50.75', '373.375', '80.958328', '374.58331', '96.666664', '254.95833', '101.5'],
        'womenFrontMouse': ['299.66666', '148.625', '300.875', '166.75', '329.875', '166.75', '329.875', '148.625', '299.66666', '148.625']
    };
    var womenFrontId = {
        'womenFrontLeftArm': '07',
        'womenFrontRightArm': '07',
        'womenFrontChest': '03',
        'womenFrontStomach': '04',
        'womenFrontPerineum': '12',
        'womenFrontLeftLeg': '08',
        'womenFrontRightLeg': '08',
        'womenFrontNeck': '02',
        'womenFrontFace': '0105',
        'womenFrontLeftEar': '0102',
        'womenFrontRightEar': '0102',
        'womenFrontLeftEye': '0107',
        'womenFrontRightEye': '0107',
        'womenFrontNoise': '0101',
        'womenFrontHead': '0104',
        'womenFrontMouse': '0103'
    };

    var womenBackPoints = {
        'womenBackLeftArm': ['234.41666', '227.16666', '233.20833', '341.95831', '193.33333', '399.95831', '189.70833', '412.04166', '164.33333', '454.33331', '83.375', '547.375', '82.166664', '561.875', '67.666664', '590.875', '61.624996', '611.41663', '44.708332', '612.625', '53.166664', '588.45831', '10.875', '635.58331', '1.2083333', '627.125', '41.083332', '553.41663', '59.208332', '543.75', '122.04166', '413.25', '155.875', '374.58331', '163.125', '339.54166', '188.5', '296.04166', '207.83333', '239.24998', '225.95833', '225.95833', '234.41666', '227.16666'],
        'womenBackRightArm': ['407.20831', '223.54166', '407.20831', '337.125', '410.83331', '350.41666', '453.125', '428.95831', '494.20831', '485.74997', '549.79163', '547.375', '549.79163', '559.45831', '576.375', '613.83331', '587.25', '611.41663', '580', '586.04163', '623.5', '633.16663', '630.75', '621.08331', '596.91663', '557.04163', '576.375', '540.125', '518.375', '413.25', '488.16666', '379.41666', '473.66666', '345.58331', '438.625', '276.70831', '438.625', '257.375', '419.29166', '229.58333', '407.20831', '223.54166'],
        'womenBackBack': ['234.41666', '227.16666', '233.20833', '341.95831', '240.45833', '380.625', '395.125', '380.625', '404.79166', '349.20831', '407.20831', '337.125', '407.20831', '223.54166', '234.41666', '227.16666'],
        'womenBackWaist': ['240.45833', '380.625', '248.91666', '398.75', '248.91666', '439.83331', '234.41666', '468.83331', '399.95831', '468.83331', '383.04166', '438.625', '387.875', '399.95831', '395.125', '380.625', '240.45833', '380.625'],
        'womenBackButtocks': ['234.41666', '468.83331', '223.54166', '494.20831', '217.5', '611.41663', '310.54166', '611.41663', '312.95831', '587.25', '322.625', '582.41663', '323.83331', '611.41663', '415.66666', '611.41663', '418.08331', '549.79163', '401.16666', '474.87497', '399.95831', '468.83331', '234.41666', '468.83331'],
        'womenBackLeftLeg': ['217.5', '611.41663', '221.125', '667', '254.95833', '803.54163', '238.04166', '870', '241.66666', '911.08331', '263.41666', '1046.4166', '254.95833', '1060.9166', '256.16666', '1079.0416', '242.87498', '1092.3333', '238.04166', '1102', '246.49998', '1114.0833', '287.58331', '1117.7083', '304.5', '1110.4583', '293.625', '1034.3333', '302.08331', '947.33331', '308.125', '931.625', '310.54166', '862.75', '303.29166', '827.70831', '311.75', '801.125', '310.54166', '669.41663', '310.54166', '611.41663'],
        'womenBackRightLeg': ['323.83331', '611.41663', '320.20831', '797.5', '335.91666', '841', '329.875', '863.95831', '327.45831', '912.29163', '340.75', '1012.5833', '331.08331', '1100.7916', '343.16666', '1115.2916', '373.375', '1115.2916', '393.91666', '1102', '379.41666', '1075.4166', '379.41666', '1056.0833', '369.75', '1045.2083', '389.08331', '938.875', '395.125', '863.95831', '380.625', '810.79163', '379.41666', '781.79163', '387.875', '757.625', '416.875', '629.54163', '415.66666', '611.41663'],
        'womenBackNeck': ['234.41666', '227.16666', '262.20831', '216.29166', '279.125', '204.20833', '372.16666', '204.20833', '369.75', '213.875', '407.20831', '223.54166', '234.41666', '227.16666'],
        'womenBackHead': ['279.125', '205.41666', '262.20831', '182.45833', '246.49998', '157.08333', '259.79166', '87', '281.54166', '59.208332', '312.95831', '44.708332', '338.33331', '41.083332', '369.75', '71.291664', '384.25', '105.125', '383.04166', '165.54166', '372.16666', '204.20833', '279.125', '205.41666']
    };
    var womenBackId = {
        'womenBackLeftArm': '07',
        'womenBackRightArm': '07',
        'womenBackBack': '16',
        'womenBackWaist': '05',
        'womenBackButtocks': '06',
        'womenBackLeftLeg': '08',
        'womenBackRightLeg': '08',
        'womenBackNeck': '02',
        'womenBackHead': '0104'
    };

    var bodyClickSuccess = function (returnData) {
        if(returnData.status == '99'){
            swal(returnData.msg);
        }else{

        }
    };

    function setImageAndData() {
        if (male && front) {
            console.log('1');
            points = manFrontPoints;
            pointIds = manFrontId;
            $('.menu-img').attr('src', 'image/man-front.png');
        } else if (male && !front) {
            console.log('2');
            points = manBackPoints;
            pointIds = manBackId;
            $('.menu-img').attr('src', 'image/man-back.png');
        } else if (!male && front) {
            console.log('3');
            points = womenFrontPoints;
            pointIds = womenFrontId;
            $('.menu-img').attr('src', 'image/women-front.png');
        } else {
            console.log('4');
            points = womenBackPoints;
            pointIds = womenBackId;
            $('.menu-img').attr('src', 'image/women-back.png');
        }

        var imagewidth = $(".ddd img").width();
        var imageheight = $(".ddd img").height();

        var mapHtml = '';
        $.each(points, function (id, values) {
            var coordsValue = '';
            $.each(values, function (index, value) {
                if (index % 2 == 0) {
                    coordsValue += imagewidth * (value / imgWidth);
                } else {
                    coordsValue += imageheight * (value / imgHeight);
                }
                if (values.length != (index + 1)) {
                    coordsValue += ',';
                }
            });
            var arrays = [];
            arrays.push(values);
            mapHtml += '<area class="body-part" shape="poly" id=' + id + ' title=' + id + ' coords=' + coordsValue + '/>';
        });
        $('#CribMap').html(mapHtml);

        $('.body-part').on('click', function () {
            var title = $(this).attr('title');
            console.log(title);
            showCanvas(points[title]);
            if(male){
                sessionStorage.sex = 1;
                localStorage.sex = 1;
            }else{
                sessionStorage.sex = 0;
                localStorage.sex = 0;
            }
            if(front){
                localStorage.front = 1;
            }else{
                localStorage.front = 0;
            }

            var code = pointIds[title];

            if(code.length == 2 && code != "10" && code != "15" && code != "16" && code != "17"){
                sessionStorage.bigPartBodyId = code;
                location.href = 'smartbodyParts.html';
            }else{
                sessionStorage.smallPartBodyId = code;
                location.href = 'smartDiagnosePart.html';
            }
        })
    }

    function showCanvas(areaPoints) {
        var imagewidth = $(".ddd img").width();
        var imageheight = $(".ddd img").height();

        var porins = [];
        for(var i=0;i<areaPoints.length/2-1;i++){
            porins.push([areaPoints[i*2],areaPoints[i*2+1]]);
        }

        var canvas = document.getElementById("myCanvas");
        canvas.width = document.body.clientWidth * 0.9;
        canvas.height = document.body.clientHeight * 0.8;
        var cxt = canvas.getContext("2d");
        cxt.globalAlpha = 0.5;
        cxt.fillStyle='#4C4C4C';
        cxt.beginPath();
        $.each(porins, function (index, values) {
            cxt.lineTo(imagewidth * (values[0] / imgWidth),imageheight * (values[1] / imgHeight));
        });
        cxt.closePath();
        cxt.fill();
    }

    $(function () {
        console.log($('input'));
        if(localStorage.sex == 0){
            male = false;
            $('input')[1].checked = true;
            $('input')[0].checked = false;
        }
        if(localStorage.front == 0){
            front = false;
            $('input')[3].checked = true;
            $('input')[2].checked = false;
        }
        setImageAndData();

        $('input').click(function () {
            var text = $(this).parent().next('p').html();
            if (text == '女') {
                male = false;
            } else if (text == '男') {
                male = true;
            } else if (text == '后背') {
                front = false;
            } else {
                front = true;
            }
            setImageAndData();
        })
    })
</script>
</body>
</html>
